if(function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||J;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function r(t){var e=!!t&&"length"in t&&t.length,n=ht.type(t);return"function"!==n&&!ht.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ht.isFunction(e))return ht.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return ht.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(_t.test(e))return ht.filter(e,t,n);e=ht.filter(e,t)}return ht.grep(t,function(t){return it.call(e,t)>-1!==n&&1===t.nodeType})}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return ht.each(t.match(Dt)||[],function(t,n){e[n]=!0}),e}function s(t){return t}function l(t){throw t}function u(t,e,n){var r;try{t&&ht.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&ht.isFunction(r=t.then)?r.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function c(){J.removeEventListener("DOMContentLoaded",c),t.removeEventListener("load",c),ht.ready()}function d(){this.expando=ht.expando+d.uid++}function h(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(It,"-$&").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Pt.test(n)?JSON.parse(n):n)}catch(i){}Nt.set(t,e,n)}else n=void 0;return n}function f(t,e,n,r){var i,a=1,o=20,s=r?function(){return r.cur()}:function(){return ht.css(t,e,"")},l=s(),u=n&&n[3]||(ht.cssNumber[e]?"":"px"),c=(ht.cssNumber[e]||"px"!==u&&+l)&&jt.exec(ht.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do a=a||".5",c/=a,ht.style(t,e,c+u);while(a!==(a=s()/l)&&1!==a&&--o)}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function p(t){var e,n=t.ownerDocument,r=t.nodeName,i=Bt[r];return i?i:(e=n.body.appendChild(n.createElement(r)),i=ht.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Bt[r]=i,i)}function g(t,e){for(var n,r,i=[],a=0,o=t.length;a<o;a++)r=t[a],r.style&&(n=r.style.display,e?("none"===n&&(i[a]=Lt.get(r,"display")||null,i[a]||(r.style.display="")),""===r.style.display&&Ft(r)&&(i[a]=p(r))):"none"!==n&&(i[a]="none",Lt.set(r,"display",n)));for(a=0;a<o;a++)null!=i[a]&&(t[a].style.display=i[a]);return t}function m(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ht.nodeName(t,e)?ht.merge([t],n):n}function v(t,e){for(var n=0,r=t.length;n<r;n++)Lt.set(t[n],"globalEval",!e||Lt.get(e[n],"globalEval"))}function y(t,e,n,r,i){for(var a,o,s,l,u,c,d=e.createDocumentFragment(),h=[],f=0,p=t.length;f<p;f++)if(a=t[f],a||0===a)if("object"===ht.type(a))ht.merge(h,a.nodeType?[a]:a);else if(Ut.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(Gt.exec(a)||["",""])[1].toLowerCase(),l=qt[s]||qt._default,o.innerHTML=l[1]+ht.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;ht.merge(h,o.childNodes),o=d.firstChild,o.textContent=""}else h.push(e.createTextNode(a));for(d.textContent="",f=0;a=h[f++];)if(r&&ht.inArray(a,r)>-1)i&&i.push(a);else if(u=ht.contains(a.ownerDocument,a),o=m(d.appendChild(a),"script"),u&&v(o),n)for(c=0;a=o[c++];)Yt.test(a.type||"")&&n.push(a);return d}function b(){return!0}function w(){return!1}function x(){try{return J.activeElement}catch(t){}}function _(t,e,n,r,i,a){var o,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(s in e)_(t,s,n,r,e[s],a);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=w;else if(!i)return t;return 1===a&&(o=i,i=function(t){return ht().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=ht.guid++)),t.each(function(){ht.event.add(this,e,i,r,n)})}function C(t,e){return ht.nodeName(t,"table")&&ht.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function S(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function T(t){var e=ee.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function E(t,e){var n,r,i,a,o,s,l,u;if(1===e.nodeType){if(Lt.hasData(t)&&(a=Lt.access(t),o=Lt.set(e,a),u=a.events)){delete o.handle,o.events={};for(i in u)for(n=0,r=u[i].length;n<r;n++)ht.event.add(e,i,u[i][n])}Nt.hasData(t)&&(s=Nt.access(t),l=ht.extend({},s),Nt.set(e,l))}}function M(t,e){var n=e.nodeName.toLowerCase();"input"===n&&$t.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function D(t,e,r,i){e=nt.apply([],e);var a,o,s,l,u,c,d=0,h=t.length,f=h-1,p=e[0],g=ht.isFunction(p);if(g||h>1&&"string"==typeof p&&!ct.checkClone&&te.test(p))return t.each(function(n){var a=t.eq(n);g&&(e[0]=p.call(this,n,a.html())),D(a,e,r,i)});if(h&&(a=y(e,t[0].ownerDocument,!1,t,i),o=a.firstChild,1===a.childNodes.length&&(a=o),o||i)){for(s=ht.map(m(a,"script"),S),l=s.length;d<h;d++)u=a,d!==f&&(u=ht.clone(u,!0,!0),l&&ht.merge(s,m(u,"script"))),r.call(t[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,ht.map(s,T),d=0;d<l;d++)u=s[d],Yt.test(u.type||"")&&!Lt.access(u,"globalEval")&&ht.contains(c,u)&&(u.src?ht._evalUrl&&ht._evalUrl(u.src):n(u.textContent.replace(ne,""),c))}return t}function k(t,e,n){for(var r,i=e?ht.filter(e,t):t,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||ht.cleanData(m(r)),r.parentNode&&(n&&ht.contains(r.ownerDocument,r)&&v(m(r,"script")),r.parentNode.removeChild(r));return t}function A(t,e,n){var r,i,a,o,s=t.style;return n=n||ae(t),n&&(o=n.getPropertyValue(e)||n[e],""!==o||ht.contains(t.ownerDocument,t)||(o=ht.style(t,e)),!ct.pixelMarginRight()&&ie.test(o)&&re.test(e)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function O(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function R(t){if(t in ce)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ue.length;n--;)if(t=ue[n]+e,t in ce)return t}function L(t,e,n){var r=jt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function N(t,e,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===e?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=ht.css(t,n+Ht[a],!0,i)),r?("content"===n&&(o-=ht.css(t,"padding"+Ht[a],!0,i)),"margin"!==n&&(o-=ht.css(t,"border"+Ht[a]+"Width",!0,i))):(o+=ht.css(t,"padding"+Ht[a],!0,i),"padding"!==n&&(o+=ht.css(t,"border"+Ht[a]+"Width",!0,i)));return o}function P(t,e,n){var r,i=!0,a=ae(t),o="border-box"===ht.css(t,"boxSizing",!1,a);if(t.getClientRects().length&&(r=t.getBoundingClientRect()[e]),r<=0||null==r){if(r=A(t,e,a),(r<0||null==r)&&(r=t.style[e]),ie.test(r))return r;i=o&&(ct.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+N(t,e,n||(o?"border":"content"),i,a)+"px"}function I(t,e,n,r,i){return new I.prototype.init(t,e,n,r,i)}function z(){he&&(t.requestAnimationFrame(z),ht.fx.tick())}function j(){return t.setTimeout(function(){de=void 0}),de=ht.now()}function H(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)n=Ht[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function F(t,e,n){for(var r,i=($.tweeners[e]||[]).concat($.tweeners["*"]),a=0,o=i.length;a<o;a++)if(r=i[a].call(n,e,t))return r}function W(t,e,n){var r,i,a,o,s,l,u,c,d="width"in e||"height"in e,h=this,f={},p=t.style,m=t.nodeType&&Ft(t),v=Lt.get(t,"fxshow");n.queue||(o=ht._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,ht.queue(t,"fx").length||o.empty.fire()})}));for(r in e)if(i=e[r],fe.test(i)){if(delete e[r],a=a||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;m=!0}f[r]=v&&v[r]||ht.style(t,r)}if(l=!ht.isEmptyObject(e),l||!ht.isEmptyObject(f)){d&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=v&&v.display,null==u&&(u=Lt.get(t,"display")),c=ht.css(t,"display"),"none"===c&&(u?c=u:(g([t],!0),u=t.style.display||u,c=ht.css(t,"display"),g([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===ht.css(t,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(r in f)l||(v?"hidden"in v&&(m=v.hidden):v=Lt.access(t,"fxshow",{display:u}),a&&(v.hidden=!m),m&&g([t],!0),h.done(function(){m||g([t]),Lt.remove(t,"fxshow");for(r in f)ht.style(t,r,f[r])})),l=F(m?v[r]:0,r,h),r in v||(v[r]=l.start,m&&(l.end=l.start,l.start=0))}}function B(t,e){var n,r,i,a,o;for(n in t)if(r=ht.camelCase(n),i=e[r],a=t[n],ht.isArray(a)&&(i=a[1],a=t[n]=a[0]),n!==r&&(t[r]=a,delete t[n]),o=ht.cssHooks[r],o&&"expand"in o){a=o.expand(a),delete t[r];for(n in a)n in t||(t[n]=a[n],e[n]=i)}else e[r]=i}function $(t,e,n){var r,i,a=0,o=$.prefilters.length,s=ht.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=de||j(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,a=1-r,o=0,l=u.tweens.length;o<l;o++)u.tweens[o].run(a);return s.notifyWith(t,[u,a,n]),a<1&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:ht.extend({},e),opts:ht.extend(!0,{specialEasing:{},easing:ht.easing._default},n),originalProperties:e,originalOptions:n,startTime:de||j(),duration:n.duration,tweens:[],createTween:function(e,n){var r=ht.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(B(c,u.opts.specialEasing);a<o;a++)if(r=$.prefilters[a].call(u,t,c,u.opts))return ht.isFunction(r.stop)&&(ht._queueHooks(u.elem,u.opts.queue).stop=ht.proxy(r.stop,r)),r;return ht.map(c,F,u),ht.isFunction(u.opts.start)&&u.opts.start.call(t,u),ht.fx.timer(ht.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function G(t){return t.getAttribute&&t.getAttribute("class")||""}function Y(t,e,n,r){var i;if(ht.isArray(e))ht.each(e,function(e,i){n||Ee.test(t)?r(t,i):Y(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==ht.type(e))r(t,e);else for(i in e)Y(t+"["+i+"]",e[i],n,r)}function q(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,a=e.toLowerCase().match(Dt)||[];if(ht.isFunction(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function U(t,e,n,r){function i(s){var l;return a[s]=!0,ht.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||o||a[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),l}var a={},o=t===je;return i(e.dataTypes[0])||!a["*"]&&i("*")}function V(t,e){var n,r,i=ht.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&ht.extend(!0,t,r),t}function X(t,e,n){for(var r,i,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)a=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}function Q(t,e,n,r){var i,a,o,s,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=u[l+" "+a]||u["* "+a],!o)for(i in u)if(s=i.split(" "),s[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){o===!0?o=u[i]:u[i]!==!0&&(a=s[0],c.unshift(s[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function K(t){return ht.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Z=[],J=t.document,tt=Object.getPrototypeOf,et=Z.slice,nt=Z.concat,rt=Z.push,it=Z.indexOf,at={},ot=at.toString,st=at.hasOwnProperty,lt=st.toString,ut=lt.call(Object),ct={},dt="3.0.0",ht=function(t,e){return new ht.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^-ms-/,gt=/-([a-z])/g,mt=function(t,e){return e.toUpperCase()};ht.fn=ht.prototype={jquery:dt,constructor:ht,length:0,toArray:function(){return et.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:et.call(this)},pushStack:function(t){var e=ht.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ht.each(this,t)},map:function(t){return this.pushStack(ht.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:rt,sort:Z.sort,splice:Z.splice},ht.extend=ht.fn.extend=function(){var t,e,n,r,i,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||ht.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],r=t[e],o!==r&&(u&&r&&(ht.isPlainObject(r)||(i=ht.isArray(r)))?(i?(i=!1,a=n&&ht.isArray(n)?n:[]):a=n&&ht.isPlainObject(n)?n:{},o[e]=ht.extend(u,a,r)):void 0!==r&&(o[e]=r));return o},ht.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ht.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ht.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ot.call(t))&&(!(e=tt(t))||(n=st.call(e,"constructor")&&e.constructor,"function"==typeof n&&lt.call(n)===ut))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?at[ot.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(pt,"ms-").replace(gt,mt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?ht.merge(n,"string"==typeof t?[t]:t):rt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:it.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],a=0,o=t.length,s=!n;a<o;a++)r=!e(t[a],a),r!==s&&i.push(t[a]);return i},map:function(t,e,n){var i,a,o=0,s=[];if(r(t))for(i=t.length;o<i;o++)a=e(t[o],o,n),null!=a&&s.push(a);else for(o in t)a=e(t[o],o,n),null!=a&&s.push(a);return nt.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),ht.isFunction(t))return r=et.call(arguments,2),i=function(){return t.apply(e||this,r.concat(et.call(arguments)))},i.guid=t.guid=t.guid||ht.guid++,i},now:Date.now,support:ct}),"function"==typeof Symbol&&(ht.fn[Symbol.iterator]=Z[Symbol.iterator]),ht.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){at["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,n,r){var i,a,o,s,l,u,c,h=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:W)!==L&&R(e),e=e||L,P)){if(11!==p&&(l=vt.exec(t)))if(i=l[1]){if(9===p){if(!(o=e.getElementById(i)))return n;if(o.id===i)return n.push(o),n}else if(h&&(o=h.getElementById(i))&&H(e,o)&&o.id===i)return n.push(o),n}else{if(l[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((i=l[3])&&_.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(i)),n}if(_.qsa&&!q[t+" "]&&(!I||!I.test(t))){if(1!==p)h=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(xt,_t):e.setAttribute("id",s=F),u=E(t),a=u.length;a--;)u[a]="#"+s+" "+f(u[a]);c=u.join(","),h=yt.test(t)&&d(e.parentNode)||e}if(c)try{return Z.apply(n,h.querySelectorAll(c)),n}catch(g){}finally{s===F&&e.removeAttribute("id")}}}return D(t.replace(st,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[F]=!0,t}function i(t){var e=L.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=e}function o(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!St(e))!==t)}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,a=t([],n.length,e),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=e.next,a=i||r,o=n&&"parentNode"===a,s=$++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||o)return t(e,n,i)}:function(e,n,l){var u,c,d,h=[B,s];if(l){for(;e=e[r];)if((1===e.nodeType||o)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||o)if(d=e[F]||(e[F]={}),c=d[e.uniqueID]||(d[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=c[a])&&u[0]===B&&u[1]===s)return h[2]=u[2];if(c[a]=h,h[2]=t(e,n,l))return!0}}}function g(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function m(t,n,r){for(var i=0,a=n.length;i<a;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var a,o=[],s=0,l=t.length,u=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,r,i)||(o.push(a),u&&e.push(s)));return o}function y(t,e,n,i,a,o){return i&&!i[F]&&(i=y(i)),a&&!a[F]&&(a=y(a,o)),r(function(r,o,s,l){var u,c,d,h=[],f=[],p=o.length,g=r||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?g:v(g,h,t,s,l),b=n?a||(r?t:p||i)?[]:o:y;if(n&&n(y,b,s,l),i)for(u=v(b,f),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[f[c]]=!(y[f[c]]=d));if(r){if(a||t){if(a){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);a(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=a?tt(r,d):h[c])>-1&&(r[u]=!(o[u]=d))}}else b=v(b===o?b.splice(p,b.length):b),a?a(null,o,b,l):Z.apply(o,b)})}function b(t){for(var e,n,r,i=t.length,a=C.relative[t[0].type],o=a||C.relative[" "],s=a?1:0,l=p(function(t){return t===e},o,!0),u=p(function(t){return tt(e,t)>-1},o,!0),c=[function(t,n,r){var i=!a&&(r||n!==k)||((e=n).nodeType?l(t,n,r):u(t,n,r));return e=null,i}];s<i;s++)if(n=C.relative[t[s].type])c=[p(g(c),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[F]){for(r=++s;r<i&&!C.relative[t[r].type];r++);return y(s>1&&g(c),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<r&&b(t.slice(s,r)),r<i&&b(t=t.slice(r)),r<i&&f(t))}c.push(n)}return g(c)}function w(t,n){var i=n.length>0,a=t.length>0,o=function(r,o,s,l,u){var c,d,h,f=0,p="0",g=r&&[],m=[],y=k,b=r||a&&C.find.TAG("*",u),w=B+=null==y?1:Math.random()||.1,x=b.length;for(u&&(k=o===L||o||u);p!==x&&null!=(c=b[p]);p++){if(a&&c){for(d=0,o||c.ownerDocument===L||(R(c),s=!P);h=t[d++];)if(h(c,o||L,s)){l.push(c);break}u&&(B=w)}i&&((c=!h&&c)&&f--,r&&g.push(c))}if(f+=p,i&&p!==f){for(d=0;h=n[d++];)h(g,m,o,s);if(r){if(f>0)for(;p--;)g[p]||m[p]||(m[p]=Q.call(l));m=v(m)}Z.apply(l,m),u&&!r&&m.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(B=w,k=y),g};return i?r(o):o}var x,_,C,S,T,E,M,D,k,A,O,R,L,N,P,I,z,j,H,F="sizzle"+1*new Date,W=t.document,B=0,$=0,G=n(),Y=n(),q=n(),U=function(t,e){return t===e&&(O=!0),0},V={}.hasOwnProperty,X=[],Q=X.pop,K=X.push,Z=X.push,J=X.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",ot=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(at),ht=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,_t=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ct=function(){R()},St=p(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{Z.apply(X=J.call(W.childNodes),W.childNodes),X[W.childNodes.length].nodeType}catch(Tt){Z={apply:X.length?function(t,e){K.apply(t,J.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}_=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},R=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:W;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,N=L.documentElement,P=!T(L),W!==L&&(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),_.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=i(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=mt.test(L.getElementsByClassName),_.getById=i(function(t){return N.appendChild(t).id=F,!L.getElementsByName||!L.getElementsByName(F).length}),_.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=_.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},C.find.CLASS=_.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&P)return e.getElementsByClassName(t)},z=[],I=[],(_.qsa=mt.test(L.querySelectorAll))&&(i(function(t){N.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||I.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(_.matchesSelector=mt.test(j=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&i(function(t){_.disconnectedMatch=j.call(t,"*"),j.call(t,"[s!='']:x"),z.push("!=",at)}),I=I.length&&new RegExp(I.join("|")),z=z.length&&new RegExp(z.join("|")),e=mt.test(N.compareDocumentPosition),H=e||mt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return O=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===L||t.ownerDocument===W&&H(W,t)?-1:e===L||e.ownerDocument===W&&H(W,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return O=!0,0;var n,r=0,i=t.parentNode,a=e.parentNode,s=[t],l=[e];if(!i||!a)return t===L?-1:e===L?1:i?-1:a?1:A?tt(A,t)-tt(A,e):0;if(i===a)return o(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?o(s[r],l[r]):s[r]===W?-1:l[r]===W?1:0},L):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&R(t),n=n.replace(ct,"='$1']"),_.matchesSelector&&P&&!q[n+" "]&&(!z||!z.test(n))&&(!I||!I.test(n)))try{var r=j.call(t,n);if(r||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&R(t),H(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&R(t);var n=C.attrHandle[e.toLowerCase()],r=n&&V.call(C.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==r?r:_.attributes||!P?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(xt,_t)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(O=!_.detectDuplicates,A=!_.sortStable&&t.slice(0),t.sort(U),O){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return A=null,t},S=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=S(e);return n},C=e.selectors={cacheLength:50,createPseudo:r,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var a=e.attr(i,t);return null==a?"!="===n:!n||(a+="","="===n?a===r:"!="===n?a!==r:"^="===n?r&&0===a.indexOf(r):"*="===n?r&&a.indexOf(r)>-1:"$="===n?r&&a.slice(-r.length)===r:"~="===n?(" "+a.replace(ot," ")+" ").indexOf(r)>-1:"|="===n&&(a===r||a.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,g=a!==o?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(a){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&y){for(h=m,d=h[F]||(h[F]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],f=u[0]===B&&u[1],b=f&&u[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){c[t]=[B,f,b];break}}else if(y&&(h=e,d=h[F]||(h[F]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],f=u[0]===B&&u[1],b=f),b===!1)for(;(h=++f&&h&&h[g]||(b=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[F]||(h[F]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[t]=[B,b]),h!==e)););return b-=i,b===r||b%r===0&&b/r>=0}}},PSEUDO:function(t,n){var i,a=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[F]?a(n):a.length>1?(i=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=a(t,n),o=i.length;o--;)r=tt(t,i[o]),t[r]=!(e[r]=i[o])}):function(t){return a(t,0,i)}):a}},pseudos:{not:r(function(t){var e=[],n=[],i=M(t.replace(st,"$1"));return i[F]?r(function(t,e,n,r){for(var a,o=i(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,r,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:r(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){
for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},C.pseudos.nth=C.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=l(x);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,E=e.tokenize=function(t,n){var r,i,a,o,s,l,u,c=Y[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=C.preFilter;s;){r&&!(i=lt.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),r=!1,(i=ut.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(st," ")}),s=s.slice(r.length));for(o in C.filter)!(i=ft[o].exec(s))||u[o]&&!(i=u[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):Y(t,l).slice(0)},M=e.compile=function(t,e){var n,r=[],i=[],a=q[t+" "];if(!a){for(e||(e=E(t)),n=e.length;n--;)a=b(e[n]),a[F]?r.push(a):i.push(a);a=q(t,w(i,r)),a.selector=t}return a},D=e.select=function(t,e,n,r){var i,a,o,s,l,u="function"==typeof t&&t,c=!r&&E(t=u.selector||t);if(n=n||[],1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&_.getById&&9===e.nodeType&&P&&C.relative[a[1].type]){if(e=(C.find.ID(o.matches[0].replace(bt,wt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(i=ft.needsContext.test(t)?0:a.length;i--&&(o=a[i],!C.relative[s=o.type]);)if((l=C.find[s])&&(r=l(o.matches[0].replace(bt,wt),yt.test(a[0].type)&&d(e.parentNode)||e))){if(a.splice(i,1),t=r.length&&f(a),!t)return Z.apply(n,r),n;break}}return(u||M(t,c))(r,e,!P,n,!e||yt.test(t)&&d(e.parentNode)||e),n},_.sortStable=F.split("").sort(U).join("")===F,_.detectDuplicates=!!O,R(),_.sortDetached=i(function(t){return 1&t.compareDocumentPosition(L.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||a(et,function(t,e,n){var r;if(!n)return t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);ht.find=vt,ht.expr=vt.selectors,ht.expr[":"]=ht.expr.pseudos,ht.uniqueSort=ht.unique=vt.uniqueSort,ht.text=vt.getText,ht.isXMLDoc=vt.isXML,ht.contains=vt.contains,ht.escapeSelector=vt.escape;var yt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&ht(t).is(n))break;r.push(t)}return r},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},wt=ht.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,_t=/^.[^:#\[\.,]*$/;ht.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?ht.find.matchesSelector(r,t)?[r]:[]:ht.find.matches(t,ht.grep(e,function(t){return 1===t.nodeType}))},ht.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(ht(t).filter(function(){for(e=0;e<r;e++)if(ht.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)ht.find(t,i[e],n);return r>1?ht.uniqueSort(n):n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&wt.test(t)?ht(t):t||[],!1).length}});var Ct,St=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Tt=ht.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Ct,"string"==typeof t){if(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:St.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof ht?e[0]:e,ht.merge(this,ht.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),xt.test(r[1])&&ht.isPlainObject(e))for(r in e)ht.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=J.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ht.isFunction(t)?void 0!==n.ready?n.ready(t):t(ht):ht.makeArray(t,this)};Tt.prototype=ht.fn,Ct=ht(J);var Et=/^(?:parents|prev(?:Until|All))/,Mt={children:!0,contents:!0,next:!0,prev:!0};ht.fn.extend({has:function(t){var e=ht(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(ht.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,a=[],o="string"!=typeof t&&ht(t);if(!wt.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&ht.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?ht.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?it.call(ht(t),this[0]):it.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ht.uniqueSort(ht.merge(this.get(),ht(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ht.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,n){return yt(t,"parentNode",n)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,n){return yt(t,"nextSibling",n)},prevUntil:function(t,e,n){return yt(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return t.contentDocument||ht.merge([],t.childNodes)}},function(t,e){ht.fn[t]=function(n,r){var i=ht.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ht.filter(r,i)),this.length>1&&(Mt[t]||ht.uniqueSort(i),Et.test(t)&&i.reverse()),this.pushStack(i)}});var Dt=/\S+/g;ht.Callbacks=function(t){t="string"==typeof t?o(t):ht.extend({},t);var e,n,r,i,a=[],s=[],l=-1,u=function(){for(i=t.once,r=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function r(e){ht.each(e,function(e,n){ht.isFunction(n)?t.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==ht.type(n)&&r(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ht.each(arguments,function(t,e){for(var n;(n=ht.inArray(e,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(t){return t?ht.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=s=[],n||e||(a=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},ht.extend({Deferred:function(e){var n=[["notify","progress",ht.Callbacks("memory"),ht.Callbacks("memory"),2],["resolve","done",ht.Callbacks("once memory"),ht.Callbacks("once memory"),0,"resolved"],["reject","fail",ht.Callbacks("once memory"),ht.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},"catch":function(t){return i.then(null,t)},pipe:function(){var t=arguments;return ht.Deferred(function(e){ht.each(n,function(n,r){var i=ht.isFunction(t[r[4]])&&t[r[4]];a[r[1]](function(){var t=i&&i.apply(this,arguments);t&&ht.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(e,r,i){function a(e,n,r,i){return function(){var u=this,c=arguments,d=function(){var t,d;if(!(e<o)){if(t=r.apply(u,c),t===n.promise())throw new TypeError("Thenable self-resolution");d=t&&("object"==typeof t||"function"==typeof t)&&t.then,ht.isFunction(d)?i?d.call(t,a(o,n,s,i),a(o,n,l,i)):(o++,d.call(t,a(o,n,s,i),a(o,n,l,i),a(o,n,s,n.notifyWith))):(r!==s&&(u=void 0,c=[t]),(i||n.resolveWith)(u,c))}},h=i?d:function(){try{d()}catch(t){ht.Deferred.exceptionHook&&ht.Deferred.exceptionHook(t,h.stackTrace),e+1>=o&&(r!==l&&(u=void 0,c=[t]),n.rejectWith(u,c))}};e?h():(ht.Deferred.getStackHook&&(h.stackTrace=ht.Deferred.getStackHook()),t.setTimeout(h))}}var o=0;return ht.Deferred(function(t){n[0][3].add(a(0,t,ht.isFunction(i)?i:s,t.notifyWith)),n[1][3].add(a(0,t,ht.isFunction(e)?e:s)),n[2][3].add(a(0,t,ht.isFunction(r)?r:l))}).promise()},promise:function(t){return null!=t?ht.extend(t,i):i}},a={};return ht.each(n,function(t,e){var o=e[2],s=e[5];i[e[1]]=o.add,s&&o.add(function(){r=s},n[3-t][2].disable,n[0][2].lock),o.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=o.fireWith}),i.promise(a),e&&e.call(a,a),a},when:function(t){var e=arguments.length,n=e,r=Array(n),i=et.call(arguments),a=ht.Deferred(),o=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?et.call(arguments):n,--e||a.resolveWith(r,i)}};if(e<=1&&(u(t,a.done(o(n)).resolve,a.reject),"pending"===a.state()||ht.isFunction(i[n]&&i[n].then)))return a.then();for(;n--;)u(i[n],o(n),a.reject);return a.promise()}});var kt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ht.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&kt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)};var At=ht.Deferred();ht.fn.ready=function(t){return At.then(t),this},ht.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ht.readyWait++:ht.ready(!0)},ready:function(t){(t===!0?--ht.readyWait:ht.isReady)||(ht.isReady=!0,t!==!0&&--ht.readyWait>0||At.resolveWith(J,[ht]))}}),ht.ready.then=At.then,"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll?t.setTimeout(ht.ready):(J.addEventListener("DOMContentLoaded",c),t.addEventListener("load",c));var Ot=function(t,e,n,r,i,a,o){var s=0,l=t.length,u=null==n;if("object"===ht.type(n)){i=!0;for(s in n)Ot(t,e,s,n[s],!0,a,o)}else if(void 0!==r&&(i=!0,ht.isFunction(r)||(o=!0),u&&(o?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(ht(t),n)})),e))for(;s<l;s++)e(t[s],n,o?r:r.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):l?e(t[0],n):a},Rt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};d.uid=1,d.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Rt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[ht.camelCase(e)]=n;else for(r in e)i[ht.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ht.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){ht.isArray(e)?e=e.map(ht.camelCase):(e=ht.camelCase(e),e=e in r?[e]:e.match(Dt)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||ht.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ht.isEmptyObject(e)}};var Lt=new d,Nt=new d,Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/[A-Z]/g;ht.extend({hasData:function(t){return Nt.hasData(t)||Lt.hasData(t)},data:function(t,e,n){return Nt.access(t,e,n)},removeData:function(t,e){Nt.remove(t,e)},_data:function(t,e,n){return Lt.access(t,e,n)},_removeData:function(t,e){Lt.remove(t,e)}}),ht.fn.extend({data:function(t,e){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(i=Nt.get(a),1===a.nodeType&&!Lt.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=ht.camelCase(r.slice(5)),h(a,r,i[r])));Lt.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Nt.set(this,t)}):Ot(this,function(e){var n;if(a&&void 0===e){if(n=Nt.get(a,t),void 0!==n)return n;if(n=h(a,t),void 0!==n)return n}else this.each(function(){Nt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Nt.remove(this,t)})}}),ht.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Lt.get(t,e),n&&(!r||ht.isArray(n)?r=Lt.access(t,e,ht.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=ht.queue(t,e),r=n.length,i=n.shift(),a=ht._queueHooks(t,e),o=function(){ht.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete a.stop,i.call(t,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Lt.get(t,n)||Lt.access(t,n,{empty:ht.Callbacks("once memory").add(function(){Lt.remove(t,[e+"queue",n])})})}}),ht.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ht.queue(this[0],t):void 0===e?this:this.each(function(){var n=ht.queue(this,t,e);ht._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ht.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ht.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=ht.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)n=Lt.get(a[o],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var zt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,jt=new RegExp("^(?:([+-])=|)("+zt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],Ft=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&ht.contains(t.ownerDocument,t)&&"none"===ht.css(t,"display")},Wt=function(t,e,n,r){var i,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];i=n.apply(t,r||[]);for(a in e)t.style[a]=o[a];return i},Bt={};ht.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ft(this)?ht(this).show():ht(this).hide()})}});var $t=/^(?:checkbox|radio)$/i,Gt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Yt=/^$|\/(?:java|ecma)script/i,qt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td;var Ut=/<|&#?\w+;/;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ct.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Vt=J.documentElement,Xt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^([^.]*)(?:\.(.+)|)/;ht.event={global:{},add:function(t,e,n,r,i){var a,o,s,l,u,c,d,h,f,p,g,m=Lt.get(t);if(m)for(n.handler&&(a=n,n=a.handler,i=a.selector),i&&ht.find.matchesSelector(Vt,i),n.guid||(n.guid=ht.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(e){return"undefined"!=typeof ht&&ht.event.triggered!==e.type?ht.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Dt)||[""],u=e.length;u--;)s=Kt.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(d=ht.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=ht.event.special[f]||{},c=ht.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ht.expr.match.needsContext.test(i),namespace:p.join(".")},a),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&d.setup.call(t,r,p,o)!==!1||t.addEventListener&&t.addEventListener(f,o)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),ht.event.global[f]=!0)},remove:function(t,e,n,r,i){var a,o,s,l,u,c,d,h,f,p,g,m=Lt.hasData(t)&&Lt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(Dt)||[""],u=e.length;u--;)if(s=Kt.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(d=ht.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,h=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)c=h[a],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(a,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));o&&!h.length&&(d.teardown&&d.teardown.call(t,p,m.handle)!==!1||ht.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)ht.event.remove(t,f+e[u],n,r,!0);ht.isEmptyObject(l)&&Lt.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,a,o,s=ht.event.fix(t),l=new Array(arguments.length),u=(Lt.get(this,"events")||{})[s.type]||[],c=ht.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(o=ht.event.handlers.call(this,s,u),e=0;(i=o[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,r=((ht.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,l),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(r=[],n=0;n<s;n++)a=e[n],i=a.selector+" ",void 0===r[i]&&(r[i]=a.needsContext?ht(i,this).index(l)>-1:ht.find(i,this,null,[l]).length),r[i]&&r.push(a);r.length&&o.push({elem:l,handlers:r})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},addProp:function(t,e){Object.defineProperty(ht.Event.prototype,t,{enumerable:!0,configurable:!0,get:ht.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ht.expando]?t:new ht.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ht.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ht.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ht.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ht.Event=function(t,e){return this instanceof ht.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?b:w,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ht.extend(this,e),this.timeStamp=t&&t.timeStamp||ht.now(),void(this[ht.expando]=!0)):new ht.Event(t,e)},ht.Event.prototype={constructor:ht.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ht.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Xt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Qt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ht.event.addProp),ht.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ht.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,a=t.handleObj;return i&&(i===r||ht.contains(r,i))||(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}}),ht.fn.extend({on:function(t,e,n,r){return _(this,t,e,n,r)},one:function(t,e,n,r){return _(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ht(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=w),this.each(function(){ht.event.remove(this,t,n,e)})}});var Zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Jt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ht.extend({htmlPrefilter:function(t){return t.replace(Zt,"<$1></$2>")},clone:function(t,e,n){var r,i,a,o,s=t.cloneNode(!0),l=ht.contains(t.ownerDocument,t);if(!(ct.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ht.isXMLDoc(t)))for(o=m(s),a=m(t),r=0,i=a.length;r<i;r++)M(a[r],o[r]);if(e)if(n)for(a=a||m(t),o=o||m(s),r=0,i=a.length;r<i;r++)E(a[r],o[r]);else E(t,s);return o=m(s,"script"),o.length>0&&v(o,!l&&m(t,"script")),s},cleanData:function(t){for(var e,n,r,i=ht.event.special,a=0;void 0!==(n=t[a]);a++)if(Rt(n)){if(e=n[Lt.expando]){if(e.events)for(r in e.events)i[r]?ht.event.remove(n,r):ht.removeEvent(n,r,e.handle);n[Lt.expando]=void 0}n[Nt.expando]&&(n[Nt.expando]=void 0)}}}),ht.fn.extend({detach:function(t){return k(this,t,!0)},remove:function(t){return k(this,t)},text:function(t){return Ot(this,function(t){return void 0===t?ht.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return D(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.appendChild(t)}})},prepend:function(){return D(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ht.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ht.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Jt.test(t)&&!qt[(Gt.exec(t)||["",""])[1].toLowerCase()]){t=ht.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(ht.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return D(this,arguments,function(e){var n=this.parentNode;ht.inArray(this,t)<0&&(ht.cleanData(m(this)),n&&n.replaceChild(e,this))},t)}}),ht.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ht.fn[t]=function(t){for(var n,r=[],i=ht(t),a=i.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),ht(i[o])[e](n),rt.apply(r,n.get());return this.pushStack(r)}});var re=/^margin/,ie=new RegExp("^("+zt+")(?!px)[a-z%]+$","i"),ae=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Vt.appendChild(o);var e=t.getComputedStyle(s);n="1%"!==e.top,a="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",i="4px"===e.marginRight,Vt.removeChild(o),s=null}}var n,r,i,a,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),ht.extend(ct,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),i},reliableMarginLeft:function(){return e(),a}}))}();var oe=/^(none|table(?!-c[ea]).+)/,se={position:"absolute",visibility:"hidden",display:"block"},le={letterSpacing:"0",fontWeight:"400"},ue=["Webkit","Moz","ms"],ce=J.createElement("div").style;ht.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=A(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,a,o,s=ht.camelCase(e),l=t.style;return e=ht.cssProps[s]||(ht.cssProps[s]=R(s)||s),o=ht.cssHooks[e]||ht.cssHooks[s],void 0===n?o&&"get"in o&&void 0!==(i=o.get(t,!1,r))?i:l[e]:(a=typeof n,"string"===a&&(i=jt.exec(n))&&i[1]&&(n=f(t,e,i),a="number"),null!=n&&n===n&&("number"===a&&(n+=i&&i[3]||(ht.cssNumber[s]?"":"px")),ct.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,r))||(l[e]=n)),void 0)}},css:function(t,e,n,r){var i,a,o,s=ht.camelCase(e);return e=ht.cssProps[s]||(ht.cssProps[s]=R(s)||s),o=ht.cssHooks[e]||ht.cssHooks[s],o&&"get"in o&&(i=o.get(t,!0,n)),void 0===i&&(i=A(t,e,r)),"normal"===i&&e in le&&(i=le[e]),""===n||n?(a=parseFloat(i),n===!0||isFinite(a)?a||0:i):i}}),ht.each(["height","width"],function(t,e){ht.cssHooks[e]={get:function(t,n,r){if(n)return!oe.test(ht.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?P(t,e,r):Wt(t,se,function(){return P(t,e,r)})},set:function(t,n,r){var i,a=r&&ae(t),o=r&&N(t,e,r,"border-box"===ht.css(t,"boxSizing",!1,a),a);return o&&(i=jt.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=ht.css(t,e)),L(t,n,o)}}}),ht.cssHooks.marginLeft=O(ct.reliableMarginLeft,function(t,e){if(e)return(parseFloat(A(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ht.each({margin:"",padding:"",border:"Width"},function(t,e){ht.cssHooks[t+e]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Ht[r]+e]=a[r]||a[r-2]||a[0];return i}},re.test(t)||(ht.cssHooks[t+e].set=L)}),ht.fn.extend({css:function(t,e){return Ot(this,function(t,e,n){var r,i,a={},o=0;if(ht.isArray(e)){for(r=ae(t),i=e.length;o<i;o++)a[e[o]]=ht.css(t,e[o],!1,r);return a}return void 0!==n?ht.style(t,e,n):ht.css(t,e)},t,e,arguments.length>1)}}),ht.Tween=I,I.prototype={constructor:I,init:function(t,e,n,r,i,a){this.elem=t,this.prop=n,this.easing=i||ht.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=a||(ht.cssNumber[n]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,n=I.propHooks[this.prop];return this.options.duration?this.pos=e=ht.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ht.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ht.fx.step[t.prop]?ht.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ht.cssProps[t.prop]]&&!ht.cssHooks[t.prop]?t.elem[t.prop]=t.now:ht.style(t.elem,t.prop,t.now+t.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ht.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ht.fx=I.prototype.init,ht.fx.step={};var de,he,fe=/^(?:toggle|show|hide)$/,pe=/queueHooks$/;ht.Animation=ht.extend($,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return f(n.elem,t,jt.exec(e),n),n}]},tweener:function(t,e){ht.isFunction(t)?(e=t,t=["*"]):t=t.match(Dt);for(var n,r=0,i=t.length;r<i;r++)n=t[r],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?$.prefilters.unshift(t):$.prefilters.push(t)}}),ht.speed=function(t,e,n){var r=t&&"object"==typeof t?ht.extend({},t):{complete:n||!n&&e||ht.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ht.isFunction(e)&&e};return ht.fx.off||J.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in ht.fx.speeds?ht.fx.speeds[r.duration]:ht.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ht.isFunction(r.old)&&r.old.call(this),r.queue&&ht.dequeue(this,r.queue)},r},ht.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Ft).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=ht.isEmptyObject(t),a=ht.speed(e,n,r),o=function(){var e=$(this,ht.extend({},t),a);(i||Lt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",a=ht.timers,o=Lt.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&pe.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=t&&a[i].queue!==t||(a[i].anim.stop(n),e=!1,a.splice(i,1));!e&&n||ht.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Lt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],a=ht.timers,o=r?r.length:0;for(n.finish=!0,ht.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)r[e]&&r[e].finish&&r[e].finish.call(this);
delete n.finish})}}),ht.each(["toggle","show","hide"],function(t,e){var n=ht.fn[e];ht.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(H(e,!0),t,r,i)}}),ht.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ht.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),ht.timers=[],ht.fx.tick=function(){var t,e=0,n=ht.timers;for(de=ht.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ht.fx.stop(),de=void 0},ht.fx.timer=function(t){ht.timers.push(t),t()?ht.fx.start():ht.timers.pop()},ht.fx.interval=13,ht.fx.start=function(){he||(he=t.requestAnimationFrame?t.requestAnimationFrame(z):t.setInterval(ht.fx.tick,ht.fx.interval))},ht.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(he):t.clearInterval(he),he=null},ht.fx.speeds={slow:600,fast:200,_default:400},ht.fn.delay=function(e,n){return e=ht.fx?ht.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),n=e.appendChild(J.createElement("option"));t.type="checkbox",ct.checkOn=""!==t.value,ct.optSelected=n.selected,t=J.createElement("input"),t.value="t",t.type="radio",ct.radioValue="t"===t.value}();var ge,me=ht.expr.attrHandle;ht.fn.extend({attr:function(t,e){return Ot(this,ht.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ht.removeAttr(this,t)})}}),ht.extend({attr:function(t,e,n){var r,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof t.getAttribute?ht.prop(t,e,n):(1===a&&ht.isXMLDoc(t)||(i=ht.attrHooks[e.toLowerCase()]||(ht.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void ht.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=ht.find.attr(t,e),null==r?void 0:r))},attrHooks:{type:{set:function(t,e){if(!ct.radioValue&&"radio"===e&&ht.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Dt);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return e===!1?ht.removeAttr(t,n):t.setAttribute(n,n),n}},ht.each(ht.expr.match.bool.source.match(/\w+/g),function(t,e){var n=me[e]||ht.find.attr;me[e]=function(t,e,r){var i,a,o=e.toLowerCase();return r||(a=me[o],me[o]=i,i=null!=n(t,e,r)?o:null,me[o]=a),i}});var ve=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;ht.fn.extend({prop:function(t,e){return Ot(this,ht.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ht.propFix[t]||t]})}}),ht.extend({prop:function(t,e,n){var r,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&ht.isXMLDoc(t)||(e=ht.propFix[e]||e,i=ht.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=ht.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ct.optSelected||(ht.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ht.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ht.propFix[this.toLowerCase()]=this});var be=/[\t\r\n\f]/g;ht.fn.extend({addClass:function(t){var e,n,r,i,a,o,s,l=0;if(ht.isFunction(t))return this.each(function(e){ht(this).addClass(t.call(this,e,G(this)))});if("string"==typeof t&&t)for(e=t.match(Dt)||[];n=this[l++];)if(i=G(n),r=1===n.nodeType&&(" "+i+" ").replace(be," ")){for(o=0;a=e[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");s=ht.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,a,o,s,l=0;if(ht.isFunction(t))return this.each(function(e){ht(this).removeClass(t.call(this,e,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Dt)||[];n=this[l++];)if(i=G(n),r=1===n.nodeType&&(" "+i+" ").replace(be," ")){for(o=0;a=e[o++];)for(;r.indexOf(" "+a+" ")>-1;)r=r.replace(" "+a+" "," ");s=ht.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ht.isFunction(t)?this.each(function(n){ht(this).toggleClass(t.call(this,n,G(this),e),e)}):this.each(function(){var e,r,i,a;if("string"===n)for(r=0,i=ht(this),a=t.match(Dt)||[];e=a[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=G(this),e&&Lt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Lt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+G(n)+" ").replace(be," ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g,xe=/[\x20\t\r\n\f]+/g;ht.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=ht.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,ht(this).val()):t,null==i?i="":"number"==typeof i?i+="":ht.isArray(i)&&(i=ht.map(i,function(t){return null==t?"":t+""})),e=ht.valHooks[this.type]||ht.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=ht.valHooks[i.type]||ht.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(we,""):null==n?"":n)}}}),ht.extend({valHooks:{option:{get:function(t){var e=ht.find.attr(t,"value");return null!=e?e:ht.trim(ht.text(t)).replace(xe," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,a="select-one"===t.type,o=a?null:[],s=a?i+1:r.length,l=i<0?s:a?i:0;l<s;l++)if(n=r[l],(n.selected||l===i)&&!n.disabled&&(!n.parentNode.disabled||!ht.nodeName(n.parentNode,"optgroup"))){if(e=ht(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,r,i=t.options,a=ht.makeArray(e),o=i.length;o--;)r=i[o],(r.selected=ht.inArray(ht.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),ht.each(["radio","checkbox"],function(){ht.valHooks[this]={set:function(t,e){if(ht.isArray(e))return t.checked=ht.inArray(ht(t).val(),e)>-1}},ct.checkOn||(ht.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var _e=/^(?:focusinfocus|focusoutblur)$/;ht.extend(ht.event,{trigger:function(e,n,r,i){var a,o,s,l,u,c,d,h=[r||J],f=st.call(e,"type")?e.type:e,p=st.call(e,"namespace")?e.namespace.split("."):[];if(o=s=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!_e.test(f+ht.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[ht.expando]?e:new ht.Event(f,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:ht.makeArray(n,[e]),d=ht.event.special[f]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!ht.isWindow(r)){for(l=d.delegateType||f,_e.test(l+f)||(o=o.parentNode);o;o=o.parentNode)h.push(o),s=o;s===(r.ownerDocument||J)&&h.push(s.defaultView||s.parentWindow||t)}for(a=0;(o=h[a++])&&!e.isPropagationStopped();)e.type=a>1?l:d.bindType||f,c=(Lt.get(o,"events")||{})[e.type]&&Lt.get(o,"handle"),c&&c.apply(o,n),c=u&&o[u],c&&c.apply&&Rt(o)&&(e.result=c.apply(o,n),e.result===!1&&e.preventDefault());return e.type=f,i||e.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Rt(r)||u&&ht.isFunction(r[f])&&!ht.isWindow(r)&&(s=r[u],s&&(r[u]=null),ht.event.triggered=f,r[f](),ht.event.triggered=void 0,s&&(r[u]=s)),e.result}},simulate:function(t,e,n){var r=ht.extend(new ht.Event,n,{type:t,isSimulated:!0});ht.event.trigger(r,null,e)}}),ht.fn.extend({trigger:function(t,e){return this.each(function(){ht.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ht.event.trigger(t,e,n,!0)}}),ht.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ht.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ht.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ct.focusin="onfocusin"in t,ct.focusin||ht.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ht.event.simulate(e,t.target,ht.event.fix(t))};ht.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Lt.access(r,e);i||r.addEventListener(t,n,!0),Lt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Lt.access(r,e)-1;i?Lt.access(r,e,i):(r.removeEventListener(t,n,!0),Lt.remove(r,e))}}});var Ce=t.location,Se=ht.now(),Te=/\?/;ht.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ht.error("Invalid XML: "+e),n};var Ee=/\[\]$/,Me=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;ht.param=function(t,e){var n,r=[],i=function(t,e){var n=ht.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(ht.isArray(t)||t.jquery&&!ht.isPlainObject(t))ht.each(t,function(){i(this.name,this.value)});else for(n in t)Y(n,t[n],e,i);return r.join("&")},ht.fn.extend({serialize:function(){return ht.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ht.prop(this,"elements");return t?ht.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ht(this).is(":disabled")&&ke.test(this.nodeName)&&!De.test(t)&&(this.checked||!$t.test(t))}).map(function(t,e){var n=ht(this).val();return null==n?null:ht.isArray(n)?ht.map(n,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:n.replace(Me,"\r\n")}}).get()}});var Ae=/%20/g,Oe=/#.*$/,Re=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pe=/^(?:GET|HEAD)$/,Ie=/^\/\//,ze={},je={},He="*/".concat("*"),Fe=J.createElement("a");Fe.href=Ce.href,ht.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:Ne.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ht.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,ht.ajaxSettings),e):V(ht.ajaxSettings,t)},ajaxPrefilter:q(ze),ajaxTransport:q(je),ajax:function(e,n){function r(e,n,r,s){var u,h,f,w,x,_=n;c||(c=!0,l&&t.clearTimeout(l),i=void 0,o=s||"",C.readyState=e>0?4:0,u=e>=200&&e<300||304===e,r&&(w=X(p,C,r)),w=Q(p,w,C,u),u?(p.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(ht.lastModified[a]=x),x=C.getResponseHeader("etag"),x&&(ht.etag[a]=x)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=w.state,h=w.data,f=w.error,u=!f)):(f=_,!e&&_||(_="error",e<0&&(e=0))),C.status=e,C.statusText=(n||_)+"",u?v.resolveWith(g,[h,_,C]):v.rejectWith(g,[C,_,f]),C.statusCode(b),b=void 0,d&&m.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?h:f]),y.fireWith(g,[C,_]),d&&(m.trigger("ajaxComplete",[C,p]),--ht.active||ht.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,a,o,s,l,u,c,d,h,f,p=ht.ajaxSetup({},n),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?ht(g):ht.event,v=ht.Deferred(),y=ht.Callbacks("once memory"),b=p.statusCode||{},w={},x={},_="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Le.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return i&&i.abort(e),r(0,e),this}};if(v.promise(C),p.url=((e||p.url||Ce.href)+"").replace(Ie,Ce.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Dt)||[""],null==p.crossDomain){u=J.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Fe.protocol+"//"+Fe.host!=u.protocol+"//"+u.host}catch(S){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ht.param(p.data,p.traditional)),U(ze,p,n,C),c)return C;d=ht.event&&p.global,d&&0===ht.active++&&ht.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pe.test(p.type),a=p.url.replace(Oe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ae,"+")):(f=p.url.slice(a.length),p.data&&(a+=(Te.test(a)?"&":"?")+p.data,delete p.data),p.cache===!1&&(a=a.replace(Re,""),f=(Te.test(a)?"&":"?")+"_="+Se++ +f),p.url=a+f),p.ifModified&&(ht.lastModified[a]&&C.setRequestHeader("If-Modified-Since",ht.lastModified[a]),ht.etag[a]&&C.setRequestHeader("If-None-Match",ht.etag[a])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+He+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)C.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(g,C,p)===!1||c))return C.abort();if(_="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),i=U(je,p,n,C)){if(C.readyState=1,d&&m.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},p.timeout));try{c=!1,i.send(w,r)}catch(S){if(c)throw S;r(-1,S)}}else r(-1,"No Transport");return C},getJSON:function(t,e,n){return ht.get(t,e,n,"json")},getScript:function(t,e){return ht.get(t,void 0,e,"script")}}),ht.each(["get","post"],function(t,e){ht[e]=function(t,n,r,i){return ht.isFunction(n)&&(i=i||r,r=n,n=void 0),ht.ajax(ht.extend({url:t,type:e,dataType:i,data:n,success:r},ht.isPlainObject(t)&&t))}}),ht._evalUrl=function(t){return ht.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ht.fn.extend({wrapAll:function(t){var e;return this[0]&&(ht.isFunction(t)&&(t=t.call(this[0])),e=ht(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ht.isFunction(t)?this.each(function(e){ht(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ht(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ht.isFunction(t);return this.each(function(n){ht(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ht(this).replaceWith(this.childNodes)}),this}}),ht.expr.pseudos.hidden=function(t){return!ht.expr.pseudos.visible(t)},ht.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ht.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var We={0:200,1223:204},Be=ht.ajaxSettings.xhr();ct.cors=!!Be&&"withCredentials"in Be,ct.ajax=Be=!!Be,ht.ajaxTransport(function(e){var n,r;if(ct.cors||Be&&!e.crossDomain)return{send:function(i,a){var o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)s.setRequestHeader(o,i[o]);n=function(t){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(We[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}}),ht.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ht.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ht.globalEval(t),t}}}),ht.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ht.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=ht("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){n&&n()}}}});var $e=[],Ge=/(=)\?(?=&|$)|\?\?/;ht.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||ht.expando+"_"+Se++;return this[t]=!0,t}}),ht.ajaxPrefilter("json jsonp",function(e,n,r){var i,a,o,s=e.jsonp!==!1&&(Ge.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ht.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ge,"$1"+i):e.jsonp!==!1&&(e.url+=(Te.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||ht.error(i+" was not called"),o[0]},e.dataTypes[0]="json",a=t[i],t[i]=function(){o=arguments},r.always(function(){void 0===a?ht(t).removeProp(i):t[i]=a,e[i]&&(e.jsonpCallback=n.jsonpCallback,$e.push(i)),o&&ht.isFunction(a)&&a(o[0]),o=a=void 0}),"script"}),ct.createHTMLDocument=function(){var t=J.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ht.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,a;return e||(ct.createHTMLDocument?(e=J.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=J.location.href,e.head.appendChild(r)):e=J),i=xt.exec(t),a=!n&&[],i?[e.createElement(i[1])]:(i=y([t],e,a),a&&a.length&&ht(a).remove(),ht.merge([],i.childNodes))},ht.fn.load=function(t,e,n){var r,i,a,o=this,s=t.indexOf(" ");return s>-1&&(r=ht.trim(t.slice(s)),t=t.slice(0,s)),ht.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),o.length>0&&ht.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(r?ht("<div>").append(ht.parseHTML(t)).find(r):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},ht.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ht.fn[e]=function(t){return this.on(e,t)}}),ht.expr.pseudos.animated=function(t){return ht.grep(ht.timers,function(e){return t===e.elem}).length},ht.offset={setOffset:function(t,e,n){var r,i,a,o,s,l,u,c=ht.css(t,"position"),d=ht(t),h={};"static"===c&&(t.style.position="relative"),s=d.offset(),a=ht.css(t,"top"),l=ht.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1,u?(r=d.position(),o=r.top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),ht.isFunction(e)&&(e=e.call(t,n,ht.extend({},s))),null!=e.top&&(h.top=e.top-s.top+o),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):d.css(h)}},ht.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ht.offset.setOffset(this,t,e)});var e,n,r,i,a=this[0];if(a)return a.getClientRects().length?(r=a.getBoundingClientRect(),r.width||r.height?(i=a.ownerDocument,n=K(i),e=i.documentElement,{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===ht.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ht.nodeName(t[0],"html")||(r=t.offset()),r={top:r.top+ht.css(t[0],"borderTopWidth",!0),left:r.left+ht.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-ht.css(n,"marginTop",!0),left:e.left-r.left-ht.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ht.css(t,"position");)t=t.offsetParent;return t||Vt})}}),ht.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ht.fn[t]=function(r){return Ot(this,function(t,r,i){var a=K(t);return void 0===i?a?a[e]:t[r]:void(a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):t[r]=i)},t,r,arguments.length)}}),ht.each(["top","left"],function(t,e){ht.cssHooks[e]=O(ct.pixelPosition,function(t,n){if(n)return n=A(t,e),ie.test(n)?ht(t).position()[e]+"px":n})}),ht.each({Height:"height",Width:"width"},function(t,e){ht.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){ht.fn[r]=function(i,a){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||a===!0?"margin":"border");return Ot(this,function(e,n,i){var a;return ht.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===i?ht.css(e,n,s):ht.style(e,n,i,s)},e,o?i:void 0,o)}})}),ht.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ht.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ht});var Ye=t.jQuery,qe=t.$;return ht.noConflict=function(e){return t.$===ht&&(t.$=qe),e&&t.jQuery===ht&&(t.jQuery=Ye),ht},e||(t.jQuery=t.$=ht),ht}),function(){function t(t){function e(e,n,r,i,a,o){for(;a>=0&&a<o;a+=t){var s=i?i[a]:a;r=n(r,e[s],s,e)}return r}return function(n,r,i,a){r=b(r,a,4);var o=!E(n)&&y.keys(n),s=(o||n).length,l=t>0?0:s-1;return arguments.length<3&&(i=n[o?o[l]:l],l+=t),e(n,r,i,o,l,s)}}function e(t){return function(e,n,r){n=w(n,r);for(var i=T(e),a=t>0?0:i-1;a>=0&&a<i;a+=t)if(n(e[a],a,e))return a;return-1}}function n(t,e,n){return function(r,i,a){var o=0,s=T(r);if("number"==typeof a)t>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(r,i),r[a]===i?a:-1;if(i!==i)return a=e(c.call(r,o,s),y.isNaN),a>=0?a+o:-1;for(a=t>0?o:s-1;a>=0&&a<s;a+=t)if(r[a]===i)return a;return-1}}function r(t,e){var n=O.length,r=t.constructor,i=y.isFunction(r)&&r.prototype||s,a="constructor";for(y.has(t,a)&&!y.contains(e,a)&&e.push(a);n--;)a=O[n],a in t&&t[a]!==i[a]&&!y.contains(e,a)&&e.push(a)}var i=this,a=i._,o=Array.prototype,s=Object.prototype,l=Function.prototype,u=o.push,c=o.slice,d=s.toString,h=s.hasOwnProperty,f=Array.isArray,p=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var x=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var a=arguments[i],o=t(a),s=o.length,l=0;l<s;l++){var u=o[l];e&&void 0!==n[u]||(n[u]=a[u])}return n}},_=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},C=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,T=C("length"),E=function(t){var e=T(t);return"number"==typeof e&&e>=0&&e<=S};y.each=y.forEach=function(t,e,n){e=b(e,n);var r,i;if(E(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var a=y.keys(t);for(r=0,i=a.length;r<i;r++)e(t[a[r]],a[r],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var r=!E(t)&&y.keys(t),i=(r||t).length,a=Array(i),o=0;o<i;o++){var s=r?r[o]:o;a[o]=e(t[s],s,t)}return a},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var r;if(r=E(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==r&&r!==-1)return t[r]},y.filter=y.select=function(t,e,n){var r=[];return e=w(e,n),y.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var r=!E(t)&&y.keys(t),i=(r||t).length,a=0;a<i;a++){var o=r?r[a]:a;if(!e(t[o],o,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var r=!E(t)&&y.keys(t),i=(r||t).length,a=0;a<i;a++){var o=r?r[a]:a;if(e(t[o],o,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return E(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),r=y.isFunction(e);return y.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,i,a=-(1/0),o=-(1/0);if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var s=0,l=t.length;s<l;s++)r=t[s],r>a&&(a=r)}else e=w(e,n),y.each(t,function(t,n,r){i=e(t,n,r),(i>o||i===-(1/0)&&a===-(1/0))&&(a=t,o=i)});return a},y.min=function(t,e,n){var r,i,a=1/0,o=1/0;if(null==e&&null!=t){t=E(t)?t:y.values(t);for(var s=0,l=t.length;s<l;s++)r=t[s],r<a&&(a=r)}else e=w(e,n),y.each(t,function(t,n,r){i=e(t,n,r),(i<o||i===1/0&&a===1/0)&&(a=t,o=i)});return a},y.shuffle=function(t){for(var e,n=E(t)?t:y.values(t),r=n.length,i=Array(r),a=0;a<r;a++)e=y.random(0,a),e!==a&&(i[a]=i[e]),i[e]=n[a];return i},y.sample=function(t,e,n){return null==e||n?(E(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,n,r){var i={};return n=w(n,r),y.each(e,function(r,a){var o=n(r,a,e);t(i,r,o)}),i}};y.groupBy=M(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=M(function(t,e,n){t[n]=e}),y.countBy=M(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):E(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:E(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var r=[],i=[];return y.each(t,function(t,n,a){(e(t,n,a)?r:i).push(t)}),[r,i]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var D=function(t,e,n,r){for(var i=[],a=0,o=r||0,s=T(t);o<s;o++){var l=t[o];if(E(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=D(l,e,n));var u=0,c=l.length;for(i.length+=c;u<c;)i[a++]=l[u++]}else n||(i[a++]=l)}return i};y.flatten=function(t,e){return D(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=w(n,r));for(var i=[],a=[],o=0,s=T(t);o<s;o++){var l=t[o],u=n?n(l,o,t):l;e?(o&&a===u||i.push(l),a=u):n?y.contains(a,u)||(a.push(u),i.push(l)):y.contains(i,l)||i.push(l)}return i},y.union=function(){return y.uniq(D(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=T(t);r<i;r++){var a=t[r];if(!y.contains(e,a)){for(var o=1;o<n&&y.contains(arguments[o],a);o++);o===n&&e.push(a)}}return e},y.difference=function(t){var e=D(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,T).length||0,n=Array(e),r=0;r<e;r++)n[r]=y.pluck(t,r);return n},y.object=function(t,e){for(var n={},r=0,i=T(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,r){n=w(n,r,1);for(var i=n(e),a=0,o=T(t);a<o;){var s=Math.floor((a+o)/2);n(t[s])<i?a=s+1:o=s}return a},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),a=0;a<r;a++,t+=n)i[a]=t;return i};var k=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var a=_(t.prototype),o=t.apply(a,i);return y.isObject(o)?o:a};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return k(t,r,e,this,n.concat(c.call(arguments)))};return r},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var r=0,i=e.length,a=Array(i),o=0;o<i;o++)a[o]=e[o]===y?arguments[r++]:e[o];for(;r<arguments.length;)a.push(arguments[r++]);return k(t,n,this,this,a)};return n},y.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(r){var i=n.cache,a=""+(e?e.apply(this,arguments):r);return y.has(i,a)||(i[a]=t.apply(this,arguments)),i[a]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,i,a,o=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:y.now(),o=null,a=t.apply(r,i),o||(r=i=null)};return function(){var u=y.now();s||n.leading!==!1||(s=u);var c=e-(u-s);return r=this,i=arguments,c<=0||c>e?(o&&(clearTimeout(o),o=null),s=u,a=t.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(l,c)),a}},y.debounce=function(t,e,n){var r,i,a,o,s,l=function(){var u=y.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(s=t.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=y.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(s=t.apply(a,i),a=i=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),
t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return A&&r(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return A&&r(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},y.mapObject=function(t,e,n){e=w(e,n);for(var r,i=y.keys(t),a=i.length,o={},s=0;s<a;s++)r=i[s],o[r]=e(t[r],r,t);return o},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var r,i=y.keys(t),a=0,o=i.length;a<o;a++)if(r=i[a],e(t[r],r,t))return r},y.pick=function(t,e,n){var r,i,a={},o=t;if(null==o)return a;y.isFunction(e)?(i=y.allKeys(o),r=b(e,n)):(i=D(arguments,!1,!1,1),r=function(t,e,n){return e in n},o=Object(o));for(var s=0,l=i.length;s<l;s++){var u=i[s],c=o[u];r(c,u,o)&&(a[u]=c)}return a},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var r=y.map(D(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(r,e)}}return y.pick(t,e,n)},y.defaults=x(y.allKeys,!0),y.create=function(t,e){var n=_(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),a=0;a<r;a++){var o=n[a];if(e[o]!==i[o]||!(o in i))return!1}return!0};var R=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var i=d.call(t);if(i!==d.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var a="[object Array]"===i;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,s=e.constructor;if(o!==s&&!(y.isFunction(o)&&o instanceof o&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),a){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!R(t[l],e[l],n,r))return!1}else{var u,c=y.keys(t);if(l=c.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(e,u)||!R(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(t,e){return R(t,e)},y.isEmpty=function(t){return null==t||(E(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=f||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return i._=a,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=C,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=b(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=y.invert(L),P=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};y.escape=P(L),y.unescape=P(N),y.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),y.isFunction(r)?r.call(t):r};var I=0;y.uniqueId=function(t){var e=++I+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,F=function(t){return"\\"+j[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r=RegExp([(e.escape||z).source,(e.interpolate||z).source,(e.evaluate||z).source].join("|")+"|$","g"),i=0,a="__p+='";t.replace(r,function(e,n,r,o,s){return a+=t.slice(i,s).replace(H,F),i=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(e.variable||"obj","_",a)}catch(s){throw s.source=a,s}var l=function(t){return o.call(this,t,y)},u=e.variable||"obj";return l.source="function("+u+"){\n"+a+"}",l},y.chain=function(t){var e=y(t);return e._chain=!0,e};var W=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),W(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}}),y.each(["concat","join","slice"],function(t){var e=o[t];y.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(i){}t(e,exports,r,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,n,r){var i=t.Backbone,a=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],l(t,this),i)};case 4:return function(t,i,a){return n[e](this[r],l(t,this),i,a)};default:return function(){var t=a.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},s=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=o(e,i,r))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},d=/\s+/,h=function(t,e,r,i,a){var o,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in a&&void 0===a.context&&(a.context=i);for(o=n.keys(r);s<o.length;s++)e=h(t,e,o[s],r[o[s]],a)}else if(r&&d.test(r))for(o=r.split(d);s<o.length;s++)e=t(e,o[s],i,a);else e=t(e,r,i,a);return e};c.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,r,i){if(t._events=h(p,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){var a=t._listeners||(t._listeners={});a[i.id]=i}return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),o=a[i];if(!o){var s=this._listenId||(this._listenId=n.uniqueId("l"));o=a[i]={obj:t,objId:i,id:s,listeningTo:a,count:0}}return f(t,e,r,this,o),this};var p=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),a=r.context,o=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:a,ctx:a||o,listening:s})}return t};c.off=function(t,e,n){return this._events?(this._events=h(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var a=t?[t._listenId]:n.keys(i),o=0;o<a.length;o++){var s=i[a[o]];if(!s)break;s.obj.off(e,r,this)}return this};var g=function(t,e,r,i){if(t){var a,o=0,s=i.context,l=i.listeners;if(e||r||s){for(var u=e?[e]:n.keys(t);o<u.length;o++){e=u[o];var c=t[e];if(!c)break;for(var d=[],h=0;h<c.length;h++){var f=c[h];r&&r!==f.callback&&r!==f.callback._callback||s&&s!==f.context?d.push(f):(a=f.listening,a&&0===--a.count&&(delete l[a.id],delete a.listeningTo[a.objId]))}d.length?t[e]=d:delete t[e]}return t}for(var p=n.keys(l);o<p.length;o++)a=l[p[o]],delete l[a.id],delete a.listeningTo[a.objId]}};c.once=function(t,e,r){var i=h(m,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==r&&(e=void 0),this.on(i,e,r)},c.listenToOnce=function(t,e,r){var i=h(m,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var m=function(t,e,r,i){if(r){var a=t[e]=n.once(function(){i(e,a),r.apply(this,arguments)});a._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return h(v,this._events,t,void 0,n),this};var v=function(t,e,n,r){if(t){var i=t[e],a=t.all;i&&a&&(a=a.slice()),i&&y(i,r),a&&y(a,[e].concat(r))}return t},y=function(t,e){var n,r=-1,i=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,a,o);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,a,o,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var b=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var a=r.unset,o=r.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,d=this._previousAttributes;for(var h in i)e=i[h],n.isEqual(u[h],e)||s.push(h),n.isEqual(d[h],e)?delete c[h]:c[h]=e,a?delete u[h]:u[h]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){s.length&&(this._pending=r);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,u[s[f]],r)}if(l)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,i={};for(var a in t){var o=t[a];n.isEqual(r[a],o)||(i[a]=o,e=!0)}return!!e&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;return!!e.set(i,t)&&(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},W(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var a=r.wait;if(i&&!a){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,s=r.success,l=this.attributes;r.success=function(t){o.attributes=l;var e=r.parse?o.parse(t,r):t;return a&&(e=n.extend({},i,e)),!(e&&!o.set(e,r))&&(s&&s.call(r.context,o,t,r),void o.trigger("sync",o,t,r))},W(this,r),i&&a&&(this.attributes=n.extend({},l,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var c=this.sync(u,this,r);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,a=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&a(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var o=!1;return this.isNew()?n.defer(t.success):(W(this,t),o=this.sync("delete",this,t)),i||a(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s(b,w,"attributes");var x=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},_={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},S=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),a=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<a;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+a+n]=i[r]};n.extend(x.prototype,c,{model:b,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,C))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){e=n.extend({},_,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var a,o,s=[],l=[],u=[],c=[],d={},h=e.add,f=e.merge,p=e.remove,g=!1,m=this.comparator&&null==i&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){a=t[o];var y=this.get(a);if(y){if(f&&a!==y){var b=this._isModel(a)?a.attributes:a;e.parse&&(b=y.parse(b,e)),y.set(b,e),u.push(y),m&&!g&&(g=y.hasChanged(v))}d[y.cid]||(d[y.cid]=!0,s.push(y)),t[o]=y}else h&&(a=t[o]=this._prepareModel(a,e),a&&(l.push(a),this._addReference(a,e),d[a.cid]=!0,s.push(a)))}if(p){for(o=0;o<this.length;o++)a=this.models[o],d[a.cid]||c.push(a);c.length&&this._removeModels(c,e)}var w=!1,x=!m&&h&&p;if(s.length&&x?(w=this.length!==s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,S(this.models,s,0),this.length=this.models.length):l.length&&(m&&(g=!0),S(this.models,l,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(o=0;o<l.length;o++)null!=i&&(e.index=i+o),a=l[o],a.trigger("add",a,this,e);(g||w)&&this.trigger("sort",this,e),(l.length||c.length||u.length)&&(e.changes={added:l,removed:c,merged:u},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},W(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var i=this,a=e.success;return e.success=function(t,e,n){r&&i.add(t,n),a&&a.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var a=this.indexOf(i);this.models.splice(a,1),this.length--,delete this._byId[i.cid];var o=this.modelId(i.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=a,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),a=this.modelId(e.attributes);i!==a&&(null!=i&&delete this._byId[i],null!=a&&(this._byId[a]=e))}}this.trigger.apply(this,arguments)}});var T={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};s(x,T,"models");var E=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,D)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\S+)\s*(.*)$/,D=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(M);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var a=k[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:a,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||F()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",i.emulateJSON&&(o.data._method=a);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",a),s)return s.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var l=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,l&&l.call(i.context,t,e,n)};var u=i.xhr=e.ajax(n.extend(o,i));return r.trigger("request",r,u,i),u};var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,R=/(\(\?)?:\w+/g,L=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(A.prototype,c,{preinitialize:function(){},initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var a=this;return e.history.route(t,function(n){var o=a._extractParameters(t,n);a.execute(i,o,r)!==!1&&(a.trigger.apply(a,["route:"+r].concat(o)),a.trigger("route",r,o),e.history.trigger("route",a,r,o))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(N,"\\$&").replace(O,"(?:$1)?").replace(R,function(t,e){return e?t:"([^/?]+)"}).replace(L,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var P=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,z=/^\/+|\/+$/g,j=/#.*$/;P.started=!1,n.extend(P.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(I,"")},start:function(t){if(P.started)throw new Error("Backbone.history has already been started");if(P.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(z,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var a=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!P.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(j,"");var i=this.decodeFragment(t);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var a=this.iframe.contentWindow;e.replace||(a.document.open(),a.document.close()),this._updateHash(a.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new P;var H=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};b.extend=x.extend=A.extend=E.extend=P.extend=H;var F=function(){throw new Error('A "url" property or function must be specified')},W=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function r(t){return null===t?NaN:+t}function i(t){return!isNaN(t)}function a(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function o(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===xo||t[0]===_o?_o+t:t}function d(t){return(t+="")[0]===_o?t.slice(1):t}function h(t){return c(t)in this._}function f(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(d(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function b(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=Co.length;n<r;++n){var i=Co[n]+e;if(i in t)return i}}function x(){}function _(){}function C(t){function e(){for(var e,r=n,i=-1,a=r.length;++i<a;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new u;return e.on=function(e,i){var a,o=r.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function S(){so.event.preventDefault()}function T(){for(var t,e=so.event;t=e.sourceEvent;)e=t;return e}function E(t){for(var e=new _,n=0,r=arguments.length;++n<r;)e[arguments[n]]=C(e);return e.of=function(n,r){return function(i){try{var a=i.sourceEvent=so.event;i.target=t,so.event=i,e[i.type].apply(n,r)}finally{so.event=a}}},e}function M(t){return To(t,ko),t}function D(t){return"function"==typeof t?t:function(){return Eo(t,this)}}function k(t){return"function"==typeof t?t:function(){return Mo(t,this)}}function A(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local);
}function i(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=so.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:o:t.local?a:i}function O(t){return t.trim().replace(/\s+/g," ")}function R(t){return new RegExp("(?:^|\\s+)"+so.requote(t)+"(?:\\s+|$)","g")}function L(t){return(t+"").trim().split(/^|\s+/)}function N(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=L(t).map(P);var i=t.length;return"function"==typeof e?r:n}function P(t){var e=R(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",O(i+" "+t))):n.setAttribute("class",O(i.replace(e," ")))}}function I(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function a(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?a:i}function z(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function j(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ao&&e.documentElement.namespaceURI===Ao?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=so.ns.qualify(t)).local?n:e}function H(){var t=this.parentNode;t&&t.removeChild(this)}function F(t){return{__data__:t}}function W(t){return function(){return Do(this,t)}}function B(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function $(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,a=t[n],o=0,s=a.length;o<s;o++)(i=a[o])&&e(i,o,n);return t}function G(t){return To(t,Ro),t}function Y(t){var e,n;return function(r,i,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<l;);return o}}function q(t,e,n){function r(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function i(){var i=l(e,uo(arguments));r.call(this),this.addEventListener(t,this[o]=i,i.$=n),i._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+so.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var o="__on"+t,s=t.indexOf("."),l=U;s>0&&(t=t.slice(0,s));var u=Lo.get(t);return u&&(t=u,l=V),s?e?i:r:e?x:a}function U(t,e){return function(n){var r=so.event;so.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{so.event=r}}}function V(t,e){var n=U(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function X(n){var r=".dragsuppress-"+ ++Po,i="click"+r,a=so.select(e(n)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==No&&(No=!("onselectstart"in n)&&w(n.style,"userSelect")),No){var o=t(n).style,s=o[No];o[No]="none"}return function(t){if(a.on(r,null),No&&(o[No]=s),t){var e=function(){a.on(i,null)};a.on(i,function(){S(),e()},!0),setTimeout(e,0)}}}function Q(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(Io<0){var a=e(t);if(a.scrollX||a.scrollY){r=so.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Io=!(o.f||o.e),r.remove()}}return Io?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function K(){return so.event.changedTouches[0].identifier}function Z(t){return t>0?1:t<0?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:t<-1?Ho:Math.acos(t)}function et(t){return t>1?Bo:t<-1?-Bo:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function at(t){return(t=Math.sin(t/2))*t}function ot(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):xt(""+t,_t,st):new st(t,e,n)}function lt(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?a+(o-a)*t/60:t<180?o:t<240?a+(o-a)*(240-t)/60:a}function i(t){return Math.round(255*r(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+e):n+e-n*e,a=2*n-o,new vt(i(t+120),i(t),i(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof dt?ft(t.l,t.a,t.b):ft((t=Ct((t=so.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new dt(n,Math.cos(t*=$o)*e,Math.sin(t)*e)}function dt(t,e,n){return this instanceof dt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof dt?new dt(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):Ct((t=vt(t)).r,t.g,t.b):new dt(t,e,n)}function ht(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return i=pt(i)*ts,r=pt(r)*es,a=pt(a)*ns,new vt(mt(3.2404542*i-1.5371385*r-.4985314*a),mt(-.969266*i+1.8760108*r+.041556*a),mt(.0556434*i-.2040259*r+1.0572252*a))}function ft(t,e,n){return t>0?new ut(Math.atan2(n,e)*Go,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function bt(t){return yt(t)+""}function wt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Tt(i[0]),Tt(i[1]),Tt(i[2]))}return(a=as.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function _t(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new st(r,i,l)}function Ct(t,e,n){t=St(t),e=St(e),n=St(n);var r=gt((.4124564*t+.3575761*e+.1804375*n)/ts),i=gt((.2126729*t+.7151522*e+.072175*n)/es),a=gt((.0193339*t+.119192*e+.9503041*n)/ns);return dt(116*i-16,500*(r-i),200*(i-a))}function St(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Et(t){return"function"==typeof t?t:function(){return t}}function Mt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Dt(e,n,t,r)}}function Dt(t,e,n,r){function i(){var t,e=l.status;if(!e&&At(l)||e>=200&&e<300||304===e){try{t=n.call(a,l)}catch(r){return void o.error.call(a,r)}o.load.call(a,t)}else o.error.call(a,l)}var a={},o=so.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=so.event;so.event=t;try{o.progress.call(a,l)}finally{so.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(uo(arguments)))}}),a.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=i&&a.on("error",i).on("load",function(t){i(null,t)}),o.beforesend.call(a,l),l.send(null==r?null:r),a},a.abort=function(){return l.abort(),a},so.rebind(a,o,"on"),null==r?a:a.get(kt(r))}function kt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function At(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ot(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return ss?ss.n=a:os=a,ss=a,ls||(us=clearTimeout(us),ls=1,cs(Rt)),a}function Rt(){var t=Lt(),e=Nt()-t;e>24?(isFinite(e)&&(clearTimeout(us),us=setTimeout(Rt,e)),ls=0):(ls=1,cs(Rt))}function Lt(){for(var t=Date.now(),e=os;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Nt(){for(var t,e=os,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:os=e.n;return ss=t,n}function Pt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function It(t,e){var n=Math.pow(10,3*wo(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function zt(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(t,e){for(var i=t.length,a=[],o=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:y;return function(t){var n=hs.exec(t),r=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],d=n[7],h=n[8],f=n[9],p=1,g="",m="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(u||"0"===r&&"="===o)&&(u=r="0",o="="),f){case"n":d=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":p=-1,f="r"}"$"===l&&(g=i[0],m=i[1]),"r"!=f||h||(f="g"),null!=h&&("g"==f?h=Math.max(1,Math.min(21,h)):"e"!=f&&"f"!=f||(h=Math.max(0,Math.min(20,h)))),f=fs.get(f)||jt;var b=u&&d;return function(t){var n=m;if(v&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(p<0){var l=so.formatPrefix(t,h);t=l.scale(t),n=l.symbol+m}else t*=p;t=f(t,h);var w,x,_=t.lastIndexOf(".");if(_<0){var C=y?t.lastIndexOf("e"):-1;C<0?(w=t,x=""):(w=t.substring(0,C),x=t.substring(C))}else w=t.substring(0,_),x=e+t.substring(_+1);!u&&d&&(w=a(w,1/0));var S=g.length+w.length+x.length+(b?0:i.length),T=S<c?new Array(S=c-S+1).join(r):"";return b&&(w=a(T+w,T.length?c-x.length:1/0)),i+=g,t=w+x,("<"===o?i+t+T:">"===o?T+i+t:"^"===o?T.substring(0,S>>=1)+i+t+T.substring(S):i+(b?t:T+t))+n}}}function jt(t){return t+""}function Ht(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(t,e,n){function r(e){var n=t(e),r=a(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new gs(n-1)),1),n}function a(t,n){return e(t=new gs((+t)),n),t}function o(t,r,a){var o=i(t),s=[];if(a>1)for(;o<r;)n(o)%a||s.push(new Date((+o))),e(o,1);else for(;o<r;)s.push(new Date((+o))),e(o,1);return s}function s(t,e,n){try{gs=Ht;var r=new Ht;return r._=t,o(r,e,n)}finally{gs=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=a,t.range=o;var l=t.utc=Wt(t);return l.floor=l,l.round=Wt(r),l.ceil=Wt(i),l.offset=Wt(a),l.range=s,t}function Wt(t){return function(e,n){try{gs=Ht;var r=new Ht;return r._=e,t(r,n)._}finally{gs=Date}}}function Bt(t){function e(t){function e(e){for(var n,i,a,o=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=vs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=D[n])&&(n=a(e,null==i?"e"===n?" ":"0":i)),o.push(n),l=s+1);return o.push(t.slice(l,s)),o.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&gs!==Ht,o=new(a?Ht:gs);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,a,o,s=0,l=e.length,u=n.length;s<l;){if(r>=u)return-1;if(i=e.charCodeAt(s++),37===i){if(o=e.charAt(s++),a=k[o in vs?e.charAt(s++):o],!a||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){E.lastIndex=0;var r=E.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){S.lastIndex=0;var r=S.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,D.c.toString(),e,r)}function l(t,e,r){return n(t,D.x.toString(),e,r)}function u(t,e,r){return n(t,D.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var d=t.dateTime,h=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{gs=Ht;var e=new gs;return e._=t,r(e)}finally{gs=Date}}var r=e(t);return n.parse=function(t){try{gs=Ht;var e=r.parse(t);return e&&e._}finally{gs=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=le;var b=so.map(),w=Gt(g),x=Yt(g),_=Gt(m),C=Yt(m),S=Gt(v),T=Yt(v),E=Gt(y),M=Yt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var D={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(d),d:function(t,e){return $t(t.getDate(),e,2)},e:function(t,e){return $t(t.getDate(),e,2)},H:function(t,e){return $t(t.getHours(),e,2)},I:function(t,e){return $t(t.getHours()%12||12,e,2)},j:function(t,e){return $t(1+ps.dayOfYear(t),e,3)},L:function(t,e){return $t(t.getMilliseconds(),e,3)},m:function(t,e){return $t(t.getMonth()+1,e,2)},M:function(t,e){return $t(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return $t(t.getSeconds(),e,2)},U:function(t,e){return $t(ps.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return $t(ps.mondayOfYear(t),e,2)},x:e(h),X:e(f),y:function(t,e){return $t(t.getFullYear()%100,e,2)},Y:function(t,e){return $t(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},k={a:r,A:i,b:a,B:o,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:ae,m:Jt,M:re,p:c,S:ie,U:Ut,w:qt,W:Vt,x:l,X:u,y:Qt,Y:Xt,Z:Kt,"%":se};return e}function $t(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Gt(t){return new RegExp("^(?:"+t.map(so.requote).join("|")+")","i")}function Yt(t){for(var e=new u,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function qt(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ut(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Vt(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Xt(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qt(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+2));return r?(t.y=Zt(+r[0]),n+r[0].length):-1}function Kt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Zt(t){return t+(t>68?1900:2e3)}function Jt(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ie(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ae(t,e,n){ys.lastIndex=0;var r=ys.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=wo(e)/60|0,i=wo(e)%60;return n+$t(r,"0",2)+$t(i,"0",2)}function se(t,e,n){bs.lastIndex=0;var r=bs.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ue(){}function ce(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}function de(t,e){t&&Cs.hasOwnProperty(t.type)&&Cs[t.type](t,e)}function he(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function fe(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)he(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=$o,e=e*$o/2+Ho/4;var n=t-r,o=n>=0?1:-1,s=o*n,l=Math.cos(e),u=Math.sin(e),c=a*u,d=i*l+c*Math.cos(s),h=c*o*Math.sin(s);Ts.add(Math.atan2(h,d)),r=t,i=l,a=u}var e,n,r,i,a;Es.point=function(o,s){Es.point=t,r=(e=o)*$o,i=Math.cos(s=(n=s)*$o/2+Ho/4),a=Math.sin(s)},Es.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function we(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function _e(t,e){return wo(t[0]-e[0])<zo&&wo(t[1]-e[1])<zo}function Ce(t,e){t*=$o;var n=Math.cos(e*=$o);Se(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Se(t,e,n){++Ms,ks+=(t-ks)/Ms,As+=(e-As)/Ms,Os+=(n-Os)/Ms}function Te(){function t(t,i){t*=$o;var a=Math.cos(i*=$o),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*o-e*l)*u+(u=e*s-n*o)*u),e*o+n*s+r*l);Ds+=u,Rs+=u*(e+(e=o)),Ls+=u*(n+(n=s)),Ns+=u*(r+(r=l)),Se(e,n,r)}var e,n,r;js.point=function(i,a){i*=$o;var o=Math.cos(a*=$o);e=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(a),js.point=t,Se(e,n,r)}}function Ee(){js.point=Ce}function Me(){function t(t,e){t*=$o;var n=Math.cos(e*=$o),o=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=i*l-a*s,c=a*o-r*l,d=r*s-i*o,h=Math.sqrt(u*u+c*c+d*d),f=r*o+i*s+a*l,p=h&&-tt(f)/h,g=Math.atan2(h,f);Ps+=p*u,Is+=p*c,zs+=p*d,Ds+=g,Rs+=g*(r+(r=o)),Ls+=g*(i+(i=s)),Ns+=g*(a+(a=l)),Se(r,i,a)}var e,n,r,i,a;js.point=function(o,s){e=o,n=s,js.point=t,o*=$o;var l=Math.cos(s*=$o);r=l*Math.cos(o),i=l*Math.sin(o),a=Math.sin(s),Se(r,i,a)},js.lineEnd=function(){t(e,n),js.lineEnd=Ee,js.point=Ce}}function De(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function ke(){return!0}function Ae(t,e,n,r,i){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(_e(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new Re(n,t,null,(!0)),u=new Re(n,null,l,(!1));l.o=u,a.push(l),o.push(u),l=new Re(r,t,null,(!1)),u=new Re(r,null,l,(!0)),l.o=u,a.push(l),o.push(u)}}),o.sort(e),Oe(a),Oe(o),a.length){for(var s=0,l=n,u=o.length;s<u;++s)o[s].e=l=!l;for(var c,d,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,u=c.length;s<u;++s)i.point((d=c[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p){c=f.p.z;for(var s=c.length-1;s>=0;--s)i.point((d=c[s])[0],d[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);i.lineEnd()}}}function Oe(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Re(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Le(t,e,n,r){return function(i,a){function o(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function u(){y.point=o,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);w.point(n[0],n[1])}function d(){w.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,o=-1;if(r>0){for(x||(a.polygonStart(),x=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Ne))}var f,p,g,m=e(a),v=i.invert(r[0],r[1]),y={point:o,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=d,y.lineEnd=h,f=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=l,y.lineEnd=u,f=so.merge(f);var t=Fe(v,p);f.length?(x||(a.polygonStart(),x=!0),Ae(f,Ie,t,n,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),f=p=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},b=Pe(),w=e(b),x=!1;return y}}function Ne(t){return t.length>1}function Pe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ie(t,e){return((t=t.x)[0]<0?t[1]-Bo-zo:Bo-t[1])-((e=e.x)[0]<0?e[1]-Bo-zo:Bo-e[1])}function ze(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Ho:-Ho,l=wo(a-n);wo(l-Ho)<zo?(t.point(n,r=(r+o)/2>0?Bo:-Bo),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=Ho&&(wo(n-i)<zo&&(n-=i*zo),wo(a-s)<zo&&(a-=s*zo),r=je(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function je(t,e,n,r){var i,a,o=Math.sin(t-n);return wo(o)>zo?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+r)/2}function He(t,e,n,r){var i;if(null==t)i=n*Bo,r.point(-Ho,i),r.point(0,i),r.point(Ho,i),r.point(Ho,0),r.point(Ho,-i),r.point(0,-i),r.point(-Ho,-i),r.point(-Ho,0),r.point(-Ho,i);else if(wo(t[0]-e[0])>zo){var a=t[0]<e[0]?Ho:-Ho;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Fe(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Ts.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var d=u[0],h=d[0],f=d[1]/2+Ho/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Ho/4,b=Math.sin(y),w=Math.cos(y),x=v-h,_=x>=0?1:-1,C=_*x,S=C>Ho,T=p*b;if(Ts.add(Math.atan2(T*_*Math.sin(C),g*w+T*Math.cos(C))),a+=S?x+_*Fo:x,S^h>=n^v>=n){var E=ve(ge(d),ge(t));we(E);var M=ve(i,E);we(M);var D=(S^x>=0?-1:1)*et(M[2]);(r>D||r===D&&(E[0]||E[1]))&&(o+=S^x>=0?1:-1)}if(!m++)break;h=v,p=b,g=w,d=t}}return(a<-zo||a<zo&&Ts<-zo)^1&o}function We(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var f,p=[d,h],g=e(d,h),m=o?g?0:i(d,h):g?i(d+(d<0?Ho:-Ho),h):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(f=r(n,p),(_e(n,f)||_e(p,f))&&(p[0]+=zo,p[1]+=zo,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),f=r(p,n),t.point(f[0],f[1])):(f=r(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&o^g){var v;m&a||!(v=r(p,n,!0))||(c=0,o?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&_e(n,p)||t.point(p[0],p[1]),n=p,l=g,a=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=ge(t),i=ge(e),o=[1,0,0],s=ve(r,i),l=me(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var d=a*l/c,h=-a*u/c,f=ve(o,s),p=be(o,d),g=be(s,h);ye(p,g);var m=f,v=me(p,m),y=me(m,m),b=v*v-y*(me(p,p)-1);if(!(b<0)){var w=Math.sqrt(b),x=be(m,(-v-w)/y);if(ye(x,p),x=xe(x),!n)return x;var _,C=t[0],S=e[0],T=t[1],E=e[1];S<C&&(_=C,C=S,S=_);var M=S-C,D=wo(M-Ho)<zo,k=D||M<zo;if(!D&&E<T&&(_=T,T=E,E=_),k?D?T+E>0^x[1]<(wo(x[0]-C)<zo?T:E):T<=x[1]&&x[1]<=E:M>Ho^(C<=x[0]&&x[0]<=S)){var A=be(m,(-v+w)/y);return ye(A,p),[x,xe(A)]}}}function i(e,n){var r=o?t:Ho-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var a=Math.cos(t),o=a>0,s=wo(a)>zo,l=gn(t,6*$o);return Le(e,n,l,o?[0,-t]:[-Ho,t-Ho])}function Be(t,e,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,u=o.y,c=s.x,d=s.y,h=0,f=1,p=c-l,g=d-u;if(a=t-l,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>h&&(h=a)}if(a=n-l,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<f&&(f=a)}if(a=e-u,g||!(a>0)){if(a/=g,g<0){if(a<h)return;a<f&&(f=a)}else if(g>0){if(a>f)return;a>h&&(h=a)}if(a=r-u,g||!(a<0)){if(a/=g,g<0){if(a>f)return;a>h&&(h=a)}else if(g>0){if(a<h)return;a<f&&(f=a)}return h>0&&(i.a={x:l+h*p,y:u+h*g}),f<1&&(i.b={x:l+f*p,y:u+f*g}),i}}}}}}function $e(t,e,n,r){function i(r,i){return wo(r[0]-t)<zo?i>0?0:3:wo(r[0]-n)<zo?i>0?2:1:wo(r[1]-e)<zo?i>0?1:0:i>0?3:2}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,r=t[1],i=0;i<n;++i)for(var a,o=1,s=m[i],l=s.length,u=s[0];o<l;++o)a=s[o],u[1]<=r?a[1]>r&&J(u,a,t)>0&&++e:a[1]<=r&&J(u,a,t)<0&&--e,u=a;return 0!==e}function u(a,s,l,u){var c=0,d=0;if(null==a||(c=i(a,l))!==(d=i(s,l))||o(a,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+l+4)%4)!==d)}else u.point(s[0],s[1])}function c(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function d(t,e){c(t,e)&&s.point(t,e)}function h(){k.point=p,m&&m.push(v=[]),S=!0,C=!1,x=_=NaN}function f(){g&&(p(y,b),w&&C&&M.rejoin(),g.push(M.buffer())),k.point=d,C&&s.lineEnd()}function p(t,e){t=Math.max(-Fs,Math.min(Fs,t)),e=Math.max(-Fs,Math.min(Fs,e));var n=c(t,e);if(m&&v.push([t,e]),S)y=t,b=e,w=n,S=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var r={a:{x:x,y:_},b:{x:t,y:e}};D(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),T=!1):n&&(s.lineStart(),s.point(t,e),T=!1)}x=t,_=e,C=n}var g,m,v,y,b,w,x,_,C,S,T,E=s,M=Pe(),D=Be(t,e,n,r),k={point:d,lineStart:h,lineEnd:f,polygonStart:function(){s=M,g=[],m=[],T=!0},polygonEnd:function(){s=E,g=so.merge(g);var e=l([t,r]),n=T&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&Ae(g,a,e,u,s),s.polygonEnd()),g=m=v=null}};return k}}function Ge(t){var e=0,n=Ho/3,r=sn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ho/180,n=t[1]*Ho/180):[e/Ho*180,n/Ho*180]},i}function Ye(t,e){function n(t,e){var n=Math.sqrt(a-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,a=1+r*(2*i-r),o=Math.sqrt(a)/i;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,et((a-(t*t+n*n)*i*i)/(2*i))]},n}function qe(){function t(t,e){Bs+=i*t-r*e,r=t,i=e}var e,n,r,i;Us.point=function(a,o){Us.point=t,e=r=a,n=i=o},Us.lineEnd=function(){t(e,n)}}function Ue(t,e){t<$s&&($s=t),t>Ys&&(Ys=t),e<Gs&&(Gs=e),e>qs&&(qs=e)}function Ve(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function r(){s.point=t}function i(){o.push("Z")}var a=Xe(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return a=Xe(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Xe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qe(t,e){ks+=t,As+=e,++Os}function Ke(){function t(t,r){var i=t-e,a=r-n,o=Math.sqrt(i*i+a*a);Rs+=o*(e+t)/2,Ls+=o*(n+r)/2,Ns+=o,Qe(e=t,n=r)}var e,n;Xs.point=function(r,i){Xs.point=t,Qe(e=r,n=i)}}function Ze(){Xs.point=Qe}function Je(){function t(t,e){var n=t-r,a=e-i,o=Math.sqrt(n*n+a*a);Rs+=o*(r+t)/2,Ls+=o*(i+e)/2,Ns+=o,o=i*t-r*e,Ps+=o*(r+t),Is+=o*(i+e),zs+=3*o,Qe(r=t,i=e)}var e,n,r,i;Xs.point=function(a,o){Xs.point=t,Qe(e=r=a,n=i=o)},Xs.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Fo)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return o=t,s},result:x};return s}function en(t){function e(t){return(s?r:n)(t)}function n(e){return an(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,S.point=a,e.lineStart()}function a(n,r){var a=ge([n,r]),o=t(n,r);i(b,w,y,x,_,C,b=o[0],w=o[1],y=n,x=a[0],_=a[1],C=a[2],s,e),e.point(b,w)}function o(){S.point=n,e.lineEnd()}function l(){r(),S.point=u,S.lineEnd=c}function u(t,e){a(d=t,h=e),f=b,p=w,g=x,m=_,v=C,S.point=a}function c(){i(b,w,y,x,_,C,f,p,d,g,m,v,s,e),S.lineEnd=o,o()}var d,h,f,p,g,m,v,y,b,w,x,_,C,S={point:n,lineStart:r,lineEnd:o,polygonStart:function(){e.polygonStart(),S.lineStart=l},polygonEnd:function(){e.polygonEnd(),S.lineStart=r}};return S}function i(e,n,r,s,l,u,c,d,h,f,p,g,m,v){var y=c-e,b=d-n,w=y*y+b*b;if(w>4*a&&m--){var x=s+f,_=l+p,C=u+g,S=Math.sqrt(x*x+_*_+C*C),T=Math.asin(C/=S),E=wo(wo(C)-1)<zo||wo(r-h)<zo?(r+h)/2:Math.atan2(_,x),M=t(E,T),D=M[0],k=M[1],A=D-e,O=k-n,R=b*A-y*O;(R*R/w>a||wo((y*A+b*O)/w-.5)>.3||s*f+l*p+u*g<o)&&(i(e,n,r,s,l,u,D,k,E,x/=S,_/=S,C,m,v),v.point(D,k),i(D,k,E,x,_,C,c,d,h,f,p,g,m,v))}}var a=.5,o=Math.cos(30*$o),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function nn(t){var e=en(function(e,n){return t([e*Go,n*Go])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function an(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*$o,t[1]*$o),[t[0]*h+l,u-t[1]*h]}function n(t){return t=s.invert((t[0]-l)/h,(u-t[1])/h),t&&[t[0]*Go,t[1]*Go]}function r(){s=De(o=dn(v,b,w),a);var t=a(g,m);return l=f-t[0]*h,u=p+t[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),e}var a,o,s,l,u,c,d=en(function(t,e){return t=a(t,e),[t[0]*h+l,u-t[1]*h]}),h=150,f=480,p=250,g=0,m=0,v=0,b=0,w=0,x=Hs,_=y,C=null,S=null;return e.stream=function(t){return c&&(c.valid=!1),c=ln(x(o,d(_(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(C=t,Hs):We((C=+t)*$o),i()):C},e.clipExtent=function(t){return arguments.length?(S=t,_=t?$e(t[0][0],t[0][1],t[1][0],t[1][1]):y,i()):S},e.scale=function(t){return arguments.length?(h=+t,r()):h},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],r()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*$o,m=t[1]%360*$o,r()):[g*Go,m*Go]},e.rotate=function(t){return arguments.length?(v=t[0]%360*$o,b=t[1]%360*$o,w=t.length>2?t[2]%360*$o:0,r()):[v*Go,b*Go,w*Go]},so.rebind(e,d,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,r()}}function ln(t){return an(t,function(e,n){
t.point(e*$o,n*$o)})}function un(t,e){return[t,e]}function cn(t,e){return[t>Ho?t-Fo:t<-Ho?t+Fo:t,e]}function dn(t,e,n){return t?e||n?De(fn(t),pn(e,n)):fn(t):e||n?pn(e,n):cn}function hn(t){return function(e,n){return e+=t,[e>Ho?e-Fo:e<-Ho?e+Fo:e,n]}}function fn(t){var e=hn(t);return e.invert=hn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*i;return[Math.atan2(l*a-c*o,s*r-u*i),et(c*a+l*o)]}var r=Math.cos(t),i=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*a-l*o;return[Math.atan2(l*a+u*o,s*r+c*i),et(c*r-s*i)]},n}function gn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,o,s){var l=o*e;null!=i?(i=mn(n,i),a=mn(n,a),(o>0?i<a:i>a)&&(i+=o*Fo)):(i=t+o*Fo,a=t-.5*l);for(var u,c=i;o>0?c>a:c<a;c-=l)s.point((u=xe([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=ge(e);n[0]-=t,we(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-zo)%(2*Math.PI)}function vn(t,e,n){var r=so.range(t,e-zo,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function yn(t,e,n){var r=so.range(t,e-zo,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function bn(t){return t.source}function wn(t){return t.target}function xn(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=o*Math.cos(n),d=o*Math.sin(n),h=2*Math.asin(Math.sqrt(at(r-e)+i*o*at(n-t))),f=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*f,n=Math.sin(h-t)*f,r=n*l+e*c,i=n*u+e*d,o=n*a+e*s;return[Math.atan2(i,r)*Go,Math.atan2(o,Math.sqrt(r*r+i*i))*Go]}:function(){return[t*Go,e*Go]};return p.distance=h,p}function _n(){function t(t,i){var a=Math.sin(i*=$o),o=Math.cos(i),s=wo((t*=$o)-e),l=Math.cos(s);Qs+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*a-n*o*l)*s),n*a+r*o*l),e=t,n=a,r=o}var e,n,r;Ks.point=function(i,a){e=i*$o,n=Math.sin(a*=$o),r=Math.cos(a),Ks.point=t},Ks.lineEnd=function(){Ks.point=Ks.lineEnd=x}}function Cn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),a=t(r*i);return[a*i*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*a,r*o),Math.asin(r&&n*a/r)]},n}function Sn(t,e){function n(t,e){o>0?e<-Bo+zo&&(e=-Bo+zo):e>Bo-zo&&(e=Bo-zo);var n=o/Math.pow(i(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Ho/4+t/2)},a=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),o=r*Math.pow(i(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,r=Z(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/r,1/a))-Bo]},n):En}function Tn(t,e){function n(t,e){var n=a-e;return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),a=r/i+t;return wo(i)<zo?un:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,a-Z(i)*Math.sqrt(t*t+n*n)]},n)}function En(t,e){return[t,Math.log(Math.tan(Ho/4+e/2))]}function Mn(t){var e,n=on(t),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Ho*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function Dn(t,e){return[Math.log(Math.tan(Ho/4+e/2)),-t]}function kn(t){return t[0]}function An(t){return t[1]}function On(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&J(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Rn(t,e){return t[0]-e[0]||t[1]-e[1]}function Ln(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Nn(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,l=t[1],u=n[1],c=e[1]-l,d=r[1]-u,h=(s*(l-u)-d*(i-a))/(d*o-s*c);return[i+h*o,l+h*c]}function Pn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function In(){rr(this),this.edge=this.site=this.circle=null}function zn(t){var e=ul.pop()||new In;return e.site=t,e}function jn(t){Vn(t),ol.remove(t),ul.push(t),rr(t)}function Hn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];jn(t);for(var l=a;l.circle&&wo(n-l.circle.x)<zo&&wo(r-l.circle.cy)<zo;)a=l.P,s.unshift(l),jn(l),l=a;s.unshift(l),Vn(l);for(var u=o;u.circle&&wo(n-u.circle.x)<zo&&wo(r-u.circle.cy)<zo;)o=u.N,s.push(u),jn(u),u=o;s.push(u),Vn(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],tr(u.edge,l.site,u.site,i);l=s[0],u=s[d-1],u.edge=Zn(l.site,u.site,null,i),Un(l),Un(u)}function Fn(t){for(var e,n,r,i,a=t.x,o=t.y,s=ol._;s;)if(r=Wn(s,o)-a,r>zo)s=s.L;else{if(i=a-Bn(s,o),!(i>zo)){r>-zo?(e=s.P,n=s):i>-zo?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=zn(t);if(ol.insert(e,l),e||n){if(e===n)return Vn(e),n=zn(e.site),ol.insert(l,n),l.edge=n.edge=Zn(e.site,l.site),Un(e),void Un(n);if(!n)return void(l.edge=Zn(e.site,l.site));Vn(e),Vn(n);var u=e.site,c=u.x,d=u.y,h=t.x-c,f=t.y-d,p=n.site,g=p.x-c,m=p.y-d,v=2*(h*m-f*g),y=h*h+f*f,b=g*g+m*m,w={x:(m*y-f*b)/v+c,y:(h*b-g*y)/v+d};tr(n.edge,u,p,w),l.edge=Zn(u,t,null,w),n.edge=Zn(t,p,null,w),Un(e),Un(n)}}function Wn(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,d=1/a-1/u,h=c/u;return d?(-h+Math.sqrt(h*h-2*d*(c*c/(-2*u)-l+u/2+i-a/2)))/d+r:(r+s)/2}function Bn(t,e){var n=t.N;if(n)return Wn(n,e);var r=t.site;return r.y===e?r.x:1/0}function $n(t){this.site=t,this.edges=[]}function Gn(t){for(var e,n,r,i,a,o,s,l,u,c,d=t[0][0],h=t[1][0],f=t[0][1],p=t[1][1],g=al,m=g.length;m--;)if(a=g[m],a&&a.prepare())for(s=a.edges,l=s.length,o=0;o<l;)c=s[o].end(),r=c.x,i=c.y,u=s[++o%l].start(),e=u.x,n=u.y,(wo(r-e)>zo||wo(i-n)>zo)&&(s.splice(o,0,new er(Jn(a.site,c,wo(r-d)<zo&&p-i>zo?{x:d,y:wo(e-d)<zo?n:p}:wo(i-p)<zo&&h-r>zo?{x:wo(n-p)<zo?e:h,y:p}:wo(r-h)<zo&&i-f>zo?{x:h,y:wo(e-h)<zo?n:f}:wo(i-f)<zo&&r-d>zo?{x:wo(n-f)<zo?e:d,y:f}:null),a.site,null)),++l)}function Yn(t,e){return e.angle-t.angle}function qn(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Un(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,u=r.y-s,c=a.x-o,d=a.y-s,h=2*(l*d-u*c);if(!(h>=-jo)){var f=l*l+u*u,p=c*c+d*d,g=(d*f-u*p)/h,m=(l*p-c*f)/h,d=m+s,v=cl.pop()||new qn;v.arc=t,v.site=i,v.x=g+o,v.y=d+Math.sqrt(g*g+m*m),v.cy=d,t.circle=v;for(var y=null,b=ll._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}ll.insert(y,v),y||(sl=v)}}}}function Vn(t){var e=t.circle;e&&(e.P||(sl=e.N),ll.remove(e),cl.push(e),rr(e),t.circle=null)}function Xn(t){for(var e,n=il,r=Be(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Qn(e,t)||!r(e)||wo(e.a.x-e.b.x)<zo&&wo(e.a.y-e.b.y)<zo)&&(e.a=e.b=null,n.splice(i,1))}function Qn(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,d=t.r,h=c.x,f=c.y,p=d.x,g=d.y,m=(h+p)/2,v=(f+g)/2;if(g===f){if(m<o||m>=s)return;if(h>p){if(a){if(a.y>=u)return}else a={x:m,y:l};n={x:m,y:u}}else{if(a){if(a.y<l)return}else a={x:m,y:u};n={x:m,y:l}}}else if(r=(h-p)/(g-f),i=v-r*m,r<-1||r>1)if(h>p){if(a){if(a.y>=u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(f<g){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function Kn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zn(t,e,n,r){var i=new Kn(t,e);return il.push(i),n&&tr(i,t,e,n),r&&tr(i,e,t,r),al[t.i].edges.push(new er(i,t,e)),al[e.i].edges.push(new er(i,e,t)),i}function Jn(t,e,n){var r=new Kn(t,null);return r.a=e,r.b=n,il.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ar(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function or(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,i,a=t.sort(lr).pop();for(il=[],al=new Array(t.length),ol=new nr,ll=new nr;;)if(i=sl,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(al[a.i]=new $n(a),Fn(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;Hn(i.arc)}e&&(Xn(e),Gn(e));var o={cells:al,edges:il};return ol=ll=il=al=null,o}function lr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function cr(t){return t.x}function dr(t){return t.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fr(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=e.nodes;l[0]&&fr(t,l[0],n,r,o,s),l[1]&&fr(t,l[1],o,r,i,s),l[2]&&fr(t,l[2],n,s,o,a),l[3]&&fr(t,l[3],o,s,i,a)}}function pr(t,e,n,r,i,a,o){var s,l=1/0;return function u(t,c,d,h,f){if(!(c>a||d>o||h<r||f<i)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(v<l){var y=Math.sqrt(l=v);r=e-y,i=n-y,a=e+y,o=n+y,s=p}}for(var b=t.nodes,w=.5*(c+h),x=.5*(d+f),_=e>=w,C=n>=x,S=C<<1|_,T=S+4;S<T;++S)if(t=b[3&S])switch(3&S){case 0:u(t,c,d,w,x);break;case 1:u(t,w,d,h,x);break;case 2:u(t,c,x,w,f);break;case 3:u(t,w,x,h,f)}}}(t,r,i,a,o),s}function gr(t,e){t=so.rgb(t),e=so.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,o=e.g-r,s=e.b-i;return function(t){return"#"+wt(Math.round(n+a*t))+wt(Math.round(r+o*t))+wt(Math.round(i+s*t))}}function mr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=br(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function vr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yr(t,e){var n,r,i,a=hl.lastIndex=fl.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=hl.exec(t))&&(r=fl.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:vr(n,r)})),a=fl.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function br(t,e){for(var n,r=so.interpolators.length;--r>=0&&!(n=so.interpolators[r](t,e)););return n}function wr(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(br(t[n],e[n]));for(;n<a;++n)i[n]=t[n];for(;n<o;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}function xr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function _r(t){return function(e){return 1-t(1-e)}}function Cr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Sr(t){return t*t}function Tr(t){return t*t*t}function Er(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Mr(t){return function(e){return Math.pow(e,t)}}function Dr(t){return 1-Math.cos(t*Bo)}function kr(t){return Math.pow(2,10*(t-1))}function Ar(t){return 1-Math.sqrt(1-t*t)}function Or(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Fo*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Fo/e)}}function Rr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Lr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Nr(t,e){t=so.hcl(t),e=so.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,o=e.c-r,s=e.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?e.c:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(t){return ct(n+a*t,r+o*t,i+s*t)+""}}function Pr(t,e){t=so.hsl(t),e=so.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,o=e.s-r,s=e.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?e.s:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(t){return lt(n+a*t,r+o*t,i+s*t)+""}}function Ir(t,e){t=so.lab(t),e=so.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,o=e.a-r,s=e.b-i;return function(t){return ht(n+a*t,r+o*t,i+s*t)+""}}function zr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function jr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Fr(e),i=Hr(e,n),a=Fr(Wr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Go,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Go:0}function Hr(t,e){return t[0]*e[0]+t[1]*e[1]}function Fr(t){var e=Math.sqrt(Hr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Wr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Br(t){return t.length?t.pop()+",":""}function $r(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:vr(t[0],e[0])},{i:i-2,x:vr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Gr(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Br(n)+"rotate(",null,")")-2,x:vr(t,e)})):e&&n.push(Br(n)+"rotate("+e+")")}function Yr(t,e,n,r){t!==e?r.push({i:n.push(Br(n)+"skewX(",null,")")-2,x:vr(t,e)}):e&&n.push(Br(n)+"skewX("+e+")")}function qr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Br(n)+"scale(",null,",",null,")");r.push({i:i-4,x:vr(t[0],e[0])},{i:i-2,x:vr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Br(n)+"scale("+e+")")}function Ur(t,e){var n=[],r=[];return t=so.transform(t),e=so.transform(e),$r(t.translate,e.translate,n,r),Gr(t.rotate,e.rotate,n,r),Yr(t.skew,e.skew,n,r),qr(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,a=r.length;++i<a;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Vr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Xr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Qr(t){for(var e=t.source,n=t.target,r=Zr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Kr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Zr(t,e){if(t===e)return t;for(var n=Kr(t),r=Kr(e),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function Jr(t){t.fixed|=2}function ti(t){t.fixed&=-7}function ei(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ni(t){t.fixed&=-5}function ri(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(ri(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,i+=u*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ii(t,e){return so.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ci,t}function ai(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function oi(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function si(t){return t.children}function li(t){return t.value}function ui(t,e){return e.value-t.value}function ci(t){return so.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function di(t){return t.x}function hi(t){return t.y}function fi(t,e,n){t.y0=e,t.y=n}function pi(t){return so.range(t.length)}function gi(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function mi(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function vi(t){return t.reduce(yi,0)}function yi(t,e){return t+e[1]}function bi(t,e){return wi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function wi(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function xi(t){return[so.min(t),so.max(t)]}function _i(t,e){return t.value-e.value}function Ci(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Si(t,e){t._pack_next=e,e._pack_prev=t}function Ti(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Ei(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(u=n.length)){var n,r,i,a,o,s,l,u,c=1/0,d=-(1/0),h=1/0,f=-(1/0);if(n.forEach(Mi),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(i=n[1],i.x=i.r,i.y=0,e(i),u>2))for(a=n[2],Ai(r,i,a),e(a),Ci(r,a),r._pack_prev=a,Ci(a,i),i=r._pack_next,o=3;o<u;o++){Ai(r,i,a=n[o]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Ti(s,a)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!Ti(l,a);l=l._pack_prev,m++);p?(g<m||g==m&&i.r<r.r?Si(r,i=s):Si(r=l,i),o--):(Ci(r,a),i=a,e(a))}var v=(c+d)/2,y=(h+f)/2,b=0;for(o=0;o<u;o++)a=n[o],a.x-=v,a.y-=y,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=b,n.forEach(Di)}}function Mi(t){t._pack_next=t._pack_prev=t}function Di(t){delete t._pack_next,delete t._pack_prev}function ki(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)ki(i[a],e,n,r)}function Ai(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a;o*=o,r*=r;var l=.5+(r-o)/(2*s),u=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*i+u*a,n.y=t.y+l*a-u*i}else n.x=t.x+r,n.y=t.y}function Oi(t,e){return t.parent==e.parent?1:2}function Ri(t){var e=t.children;return e.length?e[0]:t.t}function Li(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ni(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Pi(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)e=i[a],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Ii(t,e,n){return t.a.parent===e.parent?t.a:n}function zi(t){return 1+so.max(t,function(t){return t.y})}function ji(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Hi(t){var e=t.children;return e&&e.length?Hi(e[0]):t}function Fi(t){var e,n=t.children;return n&&(e=n.length)?Fi(n[e-1]):t}function Wi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Bi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function $i(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Gi(t){return t.rangeExtent?t.rangeExtent():$i(t.range())}function Yi(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function qi(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Ui(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Sl}function Vi(t,e,n,r){var i=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)i.push(n(t[o-1],t[o])),a.push(r(e[o-1],e[o]));return function(e){var n=so.bisect(t,e,1,s)-1;return a[n](i[n](e))}}function Xi(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Vi:Yi,l=r?Xr:Vr;return o=i(t,e,l,n),s=i(e,t,l,br),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},a.range=function(t){return arguments.length?(e=t,i()):e},a.rangeRound=function(t){return a.range(t).interpolate(zr)},a.clamp=function(t){return arguments.length?(r=t,i()):r},a.interpolate=function(t){return arguments.length?(n=t,i()):n},a.ticks=function(e){return Ji(t,e)},a.tickFormat=function(e,n){return ta(t,e,n)},a.nice=function(e){return Ki(t,e),i()},a.copy=function(){return Xi(t,e,n,r)},i()}function Qi(t,e){return so.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ki(t,e){return qi(t,Ui(Zi(t,e)[2])),qi(t,Ui(Zi(t,e)[2])),t}function Zi(t,e){null==e&&(e=10);var n=$i(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ji(t,e){return so.range.apply(so,Zi(t,e))}function ta(t,e,n){var r=Zi(t,e);if(n){var i=hs.exec(n);if(i.shift(),"s"===i[8]){var a=so.formatPrefix(Math.max(wo(r[0]),wo(r[1])));return i[7]||(i[7]="."+ea(a.scale(r[2]))),i[8]="f",n=so.format(i.join("")),function(t){return n(a.scale(t))+a.symbol}}i[7]||(i[7]="."+na(i[8],r)),n=i.join("")}else n=",."+ea(r[2])+"f";return so.format(n)}function ea(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function na(t,e){var n=ea(e[2]);return t in Tl?Math.abs(n-ea(Math.max(wo(e[0]),wo(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ra(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(i(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),o):e},o.nice=function(){var e=qi(r.map(i),n?Math:Ml);return t.domain(e),r=e.map(a),o},o.ticks=function(){var t=$i(r),o=[],s=t[0],l=t[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),d=e%1?2:e;if(isFinite(c-u)){if(n){for(;u<c;u++)for(var h=1;h<d;h++)o.push(a(u)*h);o.push(a(u))}else for(o.push(a(u));u++<c;)for(var h=d-1;h>0;h--)o.push(a(u)*h);for(u=0;o[u]<s;u++);for(c=o.length;o[c-1]>l;c--);o=o.slice(u,c)}return o},o.tickFormat=function(t,n){if(!arguments.length)return El;arguments.length<2?n=El:"function"!=typeof n&&(n=so.format(n));var r=Math.max(1,e*t/o.ticks().length);return function(t){var o=t/a(Math.round(i(t)));return o*e<e-.5&&(o*=e),o<=r?n(t):""}},o.copy=function(){return ra(t.copy(),e,n,r)},Qi(o,t)}function ia(t,e,n){function r(e){return t(i(e))}var i=aa(e),a=aa(1/e);return r.invert=function(e){return a(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Ji(n,t)},r.tickFormat=function(t,e){return ta(n,t,e)},r.nice=function(t){return r.domain(Ki(n,t))},r.exponent=function(o){return arguments.length?(i=aa(e=o),a=aa(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return ia(t.copy(),e,n)},Qi(r,t)}function aa(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oa(t,e){function n(n){return a[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%a.length]}function r(e,n){return so.range(t.length).map(function(t){return e+n*t})}var i,a,o;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new u;for(var a,o=-1,s=r.length;++o<s;)i.has(a=r[o])||i.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return a=r(l+c*s/2,c),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return a=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],d=i[1-u],h=(d-c)/(t.length-s+2*l);return a=r(c+h*l,h),u&&a.reverse(),o=h*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],d=i[1-u],h=Math.floor((d-c)/(t.length-s+2*l));return a=r(c+Math.round((d-c-(t.length-s)*h)/2),h),u&&a.reverse(),o=Math.round(h*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return $i(e.a[0])},n.copy=function(){return oa(t,e)},n.domain(t)}function sa(t,e){function a(){var n=0,r=e.length;for(s=[];++n<r;)s[n-1]=so.quantile(t,n/r);return o}function o(t){if(!isNaN(t=+t))return e[so.bisect(s,t)]}var s;return o.domain=function(e){return arguments.length?(t=e.map(r).filter(i).sort(n),a()):t},o.range=function(t){return arguments.length?(e=t,a()):e},o.quantiles=function(){return s},o.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},o.copy=function(){return sa(t,e)},a()}function la(t,e,n){function r(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function i(){return a=n.length/(e-t),o=n.length-1,r}var a,o;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/a+t,[e,e+1/a]},r.copy=function(){return la(t,e,n)},i()}function ua(t,e){function n(n){if(n<=n)return e[so.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ua(t,e)},n}function ca(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Ji(t,e)},e.tickFormat=function(e,n){return ta(t,e,n)},e.copy=function(){return ca(t)},e}function da(){return 0}function ha(t){return t.innerRadius}function fa(t){return t.outerRadius}function pa(t){return t.startAngle}function ga(t){return t.endAngle}function ma(t){return t&&t.padAngle}function va(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function ya(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=t[0]+l,d=t[1]+u,h=e[0]+l,f=e[1]+u,p=(c+h)/2,g=(d+f)/2,m=h-c,v=f-d,y=m*m+v*v,b=n-r,w=c*f-h*d,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),_=(w*v-m*x)/y,C=(-w*m-v*x)/y,S=(w*v+m*x)/y,T=(-w*m+v*x)/y,E=_-p,M=C-g,D=S-p,k=T-g;return E*E+M*M>D*D+k*k&&(_=S,C=T),[[_-l,C-u],[_*n/b,C*n/b]]}function ba(t){function e(e){function o(){u.push("M",a(t(c),s))}for(var l,u=[],c=[],d=-1,h=e.length,f=Et(n),p=Et(r);++d<h;)i.call(this,l=e[d],d)?c.push([+f.call(this,l,d),+p.call(this,l,d)]):c.length&&(o(),c=[]);return c.length&&o(),u.length?u.join(""):null}var n=kn,r=An,i=ke,a=wa,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=Ll.get(t)||wa).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function wa(t){return t.length>1?t.join("L"):t+"Z"}function xa(t){return t.join("L")+"Z"}function _a(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Ca(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Sa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Ta(t,e){return t.length<4?wa(t):t[1]+Da(t.slice(1,-1),ka(t,e))}function Ea(t,e){return t.length<3?xa(t):t[0]+Da((t.push(t[0]),t),ka([t[t.length-2]].concat(t,[t[1]]),e))}function Ma(t,e){return t.length<3?wa(t):t[0]+Da(t,ka(t,e))}function Da(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return wa(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<e.length;u++,l++)a=t[l],s=e[u],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=t[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function ka(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function Aa(t){if(t.length<3)return wa(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",Na(Il,o),",",Na(Il,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Pa(l,o,s);return t.pop(),l.push("L",r),l.join("")}function Oa(t){if(t.length<4)return wa(t);for(var e,n=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);for(n.push(Na(Il,a)+","+Na(Il,o)),--r;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Pa(n,a,o);return n.join("")}function Ra(t){for(var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);for(e=[Na(Il,o),",",Na(Il,s)],--r;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Pa(e,o,s);return e.join("")}function La(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*l);return Aa(t)}function Na(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Pa(t,e,n){t.push("C",Na(Nl,e),",",Na(Nl,n),",",Na(Pl,e),",",Na(Pl,n),",",Na(Il,e),",",Na(Il,n))}function Ia(t,e){return(e[1]-t[1])/(e[0]-t[0])}function za(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=Ia(i,a);++e<n;)r[e]=(o+(o=Ia(i=a,a=t[e+1])))/2;return r[e]=o,r}function ja(t){for(var e,n,r,i,a=[],o=za(t),s=-1,l=t.length-1;++s<l;)e=Ia(t[s],t[s+1]),wo(e)<zo?o[s]=o[s+1]=0:(n=o[s]/e,r=o[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function Ha(t){return t.length<3?wa(t):t[0]+Da(t,ja(t))}function Fa(t){for(var e,n,r,i=-1,a=t.length;++i<a;)e=t[i],n=e[0],r=e[1]-Bo,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Wa(t){function e(e){function l(){g.push("M",s(t(v),d),c,u(t(m.reverse()),d),"Z")}for(var h,f,p,g=[],m=[],v=[],y=-1,b=e.length,w=Et(n),x=Et(i),_=n===r?function(){return f}:Et(r),C=i===a?function(){return p}:Et(a);++y<b;)o.call(this,h=e[y],y)?(m.push([f=+w.call(this,h,y),p=+x.call(this,h,y)]),v.push([+_.call(this,h,y),+C.call(this,h,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=kn,r=kn,i=0,a=An,o=ke,s=wa,l=s.key,u=s,c="L",d=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=a=t,e):a},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Ll.get(t)||wa).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function Ba(t){return t.radius}function $a(t){return[t.x,t.y]}function Ga(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Bo;return[n*Math.cos(r),n*Math.sin(r)]}}function Ya(){return 64}function qa(){return"circle"}function Ua(t){var e=Math.sqrt(t/Ho);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Va(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Xa(t,e,n){return To(t,$l),t.namespace=e,t.id=n,t}function Qa(t,e,n,r){var i=t.id,a=t.namespace;return $(t,"function"==typeof n?function(t,o,s){t[a][i].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}function Ka(t){return null==t&&(t=""),function(){this.textContent=t}}function Za(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ja(t,e,n,r,i){function a(t){var e=g.delay;return c.t=e+l,e<=t?o(t-e):void(c.c=o)}function o(n){var i=p.active,a=p[i];a&&(a.timer.c=null,a.timer.t=NaN,--p.count,delete p[i],a.event&&a.event.interrupt.call(t,t.__data__,a.index));for(var o in p)if(+o<r){var u=p[o];u.timer.c=null,u.timer.t=NaN,--p.count,delete p[o]}c.c=s,Ot(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=r,g.event&&g.event.start.call(t,t.__data__,e),f=[],g.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&f.push(r)}),h=g.ease,
d=g.duration}function s(i){for(var a=i/d,o=h(a),s=f.length;s>0;)f[--s].call(t,o);if(a>=1)return g.event&&g.event.end.call(t,t.__data__,e),--p.count?delete p[r]:delete t[n],1}var l,c,d,h,f,p=t[n]||(t[n]={active:0,count:0}),g=p[r];g||(l=i.time,c=Ot(a,0,l),g=p[r]={tween:new u,time:l,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++p.count)}function to(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function eo(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function no(t){return t.toISOString()}function ro(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,a=so.bisect(Zl,i);return a==Zl.length?[e.year,Zi(t.map(function(t){return t/31536e6}),n)[2]]:a?e[i/Zl[a-1]<Zl[a]/i?a-1:a]:[eu,Zi(t,n)[2]]}return r.invert=function(e){return io(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(io)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,io(+n+1),e).length}var a=r.domain(),o=$i(a),s=null==t?i(o,10):"number"==typeof t&&i(o,t);return s&&(t=s[0],e=s[1]),r.domain(qi(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=io(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=io(+e+1);return e}}:t))},r.ticks=function(t,e){var n=$i(r.domain()),a=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],io(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return ro(t.copy(),e,n)},Qi(r,t)}function io(t){return new Date(t)}function ao(t){return JSON.parse(t.responseText)}function oo(t){var e=co.createRange();return e.selectNode(co.body),e.createContextualFragment(t.responseText)}var so={version:"3.5.17"},lo=[].slice,uo=function(t){return lo.call(t)},co=this.document;if(co)try{uo(co.documentElement.childNodes)[0].nodeType}catch(ho){uo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),co)try{co.createElement("DIV").style.setProperty("opacity",0,"")}catch(fo){var po=this.Element.prototype,go=po.setAttribute,mo=po.setAttributeNS,vo=this.CSSStyleDeclaration.prototype,yo=vo.setProperty;po.setAttribute=function(t,e){go.call(this,t,e+"")},po.setAttributeNS=function(t,e,n){mo.call(this,t,e,n+"")},vo.setProperty=function(t,e,n){yo.call(this,t,e+"",n)}}so.ascending=n,so.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},so.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},so.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},so.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},so.sum=function(t,e){var n,r=0,a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)i(n=+t[o])&&(r+=n);else for(;++o<a;)i(n=+e.call(t,t[o],o))&&(r+=n);return r},so.mean=function(t,e){var n,a=0,o=t.length,s=-1,l=o;if(1===arguments.length)for(;++s<o;)i(n=r(t[s]))?a+=n:--l;else for(;++s<o;)i(n=r(e.call(t,t[s],s)))?a+=n:--l;if(l)return a/l},so.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},so.median=function(t,e){var a,o=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)i(a=r(t[l]))&&o.push(a);else for(;++l<s;)i(a=r(e.call(t,t[l],l)))&&o.push(a);if(o.length)return so.quantile(o.sort(n),.5)},so.variance=function(t,e){var n,a,o=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<o;)i(n=r(t[u]))&&(a=n-s,s+=a/++c,l+=a*(n-s));else for(;++u<o;)i(n=r(e.call(t,t[u],u)))&&(a=n-s,s+=a/++c,l+=a*(n-s));if(c>1)return l/(c-1)},so.deviation=function(){var t=so.variance.apply(this,arguments);return t?Math.sqrt(t):t};var bo=a(n);so.bisectLeft=bo.left,so.bisect=so.bisectRight=bo.right,so.bisector=function(t){return a(1===t.length?function(e,r){return n(t(e),r)}:t)},so.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},so.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},so.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=[e=i,i=t[++n]];return a},so.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=so.min(t,o),r=new Array(n);++e<n;)for(var i,a=-1,s=r[e]=new Array(i);++a<i;)s[a]=t[a][e];return r},so.zip=function(){return so.transpose(arguments)},so.keys=function(t){var e=[];for(var n in t)e.push(n);return e},so.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},so.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},so.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--o]=r[e];return n};var wo=Math.abs;so.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],a=s(wo(n)),o=-1;if(t*=a,e*=a,n*=a,n<0)for(;(r=t+n*++o)>e;)i.push(r/a);else for(;(r=t+n*++o)<e;)i.push(r/a);return i},so.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n};var xo="__proto__",_o="\0";l(u,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:f,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:d(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e),this._[e])}}),so.nest=function(){function t(e,o,s){if(s>=a.length)return r?r.call(i,o):n?o.sort(n):o;for(var l,c,d,h,f=-1,p=o.length,g=a[s++],m=new u;++f<p;)(h=m.get(l=g(c=o[f])))?h.push(c):m.set(l,[c]);return e?(c=e(),d=function(n,r){c.set(n,t(e,r,s))}):(c={},d=function(n,r){c[n]=t(e,r,s)}),m.forEach(d),c}function e(t,n){if(n>=a.length)return t;var r=[],i=o[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},a=[],o=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(so.map,n,0),0)},i.key=function(t){return a.push(t),i},i.sortKeys=function(t){return o[a.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},so.set=function(t){var e=new v;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},l(v,{has:h,add:function(t){return this._[c(t+="")]=!0,t},remove:f,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,d(e))}}),so.behavior={},so.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=b(t,e,e[n]);return t};var Co=["webkit","ms","moz","Moz","o","O"];so.dispatch=function(){for(var t=new _,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=C(t);return t},_.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},so.event=null,so.requote=function(t){return t.replace(So,"\\$&")};var So=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,To={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Eo=function(t,e){return e.querySelector(t)},Mo=function(t,e){return e.querySelectorAll(t)},Do=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(Do=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Eo=function(t,e){return Sizzle(t,e)[0]||null},Mo=Sizzle,Do=Sizzle.matchesSelector),so.selection=function(){return so.select(co.documentElement)};var ko=so.selection.prototype=[];ko.select=function(t){var e,n,r,i,a=[];t=D(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return M(a)},ko.selectAll=function(t){var e,n,r=[];t=k(t);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(e=uo(t.call(n,n.__data__,s,i))),e.parentNode=n);return M(r)};var Ao="http://www.w3.org/1999/xhtml",Oo={svg:"http://www.w3.org/2000/svg",xhtml:Ao,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};so.ns={prefix:Oo,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Oo.hasOwnProperty(n)?{space:Oo[n],local:t}:t}},ko.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=so.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(A(e,t[e]));return this}return this.each(A(t,e))},ko.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=L(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!R(t[i]).test(e))return!1;return!0}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},ko.style=function(t,n,r){var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(n="");for(r in t)this.each(I(r,t[r],n));return this}if(i<2){var a=this.node();return e(a).getComputedStyle(a,null).getPropertyValue(t)}r=""}return this.each(I(t,n,r))},ko.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))},ko.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ko.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ko.append=function(t){return t=j(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ko.insert=function(t,e){return t=j(t),e=D(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ko.remove=function(){return this.each(H)},ko.data=function(t,e){function n(t,n){var r,i,a,o=t.length,d=n.length,h=Math.min(o,d),f=new Array(d),p=new Array(d),g=new Array(o);if(e){var m,v=new u,y=new Array(o);for(r=-1;++r<o;)(i=t[r])&&(v.has(m=e.call(i,i.__data__,r))?g[r]=i:v.set(m,i),y[r]=m);for(r=-1;++r<d;)(i=v.get(m=e.call(n,a=n[r],r)))?i!==!0&&(f[r]=i,i.__data__=a):p[r]=F(a),v.set(m,!0);for(r=-1;++r<o;)r in y&&v.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],a=n[r],i?(i.__data__=a,f[r]=i):p[r]=F(a);for(;r<d;++r)p[r]=F(n[r]);for(;r<o;++r)g[r]=t[r]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,s.push(p),l.push(f),c.push(g)}var r,i,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(r=this[0]).length);++a<o;)(i=r[a])&&(t[a]=i.__data__);return t}var s=G([]),l=M([]),c=M([]);if("function"==typeof t)for(;++a<o;)n(r=this[a],t.call(r,r.parentNode.__data__,a));else for(;++a<o;)n(r=this[a],t);return l.enter=function(){return s},l.exit=function(){return c},l},ko.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ko.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=W(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return M(i)},ko.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},ko.sort=function(t){t=B.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ko.each=function(t){return $(this,function(e,n,r){t.call(e,e.__data__,n,r)})},ko.call=function(t){var e=uo(arguments);return t.apply(e[0]=this,e),this},ko.empty=function(){return!this.node()},ko.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},ko.size=function(){var t=0;return $(this,function(){++t}),t};var Ro=[];so.selection.enter=G,so.selection.enter.prototype=Ro,Ro.append=ko.append,Ro.empty=ko.empty,Ro.node=ko.node,Ro.call=ko.call,Ro.size=ko.size,Ro.select=function(t){for(var e,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(e.push(r[u]=n=t.call(i.parentNode,a.__data__,u,s)),n.__data__=a.__data__):e.push(null)}return M(o)},Ro.insert=function(t,e){return arguments.length<2&&(e=Y(this)),ko.insert.call(this,t,e)},so.select=function(e){var n;return"string"==typeof e?(n=[Eo(e,co)],n.parentNode=co.documentElement):(n=[e],n.parentNode=t(e)),M([n])},so.selectAll=function(t){var e;return"string"==typeof t?(e=uo(Mo(t,co)),e.parentNode=co.documentElement):(e=uo(t),e.parentNode=null),M([e])},ko.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(q(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(q(t,e,n))};var Lo=so.map({mouseenter:"mouseover",mouseleave:"mouseout"});co&&Lo.forEach(function(t){"on"+t in co&&Lo.remove(t)});var No,Po=0;so.mouse=function(t){return Q(t,T())};var Io=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;so.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=T().changedTouches),e)for(var r,i=0,a=e.length;i<a;++i)if((r=e[i]).identifier===n)return Q(t,r)},so.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",o)}function n(t,e,n,a,o){return function(){function s(){var t,n,r=e(h,g);r&&(t=r[0]-b[0],n=r[1]-b[1],p|=t|n,b=r,f({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(h,g)&&(v.on(a+m,null).on(o+m,null),y(p),f({type:"dragend"}))}var u,c=this,d=so.event.target.correspondingElement||so.event.target,h=c.parentNode,f=r.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=so.select(n(d)).on(a+m,s).on(o+m,l),y=X(d),b=e(h,g);i?(u=i.apply(c,arguments),u=[u.x-b[0],u.y-b[1]]):u=[0,0],f({type:"dragstart"})}}var r=E(t,"drag","dragstart","dragend"),i=null,a=n(x,so.mouse,e,"mousemove","mouseup"),o=n(K,so.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},so.rebind(t,r,"on")},so.touches=function(t,e){return arguments.length<2&&(e=T().touches),e?uo(e).map(function(e){var n=Q(t,e);return n.identifier=e.identifier,n}):[]};var zo=1e-6,jo=zo*zo,Ho=Math.PI,Fo=2*Ho,Wo=Fo-zo,Bo=Ho/2,$o=Ho/180,Go=180/Ho,Yo=Math.SQRT2,qo=2,Uo=4;so.interpolateZoom=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],u=e[2],c=s-i,d=l-a,h=c*c+d*d;if(h<jo)r=Math.log(u/o)/Yo,n=function(t){return[i+t*c,a+t*d,o*Math.exp(Yo*t*r)]};else{var f=Math.sqrt(h),p=(u*u-o*o+Uo*h)/(2*o*qo*f),g=(u*u-o*o-Uo*h)/(2*u*qo*f),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/Yo,n=function(t){var e=t*r,n=rt(m),s=o/(qo*f)*(n*it(Yo*e+m)-nt(m));return[i+s*c,a+s*d,o*n/rt(Yo*e+m)]}}return n.duration=1e3*r,n},so.behavior.zoom=function(){function t(t){t.on(O,d).on(Xo+".zoom",f).on("dblclick.zoom",p).on(N,h)}function n(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function r(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function i(t){T.k=Math.max(D[0],Math.min(D[1],t))}function a(t,e){e=r(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function o(e,n,r,o){e.__chart__={x:T.x,y:T.y,k:T.k},i(Math.pow(2,o)),a(m=n,r),e=so.select(e),k>0&&(e=e.transition().duration(k)),e.call(t.event)}function s(){x&&x.domain(w.range().map(function(t){return(t-T.x)/T.k}).map(w.invert)),C&&C.domain(_.range().map(function(t){return(t-T.y)/T.k}).map(_.invert))}function l(t){A++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function c(t){--A||(t({type:"zoomend"}),m=null)}function d(){function t(){s=1,a(so.mouse(i),h),u(o)}function r(){d.on(R,null).on(L,null),f(s),c(o)}var i=this,o=P.of(i,arguments),s=0,d=so.select(e(i)).on(R,t).on(L,r),h=n(so.mouse(i)),f=X(i);Bl.call(i),l(o)}function h(){function t(){var t=so.touches(p);return f=T.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=so.event.target;so.select(e).on(w,r).on(x,s),_.push(e);for(var n=so.event.changedTouches,i=0,a=n.length;i<a;++i)m[n[i].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(u-b<500){var c=l[0];o(p,c,m[c.identifier],Math.floor(Math.log(T.k)/Math.LN2)+1),S()}b=u}else if(l.length>1){var c=l[0],d=l[1],h=c[0]-d[0],f=c[1]-d[1];v=h*h+f*f}}function r(){var t,e,n,r,o=so.touches(p);Bl.call(p);for(var s=0,l=o.length;s<l;++s,r=null)if(n=o[s],r=m[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,d=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],i(d*f)}b=null,a(t,e),u(g)}function s(){if(so.event.touches.length){for(var e=so.event.changedTouches,n=0,r=e.length;n<r;++n)delete m[e[n].identifier];for(var i in m)return void t()}so.selectAll(_).on(y,null),C.on(O,d).on(N,h),E(),c(g)}var f,p=this,g=P.of(p,arguments),m={},v=0,y=".zoom-"+so.event.changedTouches[0].identifier,w="touchmove"+y,x="touchend"+y,_=[],C=so.select(p),E=X(p);e(),l(g),C.on(O,null).on(N,e)}function f(){var t=P.of(this,arguments);y?clearTimeout(y):(Bl.call(this),g=n(m=v||so.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),S(),i(Math.pow(2,.002*Vo())*T.k),a(m,g),u(t)}function p(){var t=so.mouse(this),e=Math.log(T.k)/Math.LN2;o(this,t,n(t),so.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,b,w,x,_,C,T={x:0,y:0,k:1},M=[960,500],D=Qo,k=250,A=0,O="mousedown.zoom",R="mousemove.zoom",L="mouseup.zoom",N="touchstart.zoom",P=E(t,"zoomstart","zoom","zoomend");return Xo||(Xo="onwheel"in co?(Vo=function(){return-so.event.deltaY*(so.event.deltaMode?120:1)},"wheel"):"onmousewheel"in co?(Vo=function(){return so.event.wheelDelta},"mousewheel"):(Vo=function(){return-so.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=P.of(this,arguments),e=T;Fl?so.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=M[0],r=M[1],i=m?m[0]:n/2,a=m?m[1]:r/2,o=so.interpolateZoom([(i-T.x)/T.k,(a-T.y)/T.k,n/T.k],[(i-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var r=o(e),s=n/r[2];this.__chart__=T={x:i-r[0]*s,y:a-r[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=T,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(T={x:+e[0],y:+e[1],k:T.k},s(),t):[T.x,T.y]},t.scale=function(e){return arguments.length?(T={x:T.x,y:T.y,k:null},i(+e),s(),t):T.k},t.scaleExtent=function(e){return arguments.length?(D=null==e?Qo:[+e[0],+e[1]],t):D},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(k=+e,t):k},t.x=function(e){return arguments.length?(x=e,w=e.copy(),T={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(C=e,_=e.copy(),T={x:0,y:0,k:1},t):C},so.rebind(t,P,"on")};var Vo,Xo,Qo=[0,1/0];so.color=ot,ot.prototype.toString=function(){return this.rgb()+""},so.hsl=st;var Ko=st.prototype=new ot;Ko.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Ko.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Ko.rgb=function(){return lt(this.h,this.s,this.l)},so.hcl=ut;var Zo=ut.prototype=new ot;Zo.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Jo*(arguments.length?t:1)))},Zo.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Jo*(arguments.length?t:1)))},Zo.rgb=function(){return ct(this.h,this.c,this.l).rgb()},so.lab=dt;var Jo=18,ts=.95047,es=1,ns=1.08883,rs=dt.prototype=new ot;rs.brighter=function(t){return new dt(Math.min(100,this.l+Jo*(arguments.length?t:1)),this.a,this.b)},rs.darker=function(t){return new dt(Math.max(0,this.l-Jo*(arguments.length?t:1)),this.a,this.b)},rs.rgb=function(){return ht(this.l,this.a,this.b)},so.rgb=vt;var is=vt.prototype=new ot;is.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new vt(i,i,i)},is.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},is.hsl=function(){return _t(this.r,this.g,this.b)},is.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var as=so.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});as.forEach(function(t,e){as.set(t,yt(e))}),so.functor=Et,so.xhr=Mt(y),so.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=Dt(t,e,null==n?r:i(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?r:i(t)):n},o}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return o;if(i)return i=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,a={},o={},s=[],u=t.length,c=0,d=0;(r=n())!==o;){for(var h=[];r!==a&&r!==o;)h.push(r),r=n();e&&null==(h=e(h,d++))||s.push(h)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new v,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(o).join(t)].concat(e.map(function(e){return i.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},so.csv=so.dsv(",","text/csv"),so.tsv=so.dsv("\t","text/tab-separated-values");var os,ss,ls,us,cs=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};so.timer=function(){Ot.apply(this,arguments)},so.timer.flush=function(){Lt(),Nt()},so.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ds=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(It);so.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=so.round(t,Pt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ds[8+n/3]};var hs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fs=so.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=so.round(t,Pt(t,e))).toFixed(Math.max(0,Math.min(20,Pt(t*(1+1e-15),e))))}}),ps=so.time={},gs=Date;Ht.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ms.setUTCDate.apply(this._,arguments)},setDay:function(){ms.setUTCDay.apply(this._,arguments)},setFullYear:function(){ms.setUTCFullYear.apply(this._,arguments)},setHours:function(){ms.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ms.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ms.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ms.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ms.setUTCSeconds.apply(this._,arguments)},setTime:function(){ms.setTime.apply(this._,arguments)}};var ms=Date.prototype;ps.year=Ft(function(t){return t=ps.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ps.years=ps.year.range,ps.years.utc=ps.year.utc.range,ps.day=Ft(function(t){var e=new gs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ps.days=ps.day.range,ps.days.utc=ps.day.utc.range,ps.dayOfYear=function(t){var e=ps.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ps[t]=Ft(function(t){return(t=ps.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ps.year(t).getDay();return Math.floor((ps.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ps[t+"s"]=n.range,ps[t+"s"].utc=n.utc.range,ps[t+"OfYear"]=function(t){var n=ps.year(t).getDay();return Math.floor((ps.dayOfYear(t)+(n+e)%7)/7)}}),ps.week=ps.sunday,ps.weeks=ps.sunday.range,ps.weeks.utc=ps.sunday.utc.range,ps.weekOfYear=ps.sundayOfYear;var vs={"-":"",_:" ",0:"0"},ys=/^\s*\d+/,bs=/^%/;so.locale=function(t){return{numberFormat:zt(t),timeFormat:Bt(t)}};var ws=so.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});so.format=ws.numberFormat,so.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,xs),ce(xs.s,this.s,this),this.s?this.t+=xs.t:this.s=xs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xs=new ue;so.geo.stream=function(t,e){t&&_s.hasOwnProperty(t.type)?_s[t.type](t,e):de(t,e)};var _s={Feature:function(t,e){de(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)de(n[r].geometry,e)}},Cs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)he(n[r],e,0)},Polygon:function(t,e){fe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)de(n[r],e)}};so.geo.area=function(t){return Ss=0,so.geo.stream(t,Es),Ss};var Ss,Ts=new ue,Es={sphere:function(){Ss+=4*Ho},point:x,lineStart:x,lineEnd:x,polygonStart:function(){Ts.reset(),Es.lineStart=pe},polygonEnd:function(){var t=2*Ts;Ss+=t<0?4*Ho+t:t,Es.lineStart=Es.lineEnd=Es.point=x}};so.geo.bounds=function(){function t(t,e){b.push(w=[c=t,h=t]),e<d&&(d=e),e>f&&(f=e)}function e(e,n){var r=ge([e*$o,n*$o]);if(v){var i=ve(v,r),a=[i[1],-i[0],0],o=ve(a,i);we(o),o=xe(o);var l=e-p,u=l>0?1:-1,g=o[0]*Go*u,m=wo(l)>180;if(m^(u*p<g&&g<u*e)){var y=o[1]*Go;y>f&&(f=y)}else if(g=(g+360)%360-180,m^(u*p<g&&g<u*e)){var y=-o[1]*Go;y<d&&(d=y)}else n<d&&(d=n),n>f&&(f=n);m?e<p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e):h>=c?(e<c&&(c=e),e>h&&(h=e)):e>p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e)}else t(e,n);v=r,p=e}function n(){x.point=e}function r(){w[0]=c,w[1]=h,x.point=t,v=null}function i(t,n){if(v){var r=t-p;y+=wo(r)>180?r+(r>0?360:-360):r}else g=t,m=n;Es.point(t,n),e(t,n)}function a(){Es.lineStart()}function o(){i(g,m),Es.lineEnd(),wo(y)>zo&&(c=-(h=180)),
w[0]=c,w[1]=h,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,h,f,p,g,m,v,y,b,w,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=a,x.lineEnd=o,y=0,Es.polygonStart()},polygonEnd:function(){Es.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,Ts<0?(c=-(h=180),d=-(f=90)):y>zo?f=90:y<-zo&&(d=-90),w[0]=c,w[1]=h}};return function(t){f=h=-(c=d=1/0),b=[],so.geo.stream(t,x);var e=b.length;if(e){b.sort(l);for(var n,r=1,i=b[0],a=[i];r<e;++r)n=b[r],u(n[0],i)||u(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):a.push(i=n);for(var o,n,p=-(1/0),e=a.length-1,r=0,i=a[e];r<=e;i=n,++r)n=a[r],(o=s(i[1],n[0]))>p&&(p=o,c=n[0],h=i[1])}return b=w=null,c===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,d],[h,f]]}}(),so.geo.centroid=function(t){Ms=Ds=ks=As=Os=Rs=Ls=Ns=Ps=Is=zs=0,so.geo.stream(t,js);var e=Ps,n=Is,r=zs,i=e*e+n*n+r*r;return i<jo&&(e=Rs,n=Ls,r=Ns,Ds<zo&&(e=ks,n=As,r=Os),i=e*e+n*n+r*r,i<jo)?[NaN,NaN]:[Math.atan2(n,e)*Go,et(r/Math.sqrt(i))*Go]};var Ms,Ds,ks,As,Os,Rs,Ls,Ns,Ps,Is,zs,js={sphere:x,point:Ce,lineStart:Te,lineEnd:Ee,polygonStart:function(){js.lineStart=Me},polygonEnd:function(){js.lineStart=Te}},Hs=Le(ke,ze,He,[-Ho,-Ho/2]),Fs=1e9;so.geo.clipExtent=function(){var t,e,n,r,i,a,o={stream:function(t){return i&&(i.valid=!1),i=a(t),i.valid=!0,i},extent:function(s){return arguments.length?(a=$e(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(so.geo.conicEqualArea=function(){return Ge(Ye)}).raw=Ye,so.geo.albers=function(){return so.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},so.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(r(a,o),e)||i(a,o),e}var e,n,r,i,a=so.geo.albers(),o=so.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=so.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var u=a.scale(),c=+e[0],d=+e[1];return n=a.translate(e).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,r=o.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+zo,d+.12*u+zo],[c-.214*u-zo,d+.234*u-zo]]).stream(l).point,i=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+zo,d+.166*u+zo],[c-.115*u-zo,d+.234*u-zo]]).stream(l).point,t},t.scale(1070)};var Ws,Bs,$s,Gs,Ys,qs,Us={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Bs=0,Us.lineStart=qe},polygonEnd:function(){Us.lineStart=Us.lineEnd=Us.point=x,Ws+=wo(Bs/2)}},Vs={point:Ue,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Xs={point:Qe,lineStart:Ke,lineEnd:Ze,polygonStart:function(){Xs.lineStart=Je},polygonEnd:function(){Xs.point=Qe,Xs.lineStart=Ke,Xs.lineEnd=Ze}};so.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=i(a)),so.geo.stream(t,o)),a.result()}function e(){return o=null,t}var n,r,i,a,o,s=4.5;return t.area=function(t){return Ws=0,so.geo.stream(t,i(Us)),Ws},t.centroid=function(t){return ks=As=Os=Rs=Ls=Ns=Ps=Is=zs=0,so.geo.stream(t,i(Xs)),zs?[Ps/zs,Is/zs]:Ns?[Rs/Ns,Ls/Ns]:Os?[ks/Os,As/Os]:[NaN,NaN]},t.bounds=function(t){return Ys=qs=-($s=Gs=1/0),so.geo.stream(t,i(Vs)),[[$s,Gs],[Ys,qs]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||nn(t):y,e()):n},t.context=function(t){return arguments.length?(a=null==(r=t)?new Ve:new tn(t),"function"!=typeof s&&a.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(so.geo.albersUsa()).context(null)},so.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var r in t)n[r]=t[r];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},so.geo.projection=on,so.geo.projectionMutator=sn,(so.geo.equirectangular=function(){return on(un)}).raw=un.invert=un,so.geo.rotation=function(t){function e(e){return e=t(e[0]*$o,e[1]*$o),e[0]*=Go,e[1]*=Go,e}return t=dn(t[0]%360*$o,t[1]*$o,t.length>2?t[2]*$o:0),e.invert=function(e){return e=t.invert(e[0]*$o,e[1]*$o),e[0]*=Go,e[1]*=Go,e},e},cn.invert=un,so.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=dn(-t[0]*$o,-t[1]*$o,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Go,t[1]*=Go}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=gn((e=+r)*$o,i*$o),t):e},t.precision=function(r){return arguments.length?(n=gn(e*$o,(i=+r)*$o),t):i},t.angle(90)},so.geo.distance=function(t,e){var n,r=(e[0]-t[0])*$o,i=t[1]*$o,a=e[1]*$o,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},so.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return so.range(Math.ceil(a/m)*m,i,m).map(h).concat(so.range(Math.ceil(u/v)*v,l,v).map(f)).concat(so.range(Math.ceil(r/p)*p,n,p).filter(function(t){return wo(t%m)>zo}).map(c)).concat(so.range(Math.ceil(s/g)*g,o,g).filter(function(t){return wo(t%v)>zo}).map(d))}var n,r,i,a,o,s,l,u,c,d,h,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(a).concat(f(l).slice(1),h(i).reverse().slice(1),f(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],i=+e[1][0],u=+e[0][1],l=+e[1][1],a>i&&(e=a,a=i,i=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[a,u],[i,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[r,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,o,90),d=yn(r,n,y),h=vn(u,l,90),f=yn(a,i,y),t):y},t.majorExtent([[-180,-90+zo],[180,90-zo]]).minorExtent([[-180,-80-zo],[180,80+zo]])},so.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=bn,i=wn;return t.distance=function(){return so.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},so.geo.interpolate=function(t,e){return xn(t[0]*$o,t[1]*$o,e[0]*$o,e[1]*$o)},so.geo.length=function(t){return Qs=0,so.geo.stream(t,Ks),Qs};var Qs,Ks={sphere:x,point:x,lineStart:_n,lineEnd:x,polygonStart:x,polygonEnd:x},Zs=Cn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(so.geo.azimuthalEqualArea=function(){return on(Zs)}).raw=Zs;var Js=Cn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(so.geo.azimuthalEquidistant=function(){return on(Js)}).raw=Js,(so.geo.conicConformal=function(){return Ge(Sn)}).raw=Sn,(so.geo.conicEquidistant=function(){return Ge(Tn)}).raw=Tn;var tl=Cn(function(t){return 1/t},Math.atan);(so.geo.gnomonic=function(){return on(tl)}).raw=tl,En.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Bo]},(so.geo.mercator=function(){return Mn(En)}).raw=En;var el=Cn(function(){return 1},Math.asin);(so.geo.orthographic=function(){return on(el)}).raw=el;var nl=Cn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(so.geo.stereographic=function(){return on(nl)}).raw=nl,Dn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Bo]},(so.geo.transverseMercator=function(){var t=Mn(Dn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Dn,so.geom={},so.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Et(n),a=Et(r),o=t.length,s=[],l=[];for(e=0;e<o;e++)s.push([+i.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(Rn),e=0;e<o;e++)l.push([s[e][0],-s[e][1]]);var u=On(s),c=On(l),d=c[0]===u[0],h=c[c.length-1]===u[u.length-1],f=[];for(e=u.length-1;e>=0;--e)f.push(t[s[u[e]][2]]);for(e=+d;e<c.length-h;++e)f.push(t[s[c[e]][2]]);return f}var n=kn,r=An;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},so.geom.polygon=function(t){return To(t,rl),t};var rl=so.geom.polygon.prototype=[];rl.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},rl.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},rl.clip=function(t){for(var e,n,r,i,a,o,s=Pn(t),l=-1,u=this.length-Pn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],a=e[(r=e.length-s)-1],n=-1;++n<r;)o=e[n],Ln(o,c,i)?(Ln(a,c,i)||t.push(Nn(a,o,c,i)),t.push(o)):Ln(a,c,i)&&t.push(Nn(a,o,c,i)),a=o;s&&t.push(t[0]),c=i}return t};var il,al,ol,sl,ll,ul=[],cl=[];$n.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Yn),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=or(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ir(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ar(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ar(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ir(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?or(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,ir(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ar(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ir(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,ar(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ar(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},so.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],a=s[1][0],o=s[1][1];return sr(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=a&&u.y>=i&&u.y<=o?[[r,o],[a,o],[a,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/zo)*zo,y:Math.round(o(t,e)/zo)*zo,i:e}})}var r=kn,i=An,a=r,o=i,s=dl;return t?e(t):(e.links=function(t){return sr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sr(n(t)).cells.forEach(function(n,r){for(var i,a,o=n.site,s=n.edges.sort(Yn),l=-1,u=s.length,c=s[u-1].edge,d=c.l===o?c.r:c.l;++l<u;)i=c,a=d,c=s[l].edge,d=c.l===o?c.r:c.l,r<a.i&&r<d.i&&ur(o,a,d)<0&&e.push([t[r],t[a.i],t[d.i]])}),e},e.x=function(t){return arguments.length?(a=Et(r=t),e):r},e.y=function(t){return arguments.length?(o=Et(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?dl:t,e):s===dl?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===dl?null:s&&s[1]},e)};var dl=[[-1e6,-1e6],[1e6,1e6]];so.geom.delaunay=function(t){return so.geom.voronoi().triangles(t)},so.geom.quadtree=function(t,e,n,r,i){function a(t){function a(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(wo(l-n)+wo(c-r)<.01)u(t,e,n,r,i,a,o,s);else{var d=t.point;t.x=t.y=t.point=null,u(t,d,l,c,i,a,o,s),u(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,i,a,o,s)}function u(t,e,n,r,i,o,s,l){var u=.5*(i+s),c=.5*(o+l),d=n>=u,h=r>=c,f=h<<1|d;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=hr()),d?i=u:s=u,h?o=c:l=c,a(t,e,n,r,i,o,s,l)}var c,d,h,f,p,g,m,v,y,b=Et(s),w=Et(l);if(null!=e)g=e,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),d=[],h=[],p=t.length,o)for(f=0;f<p;++f)c=t[f],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),d.push(c.x),h.push(c.y);else for(f=0;f<p;++f){var x=+b(c=t[f],f),_=+w(c,f);x<g&&(g=x),_<m&&(m=_),x>v&&(v=x),_>y&&(y=_),d.push(x),h.push(_)}var C=v-g,S=y-m;C>S?y=m+C:v=g+S;var T=hr();if(T.add=function(t){a(T,t,+b(t,++f),+w(t,f),g,m,v,y)},T.visit=function(t){fr(t,T,g,m,v,y)},T.find=function(t){return pr(T,t[0],t[1],g,m,v,y)},f=-1,null==e){for(;++f<p;)a(T,t[f],d[f],h[f],g,m,v,y);--f}else t.forEach(T.add);return d=h=t=c=null,T}var o,s=kn,l=An;return(o=arguments.length)?(s=cr,l=dr,3===o&&(i=n,r=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(l=t,a):l},a.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),a):null==e?null:[[e,n],[r,i]]},a.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),a):null==e?null:[r-e,i-n]},a)},so.interpolateRgb=gr,so.interpolateObject=mr,so.interpolateNumber=vr,so.interpolateString=yr;var hl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fl=new RegExp(hl.source,"g");so.interpolate=br,so.interpolators=[function(t,e){var n=typeof e;return("string"===n?as.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gr:yr:e instanceof ot?gr:Array.isArray(e)?wr:"object"===n&&isNaN(e)?mr:vr)(t,e)}],so.interpolateArray=wr;var pl=function(){return y},gl=so.map({linear:pl,poly:Mr,quad:function(){return Sr},cubic:function(){return Tr},sin:function(){return Dr},exp:function(){return kr},circle:function(){return Ar},elastic:Or,back:Rr,bounce:function(){return Lr}}),ml=so.map({"in":y,out:_r,"in-out":Cr,"out-in":function(t){return Cr(_r(t))}});so.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=gl.get(n)||pl,r=ml.get(r)||y,xr(r(n.apply(null,lo.call(arguments,1))))},so.interpolateHcl=Nr,so.interpolateHsl=Pr,so.interpolateLab=Ir,so.interpolateRound=zr,so.transform=function(t){var e=co.createElementNS(so.ns.prefix.svg,"g");return(so.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new jr(n?n.matrix:vl)})(t)},jr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vl={a:1,b:0,c:0,d:1,e:0,f:0};so.interpolateTransform=Ur,so.layout={},so.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Qr(t[n]));return e}},so.layout.chord=function(){function t(){var t,u,d,h,f,p={},g=[],m=so.range(a),v=[];for(n=[],r=[],t=0,h=-1;++h<a;){for(u=0,f=-1;++f<a;)u+=i[h][f];g.push(u),v.push(so.range(a)),t+=u}for(o&&m.sort(function(t,e){return o(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Fo-c*a)/t,u=0,h=-1;++h<a;){for(d=u,f=-1;++f<a;){var y=m[h],b=v[y][f],w=i[y][b],x=u,_=u+=w*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}r[y]={index:y,startAngle:d,endAngle:u,value:g[y]},u+=c}for(h=-1;++h<a;)for(f=h-1;++f<a;){var C=p[h+"-"+f],S=p[f+"-"+h];(C.value||S.value)&&n.push(C.value<S.value?{source:S,target:C}:{source:C,target:S})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,a,o,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(a=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(o=t,n=r=null,u):o},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},so.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,l=a*a+o*o;if(s*s/v<l){if(l<g){var u=e.charge/l;t.px-=a*u,t.py-=o*u}return!0}if(e.point&&l&&l<g){var u=e.pointCharge/l;t.px-=a*u,t.py-=o*u}}return!e.charge}}function e(t){t.px=so.event.x,t.py=so.event.y,l.resume()}var n,r,i,a,o,s,l={},u=so.dispatch("start","tick","end"),c=[1,1],d=.9,h=yl,f=bl,p=-30,g=wl,m=.1,v=.64,b=[],w=[];return l.tick=function(){if((i*=.99)<.005)return n=null,u.end({type:"end",alpha:i=0}),!0;var e,r,l,h,f,g,v,y,x,_=b.length,C=w.length;for(r=0;r<C;++r)l=w[r],h=l.source,f=l.target,y=f.x-h.x,x=f.y-h.y,(g=y*y+x*x)&&(g=i*o[r]*((g=Math.sqrt(g))-a[r])/g,y*=g,x*=g,f.x-=y*(v=h.weight+f.weight?h.weight/(h.weight+f.weight):.5),f.y-=x*v,h.x+=y*(v=1-v),h.y+=x*v);if((v=i*m)&&(y=c[0]/2,x=c[1]/2,r=-1,v))for(;++r<_;)l=b[r],l.x+=(y-l.x)*v,l.y+=(x-l.y)*v;if(p)for(ri(e=so.geom.quadtree(b),i,s),r=-1;++r<_;)(l=b[r]).fixed||e.visit(t(l));for(r=-1;++r<_;)l=b[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*d,l.y-=(l.py-(l.py=l.y))*d);u.tick({type:"tick",alpha:i})},l.nodes=function(t){return arguments.length?(b=t,l):b},l.links=function(t){return arguments.length?(w=t,l):w},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.friction=function(t){return arguments.length?(d=+t,l):d},l.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,i?t>0?i=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:i=0})):t>0&&(u.start({type:"start",alpha:i=t}),n=Ot(l.tick)),l):i},l.start=function(){function t(t,r){if(!n){for(n=new Array(i),l=0;l<i;++l)n[l]=[];for(l=0;l<u;++l){var a=w[l];n[a.source.index].push(a.target),n[a.target.index].push(a.source)}}for(var o,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(o=s[l][t]))return o;return Math.random()*r}var e,n,r,i=b.length,u=w.length,d=c[0],g=c[1];for(e=0;e<i;++e)(r=b[e]).index=e,r.weight=0;for(e=0;e<u;++e)r=w[e],"number"==typeof r.source&&(r.source=b[r.source]),"number"==typeof r.target&&(r.target=b[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<i;++e)r=b[e],isNaN(r.x)&&(r.x=t("x",d)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(a=[],"function"==typeof h)for(e=0;e<u;++e)a[e]=+h.call(this,w[e],e);else for(e=0;e<u;++e)a[e]=h;if(o=[],"function"==typeof f)for(e=0;e<u;++e)o[e]=+f.call(this,w[e],e);else for(e=0;e<u;++e)o[e]=f;if(s=[],"function"==typeof p)for(e=0;e<i;++e)s[e]=+p.call(this,b[e],e);else for(e=0;e<i;++e)s[e]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=so.behavior.drag().origin(y).on("dragstart.force",Jr).on("drag.force",e).on("dragend.force",ti)),arguments.length?void this.on("mouseover.force",ei).on("mouseout.force",ni).call(r):r},so.rebind(l,u,"on")};var yl=20,bl=1,wl=1/0;so.layout.hierarchy=function(){function t(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(u=n.call(t,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;r&&(a.value=0),a.children=u}else r&&(a.value=+r.call(t,a,a.depth)||0),delete a.children;return oi(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=ui,n=si,r=li;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(ai(e,function(t){t.children&&(t.value=0)}),oi(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},so.layout.partition=function(){function t(e,n,r,i){var a=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,a&&(o=a.length)){var o,s,l,u=-1;for(r=e.value?r/e.value:0;++u<o;)t(s=a[u],n,l=s.value*r,i),n+=l}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,a=-1;++a<i;)r=Math.max(r,e(n[a]));return 1+r}function n(n,a){var o=r.call(this,n,a);return t(o[0],0,i[0],i[1]/e(o[0])),o}var r=so.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},ii(n,r)},so.layout.pie=function(){function t(o){var s,l=o.length,u=o.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-c,h=Math.min(Math.abs(d)/l,+("function"==typeof a?a.apply(this,arguments):a)),f=h*(d<0?-1:1),p=so.sum(u),g=p?(d-l*f)/p:0,m=so.range(l),v=[];return null!=n&&m.sort(n===xl?function(t,e){return u[e]-u[t]}:function(t,e){return n(o[t],o[e])}),m.forEach(function(t){v[t]={data:o[t],value:s=u[t],startAngle:c,endAngle:c+=s*g+f,padAngle:h}}),v}var e=Number,n=xl,r=0,i=Fo,a=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(a=e,t):a},t};var xl={};so.layout.stack=function(){function t(s,l){if(!(h=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),d=n.call(t,c,l);u=so.permute(u,d),c=so.permute(c,d);var h,f,p,g,m=r.call(t,c,l),v=u[0].length;for(p=0;p<v;++p)for(i.call(t,u[0][p],g=m[p],c[0][p][1]),f=1;f<h;++f)i.call(t,u[f][p],g+=c[f-1][p][1],c[f][p][1]);return s}var e=y,n=pi,r=gi,i=fi,a=di,o=hi;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:_l.get(e)||pi,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Cl.get(e)||gi,t):r},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(i=e,t):i},t};var _l=so.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(mi),a=t.map(vi),o=so.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],s<l?(s+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return so.range(t.length).reverse()},"default":pi}),Cl=so.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,i,a,o,s,l,u,c=t.length,d=t[0],h=d.length,f=[];for(f[0]=l=u=0,n=1;n<h;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,a=0,s=d[n][0]-d[n-1][0];e<c;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}f[n]=l-=i?a/i*s:0,l<u&&(u=l)}for(n=0;n<h;++n)f[n]-=u;return f},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:gi});so.layout.histogram=function(){function t(t,a){for(var o,s,l=[],u=t.map(n,this),c=r.call(this,u,a),d=i.call(this,c,u,a),a=-1,h=u.length,f=d.length-1,p=e?1:1/h;++a<f;)o=l[a]=[],o.dx=d[a+1]-(o.x=d[a]),o.y=0;if(f>0)for(a=-1;++a<h;)s=u[a],s>=c[0]&&s<=c[1]&&(o=l[so.bisect(d,s,1,f)-1],o.y+=p,o.push(t[a]));return l}var e=!0,n=Number,r=xi,i=bi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Et(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return wi(t,e)}:Et(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},so.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,oi(s,function(t){t.r=+c(t.value)}),oi(s,Ei),r){var d=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;oi(s,function(t){t.r+=d}),oi(s,Ei),oi(s,function(t){t.r-=d})}return ki(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),o}var e,n=so.layout.hierarchy().sort(_i),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},ii(t,n)},so.layout.tree=function(){function t(t,i){var c=o.call(this,t,i),d=c[0],h=e(d);if(oi(h,n),h.parent.m=-h.z,ai(h,r),u)ai(d,a);else{var f=d,p=d,g=d;ai(d,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(f,p)/2-f.x,v=l[0]/(p.x+s(p,f)/2+m),y=l[1]/(g.depth||1);ai(d,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Pi(t);var a=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-a):t.z=a}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,a=t,o=e,l=i.parent.children[0],u=i.m,c=a.m,d=o.m,h=l.m;o=Li(o),i=Ri(i),o&&i;)l=Ri(l),a=Li(a),a.a=t,r=o.z+d-i.z-u+s(o._,i._),r>0&&(Ni(Ii(o,t,n),t,r),u+=r,c+=r),d+=o.m,u+=i.m,h+=l.m,c+=a.m;o&&!Li(a)&&(a.t=o,a.m+=d-c),i&&!Ri(l)&&(l.t=i,l.m+=u-h,n=t)}return n}function a(t){t.x*=l[0],t.y=t.depth*l[1]}var o=so.layout.hierarchy().sort(null).value(null),s=Oi,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?a:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:a,t):u?l:null},ii(t,o)},so.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),l=s[0],u=0;oi(l,function(t){var e=t.children;e&&e.length?(t.x=ji(e),t.y=zi(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var c=Hi(l),d=Fi(l),h=c.x-n(c,d)/2,f=d.x+n(d,c)/2;return oi(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(f-h)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=so.layout.hierarchy().sort(null).value(null),n=Oi,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},ii(t,e)},so.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var a=n.children;if(a&&a.length){var o,s,l,u=d(n),c=[],h=a.slice(),p=1/0,g="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(h,u.dx*u.dy/n.value),c.area=0;(l=h.length)>0;)c.push(o=h[l-1]),c.area+=o.area,"squarify"!==f||(s=r(c,g))<=p?(h.pop(),p=s):(c.area-=c.pop().area,i(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,u,!0),c.length=c.area=0),a.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var a,o=d(e),s=r.slice(),l=[];for(t(s,o.dx*o.dy/e.value),l.area=0;a=s.pop();)l.push(a),l.area+=a.area,null!=a.z&&(i(l,a.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*a*p)):1/0}function i(t,e,n,r){var i,a=-1,o=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++a<o;)i=t[a],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++a<o;)i=t[a],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function a(r){var i=o||s(r),a=i[0];return a.x=a.y=0,a.value?(a.dx=u[0],a.dy=u[1]):a.dx=a.dy=0,o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?n:e)(a),h&&(o=i),i}var o,s=so.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Wi,h=!1,f="squarify",p=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(u=t,a):u},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?Wi(e):Bi(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Bi(e,t)}if(!arguments.length)return c;var r;return d=null==(c=t)?Wi:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(l=t?Math.round:Number,a):l!=Number},a.sticky=function(t){return arguments.length?(h=t,o=null,a):h},a.ratio=function(t){return arguments.length?(p=t,a):p},a.mode=function(t){return arguments.length?(f=t+"",a):f},ii(a,s)},so.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=so.random.normal.apply(so,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=so.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},so.scale={};var Sl={floor:y,ceil:y};so.scale.linear=function(){return Xi([0,1],[0,1],br,!1)};var Tl={s:1,g:1,p:1,r:1,e:1};so.scale.log=function(){return ra(so.scale.linear().domain([0,1]),10,!0,[1,10])};var El=so.format(".0e"),Ml={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};so.scale.pow=function(){return ia(so.scale.linear(),1,[0,1])},so.scale.sqrt=function(){return so.scale.pow().exponent(.5)},so.scale.ordinal=function(){return oa([],{t:"range",a:[[]]})},so.scale.category10=function(){return so.scale.ordinal().range(Dl)},so.scale.category20=function(){return so.scale.ordinal().range(kl);
},so.scale.category20b=function(){return so.scale.ordinal().range(Al)},so.scale.category20c=function(){return so.scale.ordinal().range(Ol)};var Dl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),kl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),Al=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Ol=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);so.scale.quantile=function(){return sa([],[])},so.scale.quantize=function(){return la(0,1,[0,1])},so.scale.threshold=function(){return ua([.5],[0,1])},so.scale.identity=function(){return ca([0,1])},so.svg={},so.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=o.apply(this,arguments)-Bo,d=s.apply(this,arguments)-Bo,h=Math.abs(d-c),f=c>d?0:1;if(u<t&&(p=u,u=t,t=p),h>=Wo)return e(u,f)+(t?e(t,1-f):"")+"Z";var p,g,m,v,y,b,w,x,_,C,S,T,E=0,M=0,D=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=a===Rl?Math.sqrt(t*t+u*u):+a.apply(this,arguments),f||(M*=-1),u&&(M=et(m/u*Math.sin(v))),t&&(E=et(m/t*Math.sin(v)))),u){y=u*Math.cos(c+M),b=u*Math.sin(c+M),w=u*Math.cos(d-M),x=u*Math.sin(d-M);var k=Math.abs(d-c-2*M)<=Ho?0:1;if(M&&va(y,b,w,x)===f^k){var A=(c+d)/2;y=u*Math.cos(A),b=u*Math.sin(A),w=x=null}}else y=b=0;if(t){_=t*Math.cos(d-E),C=t*Math.sin(d-E),S=t*Math.cos(c+E),T=t*Math.sin(c+E);var O=Math.abs(c-d+2*E)<=Ho?0:1;if(E&&va(_,C,S,T)===1-f^O){var R=(c+d)/2;_=t*Math.cos(R),C=t*Math.sin(R),S=T=null}}else _=C=0;if(h>zo&&(p=Math.min(Math.abs(u-t)/2,+i.apply(this,arguments)))>.001){g=t<u^f?0:1;var L=p,N=p;if(h<Ho){var P=null==S?[_,C]:null==w?[y,b]:Nn([y,b],[S,T],[w,x],[_,C]),I=y-P[0],z=b-P[1],j=w-P[0],H=x-P[1],F=1/Math.sin(Math.acos((I*j+z*H)/(Math.sqrt(I*I+z*z)*Math.sqrt(j*j+H*H)))/2),W=Math.sqrt(P[0]*P[0]+P[1]*P[1]);N=Math.min(p,(t-W)/(F-1)),L=Math.min(p,(u-W)/(F+1))}if(null!=w){var B=ya(null==S?[_,C]:[S,T],[y,b],u,L,f),$=ya([w,x],[_,C],u,L,f);p===L?D.push("M",B[0],"A",L,",",L," 0 0,",g," ",B[1],"A",u,",",u," 0 ",1-f^va(B[1][0],B[1][1],$[1][0],$[1][1]),",",f," ",$[1],"A",L,",",L," 0 0,",g," ",$[0]):D.push("M",B[0],"A",L,",",L," 0 1,",g," ",$[0])}else D.push("M",y,",",b);if(null!=S){var G=ya([y,b],[S,T],t,-N,f),Y=ya([_,C],null==w?[y,b]:[w,x],t,-N,f);p===N?D.push("L",Y[0],"A",N,",",N," 0 0,",g," ",Y[1],"A",t,",",t," 0 ",f^va(Y[1][0],Y[1][1],G[1][0],G[1][1]),",",1-f," ",G[1],"A",N,",",N," 0 0,",g," ",G[0]):D.push("L",Y[0],"A",N,",",N," 0 0,",g," ",G[0])}else D.push("L",_,",",C)}else D.push("M",y,",",b),null!=w&&D.push("A",u,",",u," 0 ",k,",",f," ",w,",",x),D.push("L",_,",",C),null!=S&&D.push("A",t,",",t," 0 ",O,",",1-f," ",S,",",T);return D.push("Z"),D.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=ha,r=fa,i=da,a=Rl,o=pa,s=ga,l=ma;return t.innerRadius=function(e){return arguments.length?(n=Et(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Et(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Et(e),t):i},t.padRadius=function(e){return arguments.length?(a=e==Rl?Rl:Et(e),t):a},t.startAngle=function(e){return arguments.length?(o=Et(e),t):o},t.endAngle=function(e){return arguments.length?(s=Et(e),t):s},t.padAngle=function(e){return arguments.length?(l=Et(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Bo;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Rl="auto";so.svg.line=function(){return ba(y)};var Ll=so.map({linear:wa,"linear-closed":xa,step:_a,"step-before":Ca,"step-after":Sa,basis:Aa,"basis-open":Oa,"basis-closed":Ra,bundle:La,cardinal:Ma,"cardinal-open":Ta,"cardinal-closed":Ea,monotone:Ha});Ll.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Nl=[0,2/3,1/3,0],Pl=[0,1/3,2/3,0],Il=[0,1/6,2/3,1/6];so.svg.line.radial=function(){var t=ba(Fa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ca.reverse=Sa,Sa.reverse=Ca,so.svg.area=function(){return Wa(y)},so.svg.area.radial=function(){var t=Wa(Fa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},so.svg.chord=function(){function t(t,s){var l=e(this,a,t,s),u=e(this,o,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),a=s.call(t,i,r),o=l.call(t,i,r)-Bo,c=u.call(t,i,r)-Bo;return{r:a,a0:o,a1:c,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ho)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var a=bn,o=wn,s=Ba,l=pa,u=ga;return t.radius=function(e){return arguments.length?(s=Et(e),t):s},t.source=function(e){return arguments.length?(a=Et(e),t):a},t.target=function(e){return arguments.length?(o=Et(e),t):o},t.startAngle=function(e){return arguments.length?(l=Et(e),t):l},t.endAngle=function(e){return arguments.length?(u=Et(e),t):u},t},so.svg.diagonal=function(){function t(t,i){var a=e.call(this,t,i),o=n.call(this,t,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=bn,n=wn,r=$a;return t.source=function(n){return arguments.length?(e=Et(n),t):e},t.target=function(e){return arguments.length?(n=Et(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},so.svg.diagonal.radial=function(){var t=so.svg.diagonal(),e=$a,n=t.projection;return t.projection=function(t){return arguments.length?n(Ga(e=t)):e},t},so.svg.symbol=function(){function t(t,r){return(zl.get(e.call(this,t,r))||Ua)(n.call(this,t,r))}var e=qa,n=Ya;return t.type=function(n){return arguments.length?(e=Et(n),t):e},t.size=function(e){return arguments.length?(n=Et(e),t):n},t};var zl=so.map({circle:Ua,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Hl)),n=e*Hl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/jl),n=e*jl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/jl),n=e*jl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});so.svg.symbolTypes=zl.keys();var jl=Math.sqrt(3),Hl=Math.tan(30*$o);ko.transition=function(t){for(var e,n,r=Fl||++Gl,i=Za(t),a=[],o=Wl||{time:Date.now(),ease:Er,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&Ja(n,c,i,r,o),e.push(n)}return Xa(a,i,r)},ko.interrupt=function(t){return this.each(null==t?Bl:Va(Za(t)))};var Fl,Wl,Bl=Va(Za()),$l=[],Gl=0;$l.call=ko.call,$l.empty=ko.empty,$l.node=ko.node,$l.size=ko.size,so.transition=function(t,e){return t&&t.transition?Fl?t.transition(e):t:so.selection().transition(t)},so.transition.prototype=$l,$l.select=function(t){var e,n,r,i=this.id,a=this.namespace,o=[];t=D(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Ja(n,c,a,i,r[a][i]),e.push(n)):e.push(null)}return Xa(o,a,i)},$l.selectAll=function(t){var e,n,r,i,a,o=this.id,s=this.namespace,l=[];t=k(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],h=-1,f=d.length;++h<f;)if(r=d[h]){a=r[s][o],n=t.call(r,r.__data__,h,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Ja(i,p,s,o,a),e.push(i)}return Xa(l,s,o)},$l.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=W(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]);for(var n=this[a],s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return Xa(i,this.namespace,this.id)},$l.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):$(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},$l.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Ur:br,s=so.ns.qualify(t);return Qa(this,"attr."+t,e,s.local?a:i)},$l.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=so.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},$l.style=function(t,n,r){function i(){this.style.removeProperty(t)}function a(n){return null==n?i:(n+="",function(){var i,a=e(this).getComputedStyle(this,null).getPropertyValue(t);return a!==n&&(i=br(a,n),function(e){this.style.setProperty(t,i(e),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof t){o<2&&(n="");for(r in t)this.style(r,t[r],n);return this}r=""}return Qa(this,"style."+t,n,a)},$l.styleTween=function(t,n,r){function i(i,a){var o=n.call(this,i,a,e(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,i)},$l.text=function(t){return Qa(this,"text",t,Ka)},$l.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},$l.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=so.ease.apply(so,arguments)),$(this,function(r){r[n][e].ease=t}))},$l.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:$(this,"function"==typeof t?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},$l.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:$(this,"function"==typeof t?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},$l.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Wl,a=Fl;try{Fl=n,$(this,function(e,i,a){Wl=e[r][n],t.call(e,e.__data__,i,a)})}finally{Wl=i,Fl=a}}else $(this,function(i){var a=i[r][n];(a.event||(a.event=so.dispatch("start","end","interrupt"))).on(t,e)});return this},$l.transition=function(){for(var t,e,n,r,i=this.id,a=++Gl,o=this.namespace,s=[],l=0,u=this.length;l<u;l++){s.push(t=[]);for(var e=this[l],c=0,d=e.length;c<d;c++)(n=e[c])&&(r=n[o][i],Ja(n,c,o,a,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Xa(s,o,a)},so.svg.axis=function(){function t(t){t.each(function(){var t,u=so.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),h=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,f=null==e?d.tickFormat?d.tickFormat.apply(d,s):y:e,p=u.selectAll(".tick").data(h,d),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",zo),m=so.transition(p.exit()).style("opacity",zo).remove(),v=so.transition(p.order()).style("opacity",1),b=Math.max(i,0)+o,w=Gi(d),x=u.selectAll(".domain").data([0]),_=(x.enter().append("path").attr("class","domain"),so.transition(x));g.append("line"),g.append("text");var C,S,T,E,M=g.select("line"),D=v.select("line"),k=p.select("text").text(f),A=g.select("text"),O=v.select("text"),R="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=to,C="x",T="y",S="x2",E="y2",k.attr("dy",R<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+w[0]+","+R*a+"V0H"+w[1]+"V"+R*a)):(t=eo,C="y",T="x",S="y2",E="x2",k.attr("dy",".32em").style("text-anchor",R<0?"end":"start"),_.attr("d","M"+R*a+","+w[0]+"H0V"+w[1]+"H"+R*a)),M.attr(E,R*i),A.attr(T,R*b),D.attr(S,0).attr(E,R*i),O.attr(C,0).attr(T,R*b),d.rangeBand){var L=d,N=L.rangeBand()/2;c=d=function(t){return L(t)+N}}else c.rangeBand?c=d:m.call(t,d,c);g.call(t,c,d),v.call(t,d,d)})}var e,n=so.scale.linear(),r=Yl,i=6,a=6,o=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in ql?e+"":Yl,t):r},t.ticks=function(){return arguments.length?(s=uo(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,a=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Yl="bottom",ql={top:1,right:1,bottom:1,left:1};so.svg.brush=function(){function t(e){e.each(function(){var e=so.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),o=e.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ul[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,d=so.transition(e),h=so.transition(o);u&&(l=Gi(u),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(d)),c&&(l=Gi(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),i(d)),n(d)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+d[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",d[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function i(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function a(){function a(){32==so.event.keyCode&&(k||(b=null,O[0]-=d[1],O[1]-=h[1],k=2),S())}function g(){32==so.event.keyCode&&2==k&&(O[0]+=d[1],O[1]+=h[1],k=0,S())}function m(){var t=so.mouse(x),e=!1;w&&(t[0]+=w[0],t[1]+=w[1]),k||(so.event.altKey?(b||(b=[(d[0]+d[1])/2,(h[0]+h[1])/2]),O[0]=d[+(t[0]<b[0])],O[1]=h[+(t[1]<b[1])]):b=null),M&&v(t,u,0)&&(r(T),e=!0),D&&v(t,c,1)&&(i(T),e=!0),e&&(n(T),C({type:"brush",mode:k?"move":"resize"}))}function v(t,e,n){var r,i,a=Gi(e),l=a[0],u=a[1],c=O[n],g=n?h:d,m=g[1]-g[0];if(k&&(l-=c,u-=m+c),r=(n?p:f)?Math.max(l,Math.min(u,t[n])):t[n],k?i=(r+=c)+m:(b&&(c=Math.max(l,Math.min(u,2*b[n]-r))),c<r?(i=r,r=c):i=c),g[0]!=r||g[1]!=i)return n?s=null:o=null,g[0]=r,g[1]=i,!0}function y(){m(),T.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),so.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),C({type:"brushend"})}var b,w,x=this,_=so.select(so.event.target),C=l.of(x,arguments),T=so.select(x),E=_.datum(),M=!/^(n|s)$/.test(E)&&u,D=!/^(e|w)$/.test(E)&&c,k=_.classed("extent"),A=X(x),O=so.mouse(x),R=so.select(e(x)).on("keydown.brush",a).on("keyup.brush",g);if(so.event.changedTouches?R.on("touchmove.brush",m).on("touchend.brush",y):R.on("mousemove.brush",m).on("mouseup.brush",y),T.interrupt().selectAll("*").interrupt(),k)O[0]=d[0]-O[0],O[1]=h[0]-O[1];else if(E){var L=+/w$/.test(E),N=+/^n/.test(E);w=[d[1-L]-O[0],h[1-N]-O[1]],O[0]=d[L],O[1]=h[N]}else so.event.altKey&&(b=O.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),so.select("body").style("cursor",_.style("cursor")),C({type:"brushstart"}),m()}var o,s,l=E(t,"brushstart","brush","brushend"),u=null,c=null,d=[0,0],h=[0,0],f=!0,p=!0,g=Vl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:d,y:h,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Fl?so.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,d=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=wr(d,e.x),r=wr(h,e.y);return o=s=null,function(i){d=e.x=n(i),h=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=Vl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=Vl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(f=!!e[0],p=!!e[1]):u?f=!!e:c&&(p=!!e),t):u&&c?[f,p]:u?f:c?p:null},t.extent=function(e){var n,r,i,a,l;return arguments.length?(u&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),r<n&&(l=n,n=r,r=l),n==d[0]&&r==d[1]||(d=[n,r])),c&&(i=e[0],a=e[1],u&&(i=i[1],a=a[1]),s=[i,a],c.invert&&(i=c(i),a=c(a)),a<i&&(l=i,i=a,a=l),i==h[0]&&a==h[1]||(h=[i,a])),t):(u&&(o?(n=o[0],r=o[1]):(n=d[0],r=d[1],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(l=n,n=r,r=l))),c&&(s?(i=s[0],a=s[1]):(i=h[0],a=h[1],c.invert&&(i=c.invert(i),a=c.invert(a)),a<i&&(l=i,i=a,a=l))),u&&c?[[n,i],[r,a]]:u?[n,r]:c&&[i,a])},t.clear=function(){return t.empty()||(d=[0,0],h=[0,0],o=s=null),t},t.empty=function(){return!!u&&d[0]==d[1]||!!c&&h[0]==h[1]},so.rebind(t,l,"on")};var Ul={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xl=ps.format=ws.timeFormat,Ql=Xl.utc,Kl=Ql("%Y-%m-%dT%H:%M:%S.%LZ");Xl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?no:Kl,no.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},no.toString=Kl.toString,ps.second=Ft(function(t){return new gs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ps.seconds=ps.second.range,ps.seconds.utc=ps.second.utc.range,ps.minute=Ft(function(t){return new gs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ps.minutes=ps.minute.range,ps.minutes.utc=ps.minute.utc.range,ps.hour=Ft(function(t){var e=t.getTimezoneOffset()/60;return new gs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ps.hours=ps.hour.range,ps.hours.utc=ps.hour.utc.range,ps.month=Ft(function(t){return t=ps.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ps.months=ps.month.range,ps.months.utc=ps.month.utc.range;var Zl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Jl=[[ps.second,1],[ps.second,5],[ps.second,15],[ps.second,30],[ps.minute,1],[ps.minute,5],[ps.minute,15],[ps.minute,30],[ps.hour,1],[ps.hour,3],[ps.hour,6],[ps.hour,12],[ps.day,1],[ps.day,2],[ps.week,1],[ps.month,1],[ps.month,3],[ps.year,1]],tu=Xl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",ke]]),eu={range:function(t,e,n){return so.range(Math.ceil(t/n)*n,+e,n).map(io)},floor:y,ceil:y};Jl.year=ps.year,ps.scale=function(){return ro(so.scale.linear(),Jl,tu)};var nu=Jl.map(function(t){return[t[0].utc,t[1]]}),ru=Ql.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",ke]]);nu.year=ps.year.utc,ps.scale.utc=function(){return ro(so.scale.linear(),nu,ru)},so.text=Mt(function(t){return t.responseText}),so.json=function(t,e){return Dt(t,"application/json",ao,e)},so.html=function(t,e){return Dt(t,"text/html",oo,e)},so.xml=Mt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=so,define(so)):"object"==typeof module&&module.exports?module.exports=so:this.d3=so}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.topojson=t.topojson||{})}(this,function(t){"use strict";function e(){}function n(t){if(!t)return e;var n,r,i=t.scale[0],a=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,e){e||(n=r=0),t[0]=(n+=t[0])*i+o,t[1]=(r+=t[1])*a+s}}function r(t){if(!t)return e;var n,r,i=t.scale[0],a=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,e){e||(n=r=0);var l=Math.round((t[0]-o)/i),u=Math.round((t[1]-s)/a);t[0]=l-n,t[1]=u-r,n=l,r=u}}function i(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function a(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n}function o(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return s(t,e)})}:s(t,e)}function s(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:l(t,e)};return null==e.id&&delete n.id,n}function l(t,e){function r(t,e){e.length&&e.pop();for(var n,r=d[t<0?~t:t],a=0,o=r.length;a<o;++a)e.push(n=r[a].slice()),c(n,a);t<0&&i(e,o)}function a(t){return t=t.slice(),c(t,0),t}function o(t){for(var e=[],n=0,i=t.length;n<i;++n)r(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function s(t){for(var e=o(t);e.length<4;)e.push(e[0].slice());return e}function l(t){return t.map(s)}function u(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(u)}:e in h?{type:e,coordinates:h[e](t)}:null}var c=n(t.transform),d=t.arcs,h={Point:function(t){return a(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(a)},LineString:function(t){return o(t.arcs)},MultiLineString:function(t){return t.arcs.map(o)},Polygon:function(t){return l(t.arcs)},MultiPolygon:function(t){return t.arcs.map(l)}};return u(e)}function u(t,e){function n(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}function r(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),s.push(r)}}var i={},a={},o={},s=[],l=-1;return e.forEach(function(n,r){var i,a=t.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=e[++l],e[l]=n,e[r]=i)}),e.forEach(function(t){var e,r,i=n(t),s=i[0],l=i[1];if(e=o[s])if(delete o[e.end],e.push(t),e.end=l,r=a[l]){delete a[r.start];var u=r===e?e:e.concat(r);a[u.start=e.start]=o[u.end=r.end]=u}else a[e.start]=o[e.end]=e;else if(e=a[l])if(delete a[e.start],e.unshift(t),e.start=s,r=o[s]){delete o[r.end];var c=r===e?e:r.concat(e);a[c.start=r.start]=o[c.end=e.end]=c}else a[e.start]=o[e.end]=e;else e=[t],a[e.start=s]=o[e.end=l]=e}),r(o,a),r(a,o),e.forEach(function(t){i[t<0?~t:t]||s.push([t])}),s}function c(t){return l(t,d.apply(this,arguments))}function d(t,e,n){function r(t){var e=t<0?~t:t;(c[e]||(c[e]=[])).push({i:t,g:l})}function i(t){t.forEach(r)}function a(t){t.forEach(i)}function o(t){"GeometryCollection"===t.type?t.geometries.forEach(o):t.type in d&&(l=t,d[t.type](t.arcs))}var s=[];if(arguments.length>1){var l,c=[],d={LineString:i,MultiLineString:a,Polygon:a,MultiPolygon:function(t){t.forEach(a)}};o(e),c.forEach(arguments.length<3?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)})}else for(var h=0,f=t.arcs.length;h<f;++h)s.push(h);return{type:"MultiLineString",arcs:u(t,s)}}function h(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))}function f(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[0]*i[1]-e[1]*i[0];return a/2}function p(t){return l(t,g.apply(this,arguments))}function g(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(i[e=e<0?~e:e]||(i[e]=[])).push(t)})}),a.push(t)}function r(e){return Math.abs(f(l(t,{type:"Polygon",arcs:[e]}).coordinates[0]))}var i={},a=[],o=[];return e.forEach(function(t){"Polygon"===t.type?n(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(n)}),a.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,o.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),a.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:o.map(function(e){var n,a=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){i[t<0?~t:t].length<2&&a.push(t)})})}),a=u(t,a),(n=a.length)>1)for(var o,s,l=1,c=r(a[0]);l<n;++l)(o=r(a[l]))>c&&(s=a[0],a[0]=a[l],a[l]=s,c=o);return a})}}function m(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=i[t];n?n.push(e):i[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function r(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){r(t,e)}):t.type in s&&s[t.type](t.arcs,e)}var i={},o=t.map(function(){return[]}),s={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(r);for(var l in i)for(var u=i[l],c=u.length,d=0;d<c;++d)for(var h=d+1;h<c;++h){var f,p=u[d],g=u[h];(f=o[p])[l=a(f,g)]!==g&&f.splice(l,0,g),(f=o[g])[l=a(f,p)]!==p&&f.splice(l,0,p)}return o}function v(t,e){return t[1][2]-e[1][2]}function y(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,i=r[n];if(v(t,i)>=0)break;r[i._=e]=i,r[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,a=n-1,o=e,s=r[o];if(a<i&&v(r[a],s)<0&&(s=r[o=a]),n<i&&v(r[n],s)<0&&(s=r[o=n]),o===e)break;r[s._=e]=s,r[t._=e=o]=t}}var n={},r=[],i=0;return n.push=function(e){return t(r[e._=i]=e,i++),i},n.pop=function(){if(!(i<=0)){var t,n=r[0];return--i>0&&(t=r[i],e(r[t._=0]=t,0)),n}},n.remove=function(n){var a,o=n._;if(r[o]===n)return o!==--i&&(a=r[i],(v(a,n)<0?t:e)(r[a._=o]=a,o)),o},n}function b(t,e){function i(t){s.remove(t),t[1][2]=e(t),s.push(t)}var a=n(t.transform),o=r(t.transform),s=y();return e||(e=h),t.arcs.forEach(function(t){var n,r,l,u,c=[],d=0;for(r=0,l=t.length;r<l;++r)u=t[r],a(t[r]=[u[0],u[1],1/0],r);for(r=1,l=t.length-1;r<l;++r)n=t.slice(r-1,r+2),n[1][2]=e(n),c.push(n),s.push(n);for(r=0,l=c.length;r<l;++r)n=c[r],n.previous=c[r-1],n.next=c[r+1];for(;n=s.pop();){var h=n.previous,f=n.next;n[1][2]<d?n[1][2]=d:d=n[1][2],h&&(h.next=f,h[2]=n[2],i(h)),f&&(f.previous=h,f[0]=n[0],i(f))}t.forEach(o)}),t}var w="1.6.27";t.version=w,t.mesh=c,t.meshArcs=d,t.merge=p,t.mergeArcs=g,t.feature=o,t.neighbors=m,t.presimplify=b,Object.defineProperty(t,"__esModule",{value:!0})}),function(t){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&module.exports?module.exports=t():window.pym=t.call(this)}(function(){var t="xPYMx",e={},n=function(t){var e=new RegExp("[\\?&]"+t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},r=function(t,e){if("*"===e.xdomain||t.origin.match(new RegExp(e.xdomain+"$")))return!0},i=function(e,n,r){var i=["pym",e,n,r];return i.join(t)},a=function(e){var n=["pym",e,"(\\S+)","(.+)"];return new RegExp("^"+n.join(t)+"$")},o=function(){for(var t=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),n=t.length,r=0;r<n;++r){var i=t[r];i.setAttribute("data-pym-auto-initialized",""),""===i.id&&(i.id="pym-"+r);var a=i.getAttribute("data-pym-src"),o=i.getAttribute("data-pym-xdomain"),s={};o&&(s.xdomain=o),new e.Parent(i.id,a,s)}};return e.Parent=function(t,e,n){this.id=t,this.url=e,this.el=document.getElementById(t),this.iframe=null,this.settings={xdomain:"*"},this.messageRegex=a(this.id),this.messageHandlers={},n=n||{},this._constructIframe=function(){var t=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var e="",n=this.url.indexOf("#");n>-1&&(e=this.url.substring(n,this.url.length),this.url=this.url.substring(0,n)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+t+"&childId="+this.id+"&parentUrl="+encodeURIComponent(window.location.href)+e,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize)},this._onResize=function(){this.sendWidth()}.bind(this),this._fire=function(t,e){if(t in this.messageHandlers)for(var n=0;n<this.messageHandlers[t].length;n++)this.messageHandlers[t][n].call(this,e)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe)},this._processMessage=function(t){if(r(t,this.settings)&&"string"==typeof t.data){var e=t.data.match(this.messageRegex);if(!e||3!==e.length)return!1;var n=e[1],i=e[2];this._fire(n,i)}}.bind(this),this._onHeightMessage=function(t){var e=parseInt(t);this.iframe.setAttribute("height",e+"px")},this._onNavigateToMessage=function(t){document.location.href=t},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this.sendMessage=function(t,e){this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(i(this.id,t,e),"*")},this.sendWidth=function(){var t=this.el.offsetWidth.toString();this.sendMessage("width",t)};for(var o in n)this.settings[o]=n[o];return this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},e.Child=function(e){this.parentWidth=null,this.id=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0},this.messageRegex=null,this.messageHandlers={},e=e||{},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this._fire=function(t,e){if(t in this.messageHandlers)for(var n=0;n<this.messageHandlers[t].length;n++)this.messageHandlers[t][n].call(this,e)},this._processMessage=function(t){if(r(t,this.settings)&&"string"==typeof t.data){var e=t.data.match(this.messageRegex);if(e&&3===e.length){var n=e[1],i=e[2];this._fire(n,i)}}}.bind(this),this._onWidthMessage=function(t){var e=parseInt(t);e!==this.parentWidth&&(this.parentWidth=e,this.settings.renderCallback&&this.settings.renderCallback(e),this.sendHeight())},this.sendMessage=function(t,e){window.parent.postMessage(i(this.id,t,e),"*")},this.sendHeight=function(){var t=document.getElementsByTagName("body")[0].offsetHeight.toString();this.sendMessage("height",t)}.bind(this),this.scrollParentTo=function(t){this.sendMessage("navigateTo","#"+t)},this.navigateParentTo=function(t){this.sendMessage("navigateTo",t)},this.id=n("childId")||e.id,this.messageRegex=new RegExp("^pym"+t+this.id+t+"(\\S+)"+t+"(.+)$");var a=parseInt(n("initialWidth"));this.parentUrl=n("parentUrl"),
this.onMessage("width",this._onWidthMessage);for(var o in e)this.settings[o]=e[o];return window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(a),this.sendHeight(),this.settings.polling&&window.setInterval(this.sendHeight,this.settings.polling),this},o(),e}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return or.apply(null,arguments)}function e(t){or=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function i(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function s(t,e,n,r){return Pt(t,e,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function u(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=u(t),n=sr.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function d(t){var e=s(NaN);return null!=t?o(u(e),t):u(e).userInvalidated=!0,e}function h(t){return void 0===t}function f(t,e){var n,r,i;if(h(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),h(e._i)||(t._i=e._i),h(e._f)||(t._f=e._f),h(e._l)||(t._l=e._l),h(e._strict)||(t._strict=e._strict),h(e._tzm)||(t._tzm=e._tzm),h(e._isUTC)||(t._isUTC=e._isUTC),h(e._offset)||(t._offset=e._offset),h(e._pf)||(t._pf=u(e)),h(e._locale)||(t._locale=e._locale),lr.length>0)for(n in lr)r=lr[n],i=e[r],h(i)||(t[r]=i);return t}function p(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),ur===!1&&(ur=!0,t.updateOffset(this),ur=!1)}function g(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function m(t){return t<0?Math.ceil(t):Math.floor(t)}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=m(e)),n}function y(t,e,n){var r,i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&v(t[r])!==v(e[r]))&&o++;return o+a}function b(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,n){var r=!0;return o(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,e),r&&(b(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),n.apply(this,arguments)},n)}function x(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),cr[e]||(b(n),cr[e]=!0)}function _(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t){return"[object Object]"===Object.prototype.toString.call(t)}function S(t){var e,n;for(n in t)e=t[n],_(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(t,e){var n,r=o({},t);for(n in e)a(e,n)&&(C(t[n])&&C(e[n])?(r[n]={},o(r[n],t[n]),o(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);return r}function E(t){null!=t&&this.set(t)}function M(t){return t?t.toLowerCase().replace("_","-"):t}function D(t){for(var e,n,r,i,a=0;a<t.length;){for(i=M(t[a]).split("-"),e=i.length,n=M(t[a+1]),n=n?n.split("-"):null;e>0;){if(r=k(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&y(i,n,!0)>=e-1)break;e--}a++}return null}function k(t){var e=null;if(!pr[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=hr._abbr,require("./locale/"+t),A(e)}catch(n){}return pr[t]}function A(t,e){var n;return t&&(n=h(e)?L(t):O(t,e),n&&(hr=n)),hr._abbr}function O(t,e){return null!==e?(e.abbr=t,null!=pr[t]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=T(pr[t]._config,e)):null!=e.parentLocale&&(null!=pr[e.parentLocale]?e=T(pr[e.parentLocale]._config,e):x("parentLocaleUndefined","specified parentLocale is not defined yet")),pr[t]=new E(e),A(t),pr[t]):(delete pr[t],null)}function R(t,e){if(null!=e){var n;null!=pr[t]&&(e=T(pr[t]._config,e)),n=new E(e),n.parentLocale=pr[t],pr[t]=n,A(t)}else null!=pr[t]&&(null!=pr[t].parentLocale?pr[t]=pr[t].parentLocale:null!=pr[t]&&delete pr[t]);return pr[t]}function L(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return hr;if(!n(t)){if(e=k(t))return e;t=[t]}return D(t)}function N(){return dr(pr)}function P(t,e){var n=t.toLowerCase();gr[n]=gr[n+"s"]=gr[e]=t}function I(t){return"string"==typeof t?gr[t]||gr[t.toLowerCase()]:void 0}function z(t){var e,n,r={};for(n in t)a(t,n)&&(e=I(n),e&&(r[e]=t[n]));return r}function j(e,n){return function(r){return null!=r?(F(this,e,r),t.updateOffset(this,n),this):H(this,e)}}function H(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function F(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function W(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=I(t),_(this[t]))return this[t](e);return this}function B(t,e,n){var r=""+Math.abs(t),i=e-r.length,a=t>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function $(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(br[t]=i),e&&(br[e[0]]=function(){return B(i.apply(this,arguments),e[1],e[2])}),n&&(br[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function G(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Y(t){var e,n,r=t.match(mr);for(e=0,n=r.length;e<n;e++)br[r[e]]?r[e]=br[r[e]]:r[e]=G(r[e]);return function(e){var i,a="";for(i=0;i<n;i++)a+=r[i]instanceof Function?r[i].call(e,t):r[i];return a}}function q(t,e){return t.isValid()?(e=U(e,t.localeData()),yr[e]=yr[e]||Y(e),yr[e](t)):t.localeData().invalidDate()}function U(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(vr.lastIndex=0;r>=0&&vr.test(t);)t=t.replace(vr,n),vr.lastIndex=0,r-=1;return t}function V(t,e,n){zr[t]=_(e)?e:function(t,r){return t&&n?n:e}}function X(t,e){return a(zr,t)?zr[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return K(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function K(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=v(t)}),n=0;n<t.length;n++)jr[t[n]]=r}function J(t,e){Z(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function tt(t,e,n){null!=e&&a(jr,t)&&jr[t](e,n._a,n,t)}function et(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function nt(t,e){return n(this._months)?this._months[t.month()]:this._months[Vr.test(e)?"format":"standalone"][t.month()]}function rt(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Vr.test(e)?"format":"standalone"][t.month()]}function it(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=s([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?(i=fr.call(this._shortMonthsParse,o),i!==-1?i:null):(i=fr.call(this._longMonthsParse,o),i!==-1?i:null):"MMM"===e?(i=fr.call(this._shortMonthsParse,o),i!==-1?i:(i=fr.call(this._longMonthsParse,o),i!==-1?i:null)):(i=fr.call(this._longMonthsParse,o),i!==-1?i:(i=fr.call(this._shortMonthsParse,o),i!==-1?i:null))}function at(t,e,n){var r,i,a;if(this._monthsParseExact)return it.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=s([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function ot(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=v(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),et(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function st(e){return null!=e?(ot(this,e),t.updateOffset(this,!0),this):H(this,"Month")}function lt(){return et(this.year(),this.month())}function ut(t){return this._monthsParseExact?(a(this,"_monthsRegex")||dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function ct(t){return this._monthsParseExact?(a(this,"_monthsRegex")||dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function dt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],a=[];for(e=0;e<12;e++)n=s([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),a.sort(t),e=0;e<12;e++)r[e]=K(r[e]),i[e]=K(i[e]),a[e]=K(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ht(t){var e,n=t._a;return n&&u(t).overflow===-2&&(e=n[Fr]<0||n[Fr]>11?Fr:n[Wr]<1||n[Wr]>et(n[Hr],n[Fr])?Wr:n[Br]<0||n[Br]>24||24===n[Br]&&(0!==n[$r]||0!==n[Gr]||0!==n[Yr])?Br:n[$r]<0||n[$r]>59?$r:n[Gr]<0||n[Gr]>59?Gr:n[Yr]<0||n[Yr]>999?Yr:-1,u(t)._overflowDayOfYear&&(e<Hr||e>Wr)&&(e=Wr),u(t)._overflowWeeks&&e===-1&&(e=qr),u(t)._overflowWeekday&&e===-1&&(e=Ur),u(t).overflow=e),t}function ft(t){var e,n,r,i,a,o,s=t._i,l=Jr.exec(s)||ti.exec(s);if(l){for(u(t).iso=!0,e=0,n=ni.length;e<n;e++)if(ni[e][1].exec(l[1])){i=ni[e][0],r=ni[e][2]!==!1;break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=ri.length;e<n;e++)if(ri[e][1].exec(l[3])){a=(l[2]||" ")+ri[e][0];break}if(null==a)return void(t._isValid=!1)}if(!r&&null!=a)return void(t._isValid=!1);if(l[4]){if(!ei.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=i+(a||"")+(o||""),Dt(t)}else t._isValid=!1}function pt(e){var n=ii.exec(e._i);return null!==n?void(e._d=new Date((+n[1]))):(ft(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function gt(t,e,n,r,i,a,o){var s=new Date(t,e,n,r,i,a,o);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function mt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function vt(t){return yt(t)?366:365}function yt(t){return t%4===0&&t%100!==0||t%400===0}function bt(){return yt(this.year())}function wt(t,e,n){var r=7+e-n,i=(7+mt(t,0,r).getUTCDay()-e)%7;return-i+r-1}function xt(t,e,n,r,i){var a,o,s=(7+n-r)%7,l=wt(t,r,i),u=1+7*(e-1)+s+l;return u<=0?(a=t-1,o=vt(a)+u):u>vt(t)?(a=t+1,o=u-vt(t)):(a=t,o=u),{year:a,dayOfYear:o}}function _t(t,e,n){var r,i,a=wt(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?(i=t.year()-1,r=o+Ct(i,e,n)):o>Ct(t.year(),e,n)?(r=o-Ct(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function Ct(t,e,n){var r=wt(t,e,n),i=wt(t+1,e,n);return(vt(t)-r+i)/7}function St(t,e,n){return null!=t?t:null!=e?e:n}function Tt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Et(t){var e,n,r,i,a=[];if(!t._d){for(r=Tt(t),t._w&&null==t._a[Wr]&&null==t._a[Fr]&&Mt(t),t._dayOfYear&&(i=St(t._a[Hr],r[Hr]),t._dayOfYear>vt(i)&&(u(t)._overflowDayOfYear=!0),n=mt(i,0,t._dayOfYear),t._a[Fr]=n.getUTCMonth(),t._a[Wr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Br]&&0===t._a[$r]&&0===t._a[Gr]&&0===t._a[Yr]&&(t._nextDay=!0,t._a[Br]=0),t._d=(t._useUTC?mt:gt).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Br]=24)}}function Mt(t){var e,n,r,i,a,o,s,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(a=1,o=4,n=St(e.GG,t._a[Hr],_t(It(),1,4).year),r=St(e.W,1),i=St(e.E,1),(i<1||i>7)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,n=St(e.gg,t._a[Hr],_t(It(),a,o).year),r=St(e.w,1),null!=e.d?(i=e.d,(i<0||i>6)&&(l=!0)):null!=e.e?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a),r<1||r>Ct(n,a,o)?u(t)._overflowWeeks=!0:null!=l?u(t)._overflowWeekday=!0:(s=xt(n,r,i,a,o),t._a[Hr]=s.year,t._dayOfYear=s.dayOfYear)}function Dt(e){if(e._f===t.ISO_8601)return void ft(e);e._a=[],u(e).empty=!0;var n,r,i,a,o,s=""+e._i,l=s.length,c=0;for(i=U(e._f,e._locale).match(mr)||[],n=0;n<i.length;n++)a=i[n],r=(s.match(X(a,e))||[])[0],r&&(o=s.substr(0,s.indexOf(r)),o.length>0&&u(e).unusedInput.push(o),s=s.slice(s.indexOf(r)+r.length),c+=r.length),br[a]?(r?u(e).empty=!1:u(e).unusedTokens.push(a),tt(a,r,e)):e._strict&&!r&&u(e).unusedTokens.push(a);u(e).charsLeftOver=l-c,s.length>0&&u(e).unusedInput.push(s),u(e).bigHour===!0&&e._a[Br]<=12&&e._a[Br]>0&&(u(e).bigHour=void 0),u(e).parsedDateParts=e._a.slice(0),u(e).meridiem=e._meridiem,e._a[Br]=kt(e._locale,e._a[Br],e._meridiem),Et(e),ht(e)}function kt(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function At(t){var e,n,r,i,a;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)a=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Dt(e),c(e)&&(a+=u(e).charsLeftOver,a+=10*u(e).unusedTokens.length,u(e).score=a,(null==r||a<r)&&(r=a,n=e));o(t,n||e)}function Ot(t){if(!t._d){var e=z(t._i);t._a=i([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Et(t)}}function Rt(t){var e=new p(ht(Lt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Lt(t){var e=t._i,i=t._f;return t._locale=t._locale||L(t._l),null===e||void 0===i&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new p(ht(e)):(n(i)?At(t):i?Dt(t):r(e)?t._d=e:Nt(t),c(t)||(t._d=null),t))}function Nt(e){var a=e._i;void 0===a?e._d=new Date(t.now()):r(a)?e._d=new Date(a.valueOf()):"string"==typeof a?pt(e):n(a)?(e._a=i(a.slice(0),function(t){return parseInt(t,10)}),Et(e)):"object"==typeof a?Ot(e):"number"==typeof a?e._d=new Date(a):t.createFromInputFallback(e)}function Pt(t,e,n,r,i){var a={};return"boolean"==typeof n&&(r=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=t,a._f=e,a._strict=r,Rt(a)}function It(t,e,n,r){return Pt(t,e,n,r,!1)}function zt(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return It();for(r=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](r)||(r=e[i]);return r}function jt(){var t=[].slice.call(arguments,0);return zt("isBefore",t)}function Ht(){var t=[].slice.call(arguments,0);return zt("isAfter",t)}function Ft(t){var e=z(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=L(),this._bubble()}function Wt(t){return t instanceof Ft}function Bt(t,e){$(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+B(~~(t/60),2)+e+B(~~t%60,2)})}function $t(t,e){var n=(e||"").match(t)||[],r=n[n.length-1]||[],i=(r+"").match(ui)||["-",0,0],a=+(60*i[1])+v(i[2]);return"+"===i[0]?a:-a}function Gt(e,n){var i,a;return n._isUTC?(i=n.clone(),a=(g(e)||r(e)?e.valueOf():It(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+a),t.updateOffset(i,!1),i):It(e).local()}function Yt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qt(e,n){var r,i=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=$t(Nr,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Yt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?ue(this,re(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Yt(this):null!=e?this:NaN}function Ut(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Vt(t){return this.utcOffset(0,t)}function Xt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Yt(this),"m")),this}function Qt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset($t(Lr,this._i)),this}function Kt(t){return!!this.isValid()&&(t=t?It(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jt(){if(!h(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),t=Lt(t),t._a){var e=t._isUTC?s(t._a):It(t._a);this._isDSTShifted=this.isValid()&&y(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function te(){return!!this.isValid()&&!this._isUTC}function ee(){return!!this.isValid()&&this._isUTC}function ne(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function re(t,e){var n,r,i,o=t,s=null;return Wt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(s=ci.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:v(s[Wr])*n,h:v(s[Br])*n,m:v(s[$r])*n,s:v(s[Gr])*n,ms:v(s[Yr])*n}):(s=di.exec(t))?(n="-"===s[1]?-1:1,o={y:ie(s[2],n),M:ie(s[3],n),w:ie(s[4],n),d:ie(s[5],n),h:ie(s[6],n),m:ie(s[7],n),s:ie(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=oe(It(o.from),It(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Ft(o),Wt(t)&&a(t,"_locale")&&(r._locale=t._locale),r}function ie(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ae(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function oe(t,e){var n;return t.isValid()&&e.isValid()?(e=Gt(e,t),t.isBefore(e)?n=ae(t,e):(n=ae(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function se(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function le(t,e){return function(n,r){var i,a;return null===r||isNaN(+r)||(x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),a=n,n=r,r=a),n="string"==typeof n?+n:n,i=re(n,r),ue(this,i,t),this}}function ue(e,n,r,i){var a=n._milliseconds,o=se(n._days),s=se(n._months);e.isValid()&&(i=null==i||i,a&&e._d.setTime(e._d.valueOf()+a*r),o&&F(e,"Date",H(e,"Date")+o*r),s&&ot(e,H(e,"Month")+s*r),i&&t.updateOffset(e,o||s))}function ce(t,e){var n=t||It(),r=Gt(n,this).startOf("day"),i=this.diff(r,"days",!0),a=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse",o=e&&(_(e[a])?e[a]():e[a]);return this.format(o||this.localeData().calendar(a,this,It(n)))}function de(){return new p(this)}function he(t,e){var n=g(t)?t:It(t);return!(!this.isValid()||!n.isValid())&&(e=I(h(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function fe(t,e){var n=g(t)?t:It(t);return!(!this.isValid()||!n.isValid())&&(e=I(h(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function pe(t,e,n,r){return r=r||"()",("("===r[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))}function ge(t,e){var n,r=g(t)?t:It(t);return!(!this.isValid()||!r.isValid())&&(e=I(e||"millisecond"),"millisecond"===e?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function me(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ve(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ye(t,e,n){var r,i,a,o;return this.isValid()?(r=Gt(t,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),e=I(e),"year"===e||"month"===e||"quarter"===e?(o=be(this,r),"quarter"===e?o/=3:"year"===e&&(o/=12)):(a=this-r,o="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-i)/864e5:"week"===e?(a-i)/6048e5:a),n?o:m(o)):NaN):NaN}function be(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(i,"months");return e-a<0?(n=t.clone().add(i-1,"months"),r=(e-a)/(a-n)):(n=t.clone().add(i+1,"months"),r=(e-a)/(n-a)),-(i+r)||0}function we(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xe(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?_(Date.prototype.toISOString)?this.toDate().toISOString():q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function _e(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=q(this,e);return this.localeData().postformat(n)}function Ce(t,e){return this.isValid()&&(g(t)&&t.isValid()||It(t).isValid())?re({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Se(t){return this.from(It(),t)}function Te(t,e){return this.isValid()&&(g(t)&&t.isValid()||It(t).isValid())?re({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ee(t){return this.to(It(),t)}function Me(t){var e;return void 0===t?this._locale._abbr:(e=L(t),null!=e&&(this._locale=e),this)}function De(){return this._locale}function ke(t){switch(t=I(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ae(t){return t=I(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Oe(){return this._d.valueOf()-6e4*(this._offset||0)}function Re(){return Math.floor(this.valueOf()/1e3)}function Le(){return this._offset?new Date(this.valueOf()):this._d}function Ne(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Pe(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ie(){return this.isValid()?this.toISOString():null}function ze(){return c(this)}function je(){return o({},u(this))}function He(){return u(this).overflow}function Fe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function We(t,e){$(0,[t,t.length],0,e)}function Be(t){return qe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $e(t){return qe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ge(){return Ct(this.year(),1,4)}function Ye(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function qe(t,e,n,r,i){var a;return null==t?_t(this,r,i).year:(a=Ct(t,r,i),e>a&&(e=a),Ue.call(this,t,e,n,r,i))}function Ue(t,e,n,r,i){var a=xt(t,e,n,r,i),o=mt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ve(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Xe(t){return _t(t,this._week.dow,this._week.doy).week}function Qe(){return this._week.dow}function Ke(){return this._week.doy}function Ze(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Je(t){var e=_t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function tn(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function en(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function nn(t){return this._weekdaysShort[t.day()]}function rn(t){return this._weekdaysMin[t.day()]}function an(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=s([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?(i=fr.call(this._weekdaysParse,o),i!==-1?i:null):"ddd"===e?(i=fr.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=fr.call(this._minWeekdaysParse,o),i!==-1?i:null):"dddd"===e?(i=fr.call(this._weekdaysParse,o),i!==-1?i:(i=fr.call(this._shortWeekdaysParse,o),i!==-1?i:(i=fr.call(this._minWeekdaysParse,o),i!==-1?i:null))):"ddd"===e?(i=fr.call(this._shortWeekdaysParse,o),i!==-1?i:(i=fr.call(this._weekdaysParse,o),i!==-1?i:(i=fr.call(this._minWeekdaysParse,o),i!==-1?i:null))):(i=fr.call(this._minWeekdaysParse,o),i!==-1?i:(i=fr.call(this._weekdaysParse,o),i!==-1?i:(i=fr.call(this._shortWeekdaysParse,o),i!==-1?i:null)))}function on(t,e,n){var r,i,a;if(this._weekdaysParseExact)return an.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=s([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function sn(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=tn(t,this.localeData()),this.add(t-e,"d")):e}function ln(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function un(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function cn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||fn.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function dn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||fn.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function hn(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||fn.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function fn(){function t(t,e){return e.length-t.length}var e,n,r,i,a,o=[],l=[],u=[],c=[];for(e=0;e<7;e++)n=s([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),l.push(i),u.push(a),c.push(r),c.push(i),c.push(a);for(o.sort(t),l.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)l[e]=K(l[e]),u[e]=K(u[e]),c[e]=K(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function pn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gn(){return this.hours()%12||12}function mn(){return this.hours()||24}function vn(t,e){$(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function yn(t,e){return e._meridiemParse}function bn(t){return"p"===(t+"").toLowerCase().charAt(0)}function wn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function xn(t,e){e[Yr]=v(1e3*("0."+t))}function _n(){return this._isUTC?"UTC":""}function Cn(){return this._isUTC?"Coordinated Universal Time":""}function Sn(t){return It(1e3*t)}function Tn(){return It.apply(null,arguments).parseZone()}function En(t,e,n){var r=this._calendar[t];return _(r)?r.call(e,n):r}function Mn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Dn(){return this._invalidDate}function kn(t){return this._ordinal.replace("%d",t)}function An(t){return t}function On(t,e,n,r){var i=this._relativeTime[n];return _(i)?i(t,e,n,r):i.replace(/%d/i,t)}function Rn(t,e){var n=this._relativeTime[t>0?"future":"past"];return _(n)?n(e):n.replace(/%s/i,e)}function Ln(t,e,n,r){var i=L(),a=s().set(r,e);return i[n](a,t)}function Nn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Ln(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Ln(t,r,n,"month");return i}function Pn(t,e,n,r){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var i=L(),a=t?i._week.dow:0;if(null!=n)return Ln(e,(n+a)%7,r,"day");var o,s=[];for(o=0;o<7;o++)s[o]=Ln(e,(o+a)%7,r,"day");return s}function In(t,e){return Nn(t,e,"months")}function zn(t,e){return Nn(t,e,"monthsShort")}function jn(t,e,n){return Pn(t,e,n,"weekdays")}function Hn(t,e,n){return Pn(t,e,n,"weekdaysShort")}function Fn(t,e,n){return Pn(t,e,n,"weekdaysMin")}function Wn(){var t=this._data;return this._milliseconds=ji(this._milliseconds),this._days=ji(this._days),this._months=ji(this._months),t.milliseconds=ji(t.milliseconds),t.seconds=ji(t.seconds),t.minutes=ji(t.minutes),t.hours=ji(t.hours),t.months=ji(t.months),t.years=ji(t.years),this}function Bn(t,e,n,r){var i=re(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function $n(t,e){return Bn(this,t,e,1)}function Gn(t,e){return Bn(this,t,e,-1)}function Yn(t){return t<0?Math.floor(t):Math.ceil(t)}function qn(){var t,e,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Yn(Vn(s)+o),o=0,s=0),l.milliseconds=a%1e3,t=m(a/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,n=m(e/60),l.hours=n%24,o+=m(n/24),i=m(Un(o)),s+=i,o-=Yn(Vn(i)),r=m(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function Un(t){return 4800*t/146097}function Vn(t){return 146097*t/4800}function Xn(t){var e,n,r=this._milliseconds;if(t=I(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+Un(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Vn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;
case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function Qn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Kn(t){return function(){return this.as(t)}}function Zn(t){return t=I(t),this[t+"s"]()}function Jn(t){return function(){return this._data[t]}}function tr(){return m(this.days()/7)}function er(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function nr(t,e,n){var r=re(t).abs(),i=ta(r.as("s")),a=ta(r.as("m")),o=ta(r.as("h")),s=ta(r.as("d")),l=ta(r.as("M")),u=ta(r.as("y")),c=i<ea.s&&["s",i]||a<=1&&["m"]||a<ea.m&&["mm",a]||o<=1&&["h"]||o<ea.h&&["hh",o]||s<=1&&["d"]||s<ea.d&&["dd",s]||l<=1&&["M"]||l<ea.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,er.apply(null,c)}function rr(t,e){return void 0!==ea[t]&&(void 0===e?ea[t]:(ea[t]=e,!0))}function ir(t){var e=this.localeData(),n=nr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function ar(){var t,e,n,r=na(this._milliseconds)/1e3,i=na(this._days),a=na(this._months);t=m(r/60),e=m(t/60),r%=60,t%=60,n=m(a/12),a%=12;var o=n,s=a,l=i,u=e,c=t,d=r,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var or,sr;sr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var lr=t.momentProperties=[],ur=!1,cr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var dr;dr=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var hr,fr,pr={},gr={},mr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yr={},br={},wr=/\d/,xr=/\d\d/,_r=/\d{3}/,Cr=/\d{4}/,Sr=/[+-]?\d{6}/,Tr=/\d\d?/,Er=/\d\d\d\d?/,Mr=/\d\d\d\d\d\d?/,Dr=/\d{1,3}/,kr=/\d{1,4}/,Ar=/[+-]?\d{1,6}/,Or=/\d+/,Rr=/[+-]?\d+/,Lr=/Z|[+-]\d\d:?\d\d/gi,Nr=/Z|[+-]\d\d(?::?\d\d)?/gi,Pr=/[+-]?\d+(\.\d{1,3})?/,Ir=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,zr={},jr={},Hr=0,Fr=1,Wr=2,Br=3,$r=4,Gr=5,Yr=6,qr=7,Ur=8;fr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},$("M",["MM",2],"Mo",function(){return this.month()+1}),$("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),$("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),V("M",Tr),V("MM",Tr,xr),V("MMM",function(t,e){return e.monthsShortRegex(t)}),V("MMMM",function(t,e){return e.monthsRegex(t)}),Z(["M","MM"],function(t,e){e[Fr]=v(t)-1}),Z(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[Fr]=i:u(n).invalidMonth=t});var Vr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Xr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Qr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Kr=Ir,Zr=Ir,Jr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ti=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ei=/Z|[+-]\d\d(?::?\d\d)?/,ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ri=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ii=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=w("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),$("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),$(0,["YY",2],0,function(){return this.year()%100}),$(0,["YYYY",4],0,"year"),$(0,["YYYYY",5],0,"year"),$(0,["YYYYYY",6,!0],0,"year"),P("year","y"),V("Y",Rr),V("YY",Tr,xr),V("YYYY",kr,Cr),V("YYYYY",Ar,Sr),V("YYYYYY",Ar,Sr),Z(["YYYYY","YYYYYY"],Hr),Z("YYYY",function(e,n){n[Hr]=2===e.length?t.parseTwoDigitYear(e):v(e)}),Z("YY",function(e,n){n[Hr]=t.parseTwoDigitYear(e)}),Z("Y",function(t,e){e[Hr]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return v(t)+(v(t)>68?1900:2e3)};var ai=j("FullYear",!0);t.ISO_8601=function(){};var oi=w("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=It.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:d()}),si=w("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=It.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:d()}),li=function(){return Date.now?Date.now():+new Date};Bt("Z",":"),Bt("ZZ",""),V("Z",Nr),V("ZZ",Nr),Z(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=$t(Nr,t)});var ui=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var ci=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,di=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;re.fn=Ft.prototype;var hi=le(1,"add"),fi=le(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var pi=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});$(0,["gg",2],0,function(){return this.weekYear()%100}),$(0,["GG",2],0,function(){return this.isoWeekYear()%100}),We("gggg","weekYear"),We("ggggg","weekYear"),We("GGGG","isoWeekYear"),We("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),V("G",Rr),V("g",Rr),V("GG",Tr,xr),V("gg",Tr,xr),V("GGGG",kr,Cr),V("gggg",kr,Cr),V("GGGGG",Ar,Sr),V("ggggg",Ar,Sr),J(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=v(t)}),J(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),$("Q",0,"Qo","quarter"),P("quarter","Q"),V("Q",wr),Z("Q",function(t,e){e[Fr]=3*(v(t)-1)}),$("w",["ww",2],"wo","week"),$("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),V("w",Tr),V("ww",Tr,xr),V("W",Tr),V("WW",Tr,xr),J(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=v(t)});var gi={dow:0,doy:6};$("D",["DD",2],"Do","date"),P("date","D"),V("D",Tr),V("DD",Tr,xr),V("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),Z(["D","DD"],Wr),Z("Do",function(t,e){e[Wr]=v(t.match(Tr)[0],10)});var mi=j("Date",!0);$("d",0,"do","day"),$("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),$("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),$("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),$("e",0,0,"weekday"),$("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),V("d",Tr),V("e",Tr),V("E",Tr),V("dd",function(t,e){return e.weekdaysMinRegex(t)}),V("ddd",function(t,e){return e.weekdaysShortRegex(t)}),V("dddd",function(t,e){return e.weekdaysRegex(t)}),J(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:u(n).invalidWeekday=t}),J(["d","e","E"],function(t,e,n,r){e[r]=v(t)});var vi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wi=Ir,xi=Ir,_i=Ir;$("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),V("DDD",Dr),V("DDDD",_r),Z(["DDD","DDDD"],function(t,e,n){n._dayOfYear=v(t)}),$("H",["HH",2],0,"hour"),$("h",["hh",2],0,gn),$("k",["kk",2],0,mn),$("hmm",0,0,function(){return""+gn.apply(this)+B(this.minutes(),2)}),$("hmmss",0,0,function(){return""+gn.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),$("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),$("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),vn("a",!0),vn("A",!1),P("hour","h"),V("a",yn),V("A",yn),V("H",Tr),V("h",Tr),V("HH",Tr,xr),V("hh",Tr,xr),V("hmm",Er),V("hmmss",Mr),V("Hmm",Er),V("Hmmss",Mr),Z(["H","HH"],Br),Z(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),Z(["h","hh"],function(t,e,n){e[Br]=v(t),u(n).bigHour=!0}),Z("hmm",function(t,e,n){var r=t.length-2;e[Br]=v(t.substr(0,r)),e[$r]=v(t.substr(r)),u(n).bigHour=!0}),Z("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Br]=v(t.substr(0,r)),e[$r]=v(t.substr(r,2)),e[Gr]=v(t.substr(i)),u(n).bigHour=!0}),Z("Hmm",function(t,e,n){var r=t.length-2;e[Br]=v(t.substr(0,r)),e[$r]=v(t.substr(r))}),Z("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[Br]=v(t.substr(0,r)),e[$r]=v(t.substr(r,2)),e[Gr]=v(t.substr(i))});var Ci=/[ap]\.?m?\.?/i,Si=j("Hours",!0);$("m",["mm",2],0,"minute"),P("minute","m"),V("m",Tr),V("mm",Tr,xr),Z(["m","mm"],$r);var Ti=j("Minutes",!1);$("s",["ss",2],0,"second"),P("second","s"),V("s",Tr),V("ss",Tr,xr),Z(["s","ss"],Gr);var Ei=j("Seconds",!1);$("S",0,0,function(){return~~(this.millisecond()/100)}),$(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),$(0,["SSS",3],0,"millisecond"),$(0,["SSSS",4],0,function(){return 10*this.millisecond()}),$(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),$(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),$(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),$(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),$(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),V("S",Dr,wr),V("SS",Dr,xr),V("SSS",Dr,_r);var Mi;for(Mi="SSSS";Mi.length<=9;Mi+="S")V(Mi,Or);for(Mi="S";Mi.length<=9;Mi+="S")Z(Mi,xn);var Di=j("Milliseconds",!1);$("z",0,0,"zoneAbbr"),$("zz",0,0,"zoneName");var ki=p.prototype;ki.add=hi,ki.calendar=ce,ki.clone=de,ki.diff=ye,ki.endOf=Ae,ki.format=_e,ki.from=Ce,ki.fromNow=Se,ki.to=Te,ki.toNow=Ee,ki.get=W,ki.invalidAt=He,ki.isAfter=he,ki.isBefore=fe,ki.isBetween=pe,ki.isSame=ge,ki.isSameOrAfter=me,ki.isSameOrBefore=ve,ki.isValid=ze,ki.lang=pi,ki.locale=Me,ki.localeData=De,ki.max=si,ki.min=oi,ki.parsingFlags=je,ki.set=W,ki.startOf=ke,ki.subtract=fi,ki.toArray=Ne,ki.toObject=Pe,ki.toDate=Le,ki.toISOString=xe,ki.toJSON=Ie,ki.toString=we,ki.unix=Re,ki.valueOf=Oe,ki.creationData=Fe,ki.year=ai,ki.isLeapYear=bt,ki.weekYear=Be,ki.isoWeekYear=$e,ki.quarter=ki.quarters=Ve,ki.month=st,ki.daysInMonth=lt,ki.week=ki.weeks=Ze,ki.isoWeek=ki.isoWeeks=Je,ki.weeksInYear=Ye,ki.isoWeeksInYear=Ge,ki.date=mi,ki.day=ki.days=sn,ki.weekday=ln,ki.isoWeekday=un,ki.dayOfYear=pn,ki.hour=ki.hours=Si,ki.minute=ki.minutes=Ti,ki.second=ki.seconds=Ei,ki.millisecond=ki.milliseconds=Di,ki.utcOffset=qt,ki.utc=Vt,ki.local=Xt,ki.parseZone=Qt,ki.hasAlignedHourOffset=Kt,ki.isDST=Zt,ki.isDSTShifted=Jt,ki.isLocal=te,ki.isUtcOffset=ee,ki.isUtc=ne,ki.isUTC=ne,ki.zoneAbbr=_n,ki.zoneName=Cn,ki.dates=w("dates accessor is deprecated. Use date instead.",mi),ki.months=w("months accessor is deprecated. Use month instead",st),ki.years=w("years accessor is deprecated. Use year instead",ai),ki.zone=w("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ut);var Ai=ki,Oi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ri={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Li="Invalid date",Ni="%d",Pi=/\d{1,2}/,Ii={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zi=E.prototype;zi._calendar=Oi,zi.calendar=En,zi._longDateFormat=Ri,zi.longDateFormat=Mn,zi._invalidDate=Li,zi.invalidDate=Dn,zi._ordinal=Ni,zi.ordinal=kn,zi._ordinalParse=Pi,zi.preparse=An,zi.postformat=An,zi._relativeTime=Ii,zi.relativeTime=On,zi.pastFuture=Rn,zi.set=S,zi.months=nt,zi._months=Xr,zi.monthsShort=rt,zi._monthsShort=Qr,zi.monthsParse=at,zi._monthsRegex=Zr,zi.monthsRegex=ct,zi._monthsShortRegex=Kr,zi.monthsShortRegex=ut,zi.week=Xe,zi._week=gi,zi.firstDayOfYear=Ke,zi.firstDayOfWeek=Qe,zi.weekdays=en,zi._weekdays=vi,zi.weekdaysMin=rn,zi._weekdaysMin=bi,zi.weekdaysShort=nn,zi._weekdaysShort=yi,zi.weekdaysParse=on,zi._weekdaysRegex=wi,zi.weekdaysRegex=cn,zi._weekdaysShortRegex=xi,zi.weekdaysShortRegex=dn,zi._weekdaysMinRegex=_i,zi.weekdaysMinRegex=hn,zi.isPM=bn,zi._meridiemParse=Ci,zi.meridiem=wn,A("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=w("moment.lang is deprecated. Use moment.locale instead.",A),t.langData=w("moment.langData is deprecated. Use moment.localeData instead.",L);var ji=Math.abs,Hi=Kn("ms"),Fi=Kn("s"),Wi=Kn("m"),Bi=Kn("h"),$i=Kn("d"),Gi=Kn("w"),Yi=Kn("M"),qi=Kn("y"),Ui=Jn("milliseconds"),Vi=Jn("seconds"),Xi=Jn("minutes"),Qi=Jn("hours"),Ki=Jn("days"),Zi=Jn("months"),Ji=Jn("years"),ta=Math.round,ea={s:45,m:45,h:22,d:26,M:11},na=Math.abs,ra=Ft.prototype;ra.abs=Wn,ra.add=$n,ra.subtract=Gn,ra.as=Xn,ra.asMilliseconds=Hi,ra.asSeconds=Fi,ra.asMinutes=Wi,ra.asHours=Bi,ra.asDays=$i,ra.asWeeks=Gi,ra.asMonths=Yi,ra.asYears=qi,ra.valueOf=Qn,ra._bubble=qn,ra.get=Zn,ra.milliseconds=Ui,ra.seconds=Vi,ra.minutes=Xi,ra.hours=Qi,ra.days=Ki,ra.weeks=tr,ra.months=Zi,ra.years=Ji,ra.humanize=ir,ra.toISOString=ar,ra.toString=ar,ra.toJSON=ar,ra.locale=Me,ra.localeData=De,ra.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ar),ra.lang=pi,$("X",0,0,"unix"),$("x",0,0,"valueOf"),V("x",Rr),V("X",Pr),Z("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),Z("x",function(t,e,n){n._d=new Date(v(t))}),t.version="2.13.0",e(It),t.fn=Ai,t.min=jt,t.max=Ht,t.now=li,t.utc=s,t.unix=Sn,t.months=In,t.isDate=r,t.locale=A,t.invalid=d,t.duration=re,t.isMoment=g,t.weekdays=jn,t.parseZone=Tn,t.localeData=L,t.isDuration=Wt,t.monthsShort=zn,t.weekdaysMin=Fn,t.defineLocale=O,t.updateLocale=R,t.locales=N,t.weekdaysShort=Hn,t.normalizeUnits=I,t.relativeTimeThreshold=rr,t.prototype=Ai;var ia=t;return ia}),function(){"use strict";function t(r){if(!r)throw new Error("No options passed to Waypoint constructor");if(!r.element)throw new Error("No element option passed to Waypoint constructor");if(!r.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,r),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=r.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,e+=1}var e=0,n={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var r in n)e.push(n[r]);for(var i=0,a=e.length;i<a;i++)e[i][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=i.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,r[t.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,r={},i=window.Waypoint,a=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete r[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,i.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){e.didScroll&&!i.isTouch||(e.didScroll=!0,i.requestAnimationFrame(t))})},e.prototype.handleResize=function(){i.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in e){var r=e[n],i=r.newScroll>r.oldScroll,a=i?r.forward:r.backward;for(var o in this.waypoints[n]){var s=this.waypoints[n][o],l=r.oldScroll<s.triggerPoint,u=r.newScroll>=s.triggerPoint,c=l&&u,d=!l&&!u;(c||d)&&(s.queueTrigger(a),t[s.group.id]=s.group)}}for(var h in t)t[h].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?i.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?i.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var n in this.waypoints[e])t.push(this.waypoints[e][n]);for(var r=0,i=t.length;r<i;r++)t[r].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,n=e?void 0:this.adapter.offset(),r={};this.handleScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var a in t){var o=t[a];for(var s in this.waypoints[a]){var l,u,c,d,h,f=this.waypoints[a][s],p=f.options.offset,g=f.triggerPoint,m=0,v=null==g;f.element!==f.element.window&&(m=f.adapter.offset()[o.offsetProp]),"function"==typeof p?p=p.apply(f):"string"==typeof p&&(p=parseFloat(p),f.options.offset.indexOf("%")>-1&&(p=Math.ceil(o.contextDimension*p/100))),l=o.contextScroll-o.contextOffset,f.triggerPoint=m+l-p,u=g<o.oldScroll,c=f.triggerPoint>=o.oldScroll,d=u&&c,h=!u&&!c,!v&&d?(f.queueTrigger(o.backward),r[f.group.id]=f.group):!v&&h?(f.queueTrigger(o.forward),r[f.group.id]=f.group):v&&o.oldScroll>=f.triggerPoint&&(f.queueTrigger(o.forward),r[f.group.id]=f.group)}}return i.requestAnimationFrame(function(){for(var t in r)r[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in r)r[t].refresh()},e.findByElement=function(t){return r[t.waypointContextKey]},window.onload=function(){a&&a(),e.refreshAll()},i.requestAnimationFrame=function(e){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;n.call(window,e)},i.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function n(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),r[this.axis][this.name]=this}var r={vertical:{},horizontal:{}},i=window.Waypoint;n.prototype.add=function(t){this.waypoints.push(t)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var r=this.triggerQueues[n],i="up"===n||"left"===n;r.sort(i?e:t);for(var a=0,o=r.length;a<o;a+=1){var s=r[a];(s.options.continuous||a===r.length-1)&&s.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(e){this.waypoints.sort(t);var n=i.Adapter.inArray(e,this.waypoints),r=n===this.waypoints.length-1;return r?null:this.waypoints[n+1]},n.prototype.previous=function(e){this.waypoints.sort(t);var n=i.Adapter.inArray(e,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},n.prototype.remove=function(t){var e=i.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(t){return r[t.axis][t.name]||new n(t)},i.Group=n}(),function(){"use strict";function t(t){return t===t.window}function e(e){return t(e)?e:e.defaultView}function n(t){this.element=t,this.handlers={}}var r=window.Waypoint;n.prototype.innerHeight=function(){var e=t(this.element);return e?this.element.innerHeight:this.element.clientHeight},n.prototype.innerWidth=function(){var e=t(this.element);return e?this.element.innerWidth:this.element.clientWidth},n.prototype.off=function(t,e){function n(t,e,n){for(var r=0,i=e.length-1;r<i;r++){var a=e[r];n&&n!==a||t.removeEventListener(a)}}var r=t.split("."),i=r[0],a=r[1],o=this.element;if(a&&this.handlers[a]&&i)n(o,this.handlers[a][i],e),this.handlers[a][i]=[];else if(i)for(var s in this.handlers)n(o,this.handlers[s][i]||[],e),this.handlers[s][i]=[];else if(a&&this.handlers[a]){for(var l in this.handlers[a])n(o,this.handlers[a][l],e);this.handlers[a]={}}},n.prototype.offset=function(){if(!this.element.ownerDocument)return null;var t=this.element.ownerDocument.documentElement,n=e(this.element.ownerDocument),r={top:0,left:0};return this.element.getBoundingClientRect&&(r=this.element.getBoundingClientRect()),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}},n.prototype.on=function(t,e){var n=t.split("."),r=n[0],i=n[1]||"__default",a=this.handlers[i]=this.handlers[i]||{},o=a[r]=a[r]||[];o.push(e),this.element.addEventListener(r,e)},n.prototype.outerHeight=function(e){var n,r=this.innerHeight();return e&&!t(this.element)&&(n=window.getComputedStyle(this.element),r+=parseInt(n.marginTop,10),r+=parseInt(n.marginBottom,10)),r},n.prototype.outerWidth=function(e){var n,r=this.innerWidth();return e&&!t(this.element)&&(n=window.getComputedStyle(this.element),r+=parseInt(n.marginLeft,10),r+=parseInt(n.marginRight,10)),r},n.prototype.scrollLeft=function(){var t=e(this.element);return t?t.pageXOffset:this.element.scrollLeft},n.prototype.scrollTop=function(){var t=e(this.element);return t?t.pageYOffset:this.element.scrollTop},n.extend=function(){function t(t,e){if("object"==typeof t&&"object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}for(var e=Array.prototype.slice.call(arguments),n=1,r=e.length;n<r;n++)t(e[0],e[n]);return e[0]},n.inArray=function(t,e,n){return null==e?-1:e.indexOf(t,n)},n.isEmptyObject=function(t){for(var e in t)return!1;return!0},r.adapters.push({name:"noframework",Adapter:n}),r.Adapter=n}(),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t.getBoundingClientRect(),n={};for(var r in e)n[r]=e[r];if(t.ownerDocument!==document){var a=t.ownerDocument.defaultView.frameElement;if(a){var o=i(a);n.top+=o.top,n.bottom+=o.top,n.left+=o.left,n.right+=o.left}}return n}function a(t){var e=getComputedStyle(t)||{},n=e.position,r=[];if("fixed"===n)return[t];for(var i=t;(i=i.parentNode)&&i&&1===i.nodeType;){var a=void 0;try{a=getComputedStyle(i)}catch(o){}if("undefined"==typeof a||null===a)return r.push(i),r;var s=a,l=s.overflow,u=s.overflowX,c=s.overflowY;/(auto|scroll)/.test(l+c+u)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(a.position)>=0)&&r.push(i)}return r.push(t.ownerDocument.body),t.ownerDocument!==document&&r.push(t.ownerDocument.defaultView),r}function o(){T&&document.body.removeChild(T),T=null}function s(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,r=i(t),a=D();return r.top-=a.top,r.left-=a.left,"undefined"==typeof r.width&&(r.width=document.body.scrollWidth-r.left-r.right),"undefined"==typeof r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-n.clientTop,r.left=r.left-n.clientLeft,r.right=e.body.clientWidth-r.width-r.left,r.bottom=e.body.clientHeight-r.height-r.top,r}function l(t){return t.offsetParent||document.documentElement}function u(){if(k)return k;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");c(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;n===r&&(r=e.clientWidth),document.body.removeChild(e);var i=n-r;return k={width:i,height:i}}function c(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function d(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),r=p(t).replace(n," ");g(t,r)}}function h(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{d(t,e);var n=p(t)+(" "+e);g(t,n)}}function f(t,e){if("undefined"!=typeof t.classList)return t.classList.contains(e);var n=p(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function p(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function g(t,e){t.setAttribute("class",e)}function m(t,e,n){n.forEach(function(n){e.indexOf(n)===-1&&f(t,n)&&d(t,n)}),e.forEach(function(e){f(t,e)||h(t,e)})}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function b(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function w(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){var n=e.top,r=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof r&&(r=parseFloat(r,10)),t.top+=n,t.left+=r}),t}function x(t,e){return"string"==typeof t.left&&t.left.indexOf("%")!==-1&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&t.top.indexOf("%")!==-1&&(t.top=parseFloat(t.top,10)/100*e.height),t}function _(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),"undefined"!=typeof e.nodeType&&!function(){var t=e,n=s(e),r=n,i=getComputedStyle(e);if(e=[r.left,r.top,n.width+r.left,n.height+r.top],t.ownerDocument!==document){var a=t.ownerDocument.defaultView;e[0]+=a.pageXOffset,e[1]+=a.pageYOffset,e[2]+=a.pageXOffset,e[3]+=a.pageYOffset}X.forEach(function(t,n){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[n]+=parseFloat(i["border"+t+"Width"]):e[n]-=parseFloat(i["border"+t+"Width"])})}(),e}var C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=void 0;"undefined"==typeof S&&(S={modules:[]});var T=null,E=function(){var t=0;return function(){return++t}}(),M={},D=function(){var t=T;t&&document.body.contains(t)||(t=document.createElement("div"),t.setAttribute("data-tether-id",E()),c(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),T=t);var e=t.getAttribute("data-tether-id");return"undefined"==typeof M[e]&&(M[e]=i(t),O(function(){delete M[e]})),M[e]},k=null,A=[],O=function(t){A.push(t)},R=function(){for(var t=void 0;t=A.pop();)t()},L=function(){function t(){r(this,t)}return C(t,[{key:"on",value:function(t,e,n){var r=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:r})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[t])if("undefined"==typeof e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if("undefined"!=typeof this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(;e<this.bindings[t].length;){var a=this.bindings[t][e],o=a.handler,s=a.ctx,l=a.once,u=s;"undefined"==typeof u&&(u=this),o.apply(u,r),l?this.bindings[t].splice(e,1):++e}}}}]),t}();S.Utils={getActualBoundingClientRect:i,getScrollParents:a,getBounds:s,getOffsetParent:l,extend:c,addClass:h,removeClass:d,hasClass:f,updateClasses:m,defer:O,flush:R,uniqueId:E,Evented:L,getScrollBarSize:u,removeUtilElements:o};var N=function(){function t(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n;
}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P=function(t,e,n){for(var r=!0;r;){var i=t,a=e,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(i);if(null===u)return;t=u,e=a,n=o,r=!0,s=u=void 0}};if("undefined"==typeof S)throw new Error("You must include the utils.js file before tether.js");var I=S.Utils,a=I.getScrollParents,s=I.getBounds,l=I.getOffsetParent,c=I.extend,h=I.addClass,d=I.removeClass,m=I.updateClasses,O=I.defer,R=I.flush,u=I.getScrollBarSize,o=I.removeUtilElements,z=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var r=e[n];if(void 0!==t.style[r])return r}}(),j=[],H=function(){j.forEach(function(t){t.position(!1)}),R()};!function(){var t=null,e=null,n=null,r=function i(){return"undefined"!=typeof e&&e>16?(e=Math.min(e-16,250),void(n=setTimeout(i,250))):void("undefined"!=typeof t&&b()-t<10||(null!=n&&(clearTimeout(n),n=null),t=b(),H(),e=b()-t))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,r)})}();var F={center:"center",left:"right",right:"left"},W={middle:"middle",top:"bottom",bottom:"top"},B={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},$=function(t,e){var n=t.left,r=t.top;return"auto"===n&&(n=F[e.left]),"auto"===r&&(r=W[e.top]),{left:n,top:r}},G=function(t){var e=t.left,n=t.top;return"undefined"!=typeof B[t.left]&&(e=B[t.left]),"undefined"!=typeof B[t.top]&&(n=B[t.top]),{left:e,top:n}},Y=function(t){var e=t.split(" "),n=N(e,2),r=n[0],i=n[1];return{top:r,left:i}},q=Y,U=function(t){function e(t){var n=this;r(this,e),P(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),j.push(this),this.history=[],this.setOptions(t,!1),S.modules.forEach(function(t){"undefined"!=typeof t.initialize&&t.initialize.call(n)}),this.position()}return v(e,t),C(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return"undefined"!=typeof e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],r={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=c(r,t);var i=this.options,o=i.element,s=i.target,l=i.targetModifier;if(this.element=o,this.target=s,this.targetModifier=l,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if("undefined"==typeof e[t])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),h(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&h(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=q(this.options.targetAttachment),this.attachment=q(this.options.attachment),this.offset=Y(this.options.offset),this.targetOffset=Y(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=a(this.target),this.options.enabled!==!1&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return s(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=s(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,n=this.target;n===document.body?(n=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=s(n);var r=getComputedStyle(n),i=n.scrollWidth>n.clientWidth||[r.overflow,r.overflowX].indexOf("scroll")>=0||this.target!==document.body,a=0;i&&(a=15);var o=t.height-parseFloat(r.borderTopWidth)-parseFloat(r.borderBottomWidth)-a,e={width:15,height:.975*o*(o/n.scrollHeight),left:t.left+t.width-parseFloat(r.borderLeftWidth)-15},l=0;o<408&&this.target===document.body&&(l=-11e-5*Math.pow(o,2)-.00727*o+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var u=this.target.scrollTop/(n.scrollHeight-o);return e.top=u*(o-e.height-l)+t.top+parseFloat(r.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;d(this.target,this.getClass("enabled")),d(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),j.forEach(function(e,n){e===t&&j.splice(n,1)}),0===j.length&&o()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var r=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var i=this._addAttachClasses;t.top&&i.push(this.getClass("element-attached")+"-"+t.top),t.left&&i.push(this.getClass("element-attached")+"-"+t.left),e.top&&i.push(this.getClass("target-attached")+"-"+e.top),e.left&&i.push(this.getClass("target-attached")+"-"+e.left);var a=[];r.forEach(function(t){a.push(n.getClass("element-attached")+"-"+t),a.push(n.getClass("target-attached")+"-"+t)}),O(function(){"undefined"!=typeof n._addAttachClasses&&(m(n.element,n._addAttachClasses,a),n.options.addTargetClasses!==!1&&m(n.target,n._addAttachClasses,a),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=$(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var r=this.cache("element-bounds",function(){return s(t.element)}),i=r.width,a=r.height;if(0===i&&0===a&&"undefined"!=typeof this.lastSize){var o=this.lastSize;i=o.width,a=o.height}else this.lastSize={width:i,height:a};var c=this.cache("target-bounds",function(){return t.getTargetBounds()}),d=c,h=x(G(this.attachment),{width:i,height:a}),f=x(G(n),d),p=x(this.offset,{width:i,height:a}),g=x(this.targetOffset,d);h=w(h,p),f=w(f,g);for(var m=c.left+f.left-h.left,v=c.top+f.top-h.top,y=0;y<S.modules.length;++y){var b=S.modules[y],_=b.position.call(this,{left:m,top:v,targetAttachment:n,targetPos:c,elementPos:r,offset:h,targetOffset:f,manualOffset:p,manualTargetOffset:g,scrollbarSize:M,attachment:this.attachment});if(_===!1)return!1;"undefined"!=typeof _&&"object"==typeof _&&(v=_.top,m=_.left)}var C={page:{top:v,left:m},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-a+innerHeight,left:m-pageXOffset,right:pageXOffset-m-i+innerWidth}},T=this.target.ownerDocument,E=T.defaultView,M=void 0;return E.innerHeight>T.documentElement.clientHeight&&(M=this.cache("scrollbar-size",u),C.viewport.bottom-=M.height),E.innerWidth>T.documentElement.clientWidth&&(M=this.cache("scrollbar-size",u),C.viewport.right-=M.width),["","static"].indexOf(T.body.style.position)!==-1&&["","static"].indexOf(T.body.parentElement.style.position)!==-1||(C.page.bottom=T.body.scrollHeight-v-a,C.page.right=T.body.scrollWidth-m-i),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var e=t.cache("target-offsetparent",function(){return l(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return s(e)}),r=getComputedStyle(e),i=n,a={};if(["Top","Left","Bottom","Right"].forEach(function(t){a[t.toLowerCase()]=parseFloat(r["border"+t+"Width"])}),n.right=T.body.scrollWidth-n.left-i.width+a.right,n.bottom=T.body.scrollHeight-n.top-i.height+a.bottom,C.page.top>=n.top+a.top&&C.page.bottom>=n.bottom&&C.page.left>=n.left+a.left&&C.page.right>=n.right){var o=e.scrollTop,u=e.scrollLeft;C.offset={top:C.page.top-n.top+o-a.top,left:C.page.left-n.left+u-a.left}}}(),this.move(C),this.history.unshift(C),this.history.length>3&&this.history.pop(),e&&R(),!0}}},{key:"move",value:function(t){var e=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var r in t){n[r]={};for(var i in t[r]){for(var a=!1,o=0;o<this.history.length;++o){var s=this.history[o];if("undefined"!=typeof s[r]&&!y(s[r][i],t[r][i])){a=!0;break}}a||(n[r][i]=!0)}}var u={top:"",left:"",right:"",bottom:""},d=function(t,n){var r="undefined"!=typeof e.options.optimizations,i=r?e.options.optimizations.gpu:null;if(i!==!1){var a=void 0,o=void 0;if(t.top?(u.top=0,a=n.top):(u.bottom=0,a=-n.bottom),t.left?(u.left=0,o=n.left):(u.right=0,o=-n.right),window.matchMedia){var s=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;s||(o=Math.round(o),a=Math.round(a))}u[z]="translateX("+o+"px) translateY("+a+"px)","msTransform"!==z&&(u[z]+=" translateZ(0)")}else t.top?u.top=n.top+"px":u.bottom=n.bottom+"px",t.left?u.left=n.left+"px":u.right=n.right+"px"},h=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(u.position="absolute",d(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(u.position="fixed",d(n.viewport,t.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){u.position="absolute";var r=e.cache("target-offsetparent",function(){return l(e.target)});l(e.element)!==r&&O(function(){e.element.parentNode.removeChild(e.element),r.appendChild(e.element)}),d(n.offset,t.offset),h=!0}():(u.position="absolute",d({top:!0,left:!0},t.page)),!h)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var f=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){f=!1;break}p=p.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var i in u){var v=u[i],b=this.element.style[i];b!==v&&(m=!0,g[i]=v)}m&&O(function(){c(e.element.style,g),e.trigger("repositioned")})}}}]),e}(L);U.modules=[],S.position=H;var V=c(U,S),N=function(){function t(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),I=S.Utils,s=I.getBounds,c=I.extend,m=I.updateClasses,O=I.defer,X=["left","top","right","bottom"];S.modules.push({position:function(t){var e=this,n=t.top,r=t.left,i=t.targetAttachment;if(!this.options.constraints)return!0;var a=this.cache("element-bounds",function(){return s(e.element)}),o=a.height,l=a.width;if(0===l&&0===o&&"undefined"!=typeof this.lastSize){var u=this.lastSize;l=u.width,o=u.height}var d=this.cache("target-bounds",function(){return e.getTargetBounds()}),h=d.height,f=d.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&p.push(e),n&&p.push(n)}),p.forEach(function(t){["left","top","right","bottom"].forEach(function(e){p.push(t+"-"+e)})});var g=[],v=c({},i),y=c({},this.attachment);return this.options.constraints.forEach(function(t){var a=t.to,s=t.attachment,u=t.pin;"undefined"==typeof s&&(s="");var c=void 0,d=void 0;if(s.indexOf(" ")>=0){var p=s.split(" "),m=N(p,2);d=m[0],c=m[1]}else c=d=s;var b=_(e,a);"target"!==d&&"both"!==d||(n<b[1]&&"top"===v.top&&(n+=h,v.top="bottom"),n+o>b[3]&&"bottom"===v.top&&(n-=h,v.top="top")),"together"===d&&("top"===v.top&&("bottom"===y.top&&n<b[1]?(n+=h,v.top="bottom",n+=o,y.top="top"):"top"===y.top&&n+o>b[3]&&n-(o-h)>=b[1]&&(n-=o-h,v.top="bottom",y.top="bottom")),"bottom"===v.top&&("top"===y.top&&n+o>b[3]?(n-=h,v.top="top",n-=o,y.top="bottom"):"bottom"===y.top&&n<b[1]&&n+(2*o-h)<=b[3]&&(n+=o-h,v.top="top",y.top="top")),"middle"===v.top&&(n+o>b[3]&&"top"===y.top?(n-=o,y.top="bottom"):n<b[1]&&"bottom"===y.top&&(n+=o,y.top="top"))),"target"!==c&&"both"!==c||(r<b[0]&&"left"===v.left&&(r+=f,v.left="right"),r+l>b[2]&&"right"===v.left&&(r-=f,v.left="left")),"together"===c&&(r<b[0]&&"left"===v.left?"right"===y.left?(r+=f,v.left="right",r+=l,y.left="left"):"left"===y.left&&(r+=f,v.left="right",r-=l,y.left="right"):r+l>b[2]&&"right"===v.left?"left"===y.left?(r-=f,v.left="left",r-=l,y.left="right"):"right"===y.left&&(r-=f,v.left="left",r+=l,y.left="left"):"center"===v.left&&(r+l>b[2]&&"left"===y.left?(r-=l,y.left="right"):r<b[0]&&"right"===y.left&&(r+=l,y.left="left"))),"element"!==d&&"both"!==d||(n<b[1]&&"bottom"===y.top&&(n+=o,y.top="top"),n+o>b[3]&&"top"===y.top&&(n-=o,y.top="bottom")),"element"!==c&&"both"!==c||(r<b[0]&&("right"===y.left?(r+=l,y.left="left"):"center"===y.left&&(r+=l/2,y.left="left")),r+l>b[2]&&("left"===y.left?(r-=l,y.left="right"):"center"===y.left&&(r-=l/2,y.left="right"))),"string"==typeof u?u=u.split(",").map(function(t){return t.trim()}):u===!0&&(u=["top","left","right","bottom"]),u=u||[];var w=[],x=[];n<b[1]&&(u.indexOf("top")>=0?(n=b[1],w.push("top")):x.push("top")),n+o>b[3]&&(u.indexOf("bottom")>=0?(n=b[3]-o,w.push("bottom")):x.push("bottom")),r<b[0]&&(u.indexOf("left")>=0?(r=b[0],w.push("left")):x.push("left")),r+l>b[2]&&(u.indexOf("right")>=0?(r=b[2]-l,w.push("right")):x.push("right")),w.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),g.push(t),w.forEach(function(e){g.push(t+"-"+e)})}(),x.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),g.push(t),x.forEach(function(e){g.push(t+"-"+e)})}(),(w.indexOf("left")>=0||w.indexOf("right")>=0)&&(y.left=v.left=!1),(w.indexOf("top")>=0||w.indexOf("bottom")>=0)&&(y.top=v.top=!1),v.top===i.top&&v.left===i.left&&y.top===e.attachment.top&&y.left===e.attachment.left||(e.updateAttachClasses(y,v),e.trigger("update",{attachment:y,targetAttachment:v}))}),O(function(){e.options.addTargetClasses!==!1&&m(e.target,g,p),m(e.element,g,p)}),{top:n,left:r}}});var I=S.Utils,s=I.getBounds,m=I.updateClasses,O=I.defer;S.modules.push({position:function(t){var e=this,n=t.top,r=t.left,i=this.cache("element-bounds",function(){return s(e.element)}),a=i.height,o=i.width,l=this.getTargetBounds(),u=n+a,c=r+o,d=[];n<=l.bottom&&u>=l.top&&["left","right"].forEach(function(t){var e=l[t];e!==r&&e!==c||d.push(t)}),r<=l.right&&c>=l.left&&["top","bottom"].forEach(function(t){var e=l[t];e!==n&&e!==u||d.push(t)});var h=[],f=[],p=["left","top","right","bottom"];return h.push(this.getClass("abutted")),p.forEach(function(t){h.push(e.getClass("abutted")+"-"+t)}),d.length&&f.push(this.getClass("abutted")),d.forEach(function(t){f.push(e.getClass("abutted")+"-"+t)}),O(function(){e.options.addTargetClasses!==!1&&m(e.target,f,h),m(e.element,f,h)}),!0}});var N=function(){function t(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(l){i=!0,a=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return S.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var r=this.options.shift;"function"==typeof this.options.shift&&(r=this.options.shift.call(this,{top:e,left:n}));var i=void 0,a=void 0;if("string"==typeof r){r=r.split(" "),r[1]=r[1]||r[0];var o=r,s=N(o,2);i=s[0],a=s[1],i=parseFloat(i,10),a=parseFloat(a,10)}else i=r.top,a=r.left;return e+=i,n+=a,{top:e,left:n}}}}),V}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");+function(t){var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(jQuery),+function(){function t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(t){return(t[0]||t).nodeType}function r(){return{bindType:s.end,delegateType:s.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function i(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in u)if(void 0!==t.style[e])return{end:u[e]};return!1}function a(e){var n=this,r=!1;return t(this).one(c.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||c.triggerTransitionEnd(n)},e),this}function o(){s=i(),t.fn.emulateTransitionEnd=a,c.supportsTransitionEnd()&&(t.event.special[c.TRANSITION_END]=r())}var s=!1,l=1e6,u={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do t+=~~(Math.random()*l);while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href")||"",e=/^#[a-z]/i.test(e)?e:null),e},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(s.end)},supportsTransitionEnd:function(){return Boolean(s)},typeCheckConfig:function(t,r,i){for(var a in i)if(i.hasOwnProperty(a)){var o=i[a],s=r[a],l=s&&n(s)?"element":e(s);if(!new RegExp(o).test(l))throw new Error(t.toUpperCase()+": "+('Option "'+a+'" provided type "'+l+'" ')+('but expected type "'+o+'".'))}}};return o(),c}(jQuery),o=(function(t){var e="alert",r="4.0.0-alpha.6",o="bs.alert",s="."+o,l=".data-api",u=t.fn[e],c=150,d={DISMISS:'[data-dismiss="alert"]'},h={CLOSE:"close"+s,CLOSED:"closed"+s,CLICK_DATA_API:"click"+s+l},f={ALERT:"alert",FADE:"fade",SHOW:"show"},p=function(){function e(t){n(this,e),this._element=t}return e.prototype.close=function(t){t=t||this._element;var e=this._getRootElement(t),n=this._triggerCloseEvent(e);n.isDefaultPrevented()||this._removeElement(e)},e.prototype.dispose=function(){t.removeData(this._element,o),this._element=null},e.prototype._getRootElement=function(e){var n=a.getSelectorFromElement(e),r=!1;return n&&(r=t(n)[0]),r||(r=t(e).closest("."+f.ALERT)[0]),r},e.prototype._triggerCloseEvent=function(e){var n=t.Event(h.CLOSE);return t(e).trigger(n),n},e.prototype._removeElement=function(e){var n=this;return t(e).removeClass(f.SHOW),a.supportsTransitionEnd()&&t(e).hasClass(f.FADE)?void t(e).one(a.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(c):void this._destroyElement(e)},e.prototype._destroyElement=function(e){t(e).detach().trigger(h.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),i=r.data(o);i||(i=new e(this),r.data(o,i)),"close"===n&&i[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},i(e,null,[{key:"VERSION",get:function(){return r}}]),e}();return t(document).on(h.CLICK_DATA_API,d.DISMISS,p._handleDismiss(new p)),t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=u,p._jQueryInterface},p}(jQuery),function(t){var e="button",r="4.0.0-alpha.6",a="bs.button",o="."+a,s=".data-api",l=t.fn[e],u={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},c={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},d={CLICK_DATA_API:"click"+o+s,FOCUS_BLUR_DATA_API:"focus"+o+s+" "+("blur"+o+s)},h=function(){function e(t){n(this,e),this._element=t}return e.prototype.toggle=function(){var e=!0,n=t(this._element).closest(c.DATA_TOGGLE)[0];if(n){var r=t(this._element).find(c.INPUT)[0];if(r){if("radio"===r.type)if(r.checked&&t(this._element).hasClass(u.ACTIVE))e=!1;else{var i=t(n).find(c.ACTIVE)[0];i&&t(i).removeClass(u.ACTIVE)}e&&(r.checked=!t(this._element).hasClass(u.ACTIVE),t(r).trigger("change")),r.focus()}}this._element.setAttribute("aria-pressed",!t(this._element).hasClass(u.ACTIVE)),e&&t(this._element).toggleClass(u.ACTIVE)},e.prototype.dispose=function(){t.removeData(this._element,a),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var r=t(this).data(a);r||(r=new e(this),t(this).data(a,r)),"toggle"===n&&r[n]()})},i(e,null,[{key:"VERSION",get:function(){return r}}]),e}();return t(document).on(d.CLICK_DATA_API,c.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(u.BUTTON)||(n=t(n).closest(c.BUTTON)),h._jQueryInterface.call(t(n),"toggle")}).on(d.FOCUS_BLUR_DATA_API,c.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(c.BUTTON)[0];t(n).toggleClass(u.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=l,h._jQueryInterface},h}(jQuery),function(t){var e="carousel",o="4.0.0-alpha.6",s="bs.carousel",l="."+s,u=".data-api",c=t.fn[e],d=600,h=37,f=39,p={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},g={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},m={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},v={SLIDE:"slide"+l,SLID:"slid"+l,KEYDOWN:"keydown"+l,MOUSEENTER:"mouseenter"+l,MOUSELEAVE:"mouseleave"+l,LOAD_DATA_API:"load"+l+u,CLICK_DATA_API:"click"+l+u},y={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},b={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},w=function(){function u(e,r){n(this,u),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this._config=this._getConfig(r),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(b.INDICATORS)[0],this._addEventListeners()}return u.prototype.next=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(m.NEXT)},u.prototype.nextWhenVisible=function(){document.hidden||this.next()},u.prototype.prev=function(){if(this._isSliding)throw new Error("Carousel is sliding");this._slide(m.PREVIOUS)},u.prototype.pause=function(e){e||(this._isPaused=!0),t(this._element).find(b.NEXT_PREV)[0]&&a.supportsTransitionEnd()&&(a.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},u.prototype.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},u.prototype.to=function(e){var n=this;this._activeElement=t(this._element).find(b.ACTIVE_ITEM)[0];var r=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void t(this._element).one(v.SLID,function(){return n.to(e)});if(r===e)return this.pause(),void this.cycle();var i=e>r?m.NEXT:m.PREVIOUS;this._slide(i,this._items[e])}},u.prototype.dispose=function(){t(this._element).off(l),t.removeData(this._element,s),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},u.prototype._getConfig=function(n){return n=t.extend({},p,n),a.typeCheckConfig(e,n,g),n},u.prototype._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(v.KEYDOWN,function(t){return e._keydown(t)}),"hover"!==this._config.pause||"ontouchstart"in document.documentElement||t(this._element).on(v.MOUSEENTER,function(t){return e.pause(t)}).on(v.MOUSELEAVE,function(t){return e.cycle(t)})},u.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case h:t.preventDefault(),this.prev();break;case f:t.preventDefault(),this.next();break;default:return}},u.prototype._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(b.ITEM)),this._items.indexOf(e)},u.prototype._getItemByDirection=function(t,e){var n=t===m.NEXT,r=t===m.PREVIOUS,i=this._getItemIndex(e),a=this._items.length-1,o=r&&0===i||n&&i===a;if(o&&!this._config.wrap)return e;var s=t===m.PREVIOUS?-1:1,l=(i+s)%this._items.length;return l===-1?this._items[this._items.length-1]:this._items[l]},u.prototype._triggerSlideEvent=function(e,n){var r=t.Event(v.SLIDE,{relatedTarget:e,direction:n});return t(this._element).trigger(r),r},u.prototype._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(b.ACTIVE).removeClass(y.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(y.ACTIVE)}},u.prototype._slide=function(e,n){var r=this,i=t(this._element).find(b.ACTIVE_ITEM)[0],o=n||i&&this._getItemByDirection(e,i),s=Boolean(this._interval),l=void 0,u=void 0,c=void 0;if(e===m.NEXT?(l=y.LEFT,u=y.NEXT,c=m.LEFT):(l=y.RIGHT,u=y.PREV,c=m.RIGHT),o&&t(o).hasClass(y.ACTIVE))return void(this._isSliding=!1);var h=this._triggerSlideEvent(o,c);if(!h.isDefaultPrevented()&&i&&o){this._isSliding=!0,s&&this.pause(),this._setActiveIndicatorElement(o);var f=t.Event(v.SLID,{relatedTarget:o,direction:c});a.supportsTransitionEnd()&&t(this._element).hasClass(y.SLIDE)?(t(o).addClass(u),a.reflow(o),t(i).addClass(l),t(o).addClass(l),t(i).one(a.TRANSITION_END,function(){t(o).removeClass(l+" "+u).addClass(y.ACTIVE),t(i).removeClass(y.ACTIVE+" "+u+" "+l),r._isSliding=!1,setTimeout(function(){return t(r._element).trigger(f)},0)}).emulateTransitionEnd(d)):(t(i).removeClass(y.ACTIVE),t(o).addClass(y.ACTIVE),this._isSliding=!1,t(this._element).trigger(f)),s&&this.cycle()}},u._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),i=t.extend({},p,t(this).data());"object"===("undefined"==typeof e?"undefined":r(e))&&t.extend(i,e);var a="string"==typeof e?e:i.slide;if(n||(n=new u(this,i),t(this).data(s,n)),"number"==typeof e)n.to(e);else if("string"==typeof a){if(void 0===n[a])throw new Error('No method named "'+a+'"');n[a]()}else i.interval&&(n.pause(),n.cycle())})},u._dataApiClickHandler=function(e){var n=a.getSelectorFromElement(this);if(n){var r=t(n)[0];if(r&&t(r).hasClass(y.CAROUSEL)){var i=t.extend({},t(r).data(),t(this).data()),o=this.getAttribute("data-slide-to");o&&(i.interval=!1),u._jQueryInterface.call(t(r),i),o&&t(r).data(s).to(o),e.preventDefault()}}},i(u,null,[{key:"VERSION",get:function(){return o}},{key:"Default",get:function(){return p}}]),u}();return t(document).on(v.CLICK_DATA_API,b.DATA_SLIDE,w._dataApiClickHandler),t(window).on(v.LOAD_DATA_API,function(){t(b.DATA_RIDE).each(function(){var e=t(this);w._jQueryInterface.call(e,e.data())})}),t.fn[e]=w._jQueryInterface,t.fn[e].Constructor=w,t.fn[e].noConflict=function(){return t.fn[e]=c,w._jQueryInterface},w}(jQuery),function(t){var e="collapse",o="4.0.0-alpha.6",s="bs.collapse",l="."+s,u=".data-api",c=t.fn[e],d=600,h={toggle:!0,parent:""},f={toggle:"boolean",parent:"string"},p={SHOW:"show"+l,SHOWN:"shown"+l,HIDE:"hide"+l,HIDDEN:"hidden"+l,CLICK_DATA_API:"click"+l+u},g={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},m={WIDTH:"width",HEIGHT:"height"},v={ACTIVES:".card > .show, .card > .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},y=function(){function l(e,r){n(this,l),this._isTransitioning=!1,this._element=e,this._config=this._getConfig(r),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],'+('[data-toggle="collapse"][data-target="#'+e.id+'"]'))),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return l.prototype.toggle=function(){t(this._element).hasClass(g.SHOW)?this.hide():this.show()},l.prototype.show=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(!t(this._element).hasClass(g.SHOW)){var n=void 0,r=void 0;if(this._parent&&(n=t.makeArray(t(this._parent).find(v.ACTIVES)),n.length||(n=null)),!(n&&(r=t(n).data(s),r&&r._isTransitioning))){var i=t.Event(p.SHOW);if(t(this._element).trigger(i),!i.isDefaultPrevented()){n&&(l._jQueryInterface.call(t(n),"hide"),r||t(n).data(s,null));var o=this._getDimension();t(this._element).removeClass(g.COLLAPSE).addClass(g.COLLAPSING),this._element.style[o]=0,this._element.setAttribute("aria-expanded",!0),this._triggerArray.length&&t(this._triggerArray).removeClass(g.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var u=function(){t(e._element).removeClass(g.COLLAPSING).addClass(g.COLLAPSE).addClass(g.SHOW),
e._element.style[o]="",e.setTransitioning(!1),t(e._element).trigger(p.SHOWN)};if(!a.supportsTransitionEnd())return void u();var c=o[0].toUpperCase()+o.slice(1),h="scroll"+c;t(this._element).one(a.TRANSITION_END,u).emulateTransitionEnd(d),this._element.style[o]=this._element[h]+"px"}}}},l.prototype.hide=function(){var e=this;if(this._isTransitioning)throw new Error("Collapse is transitioning");if(t(this._element).hasClass(g.SHOW)){var n=t.Event(p.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var r=this._getDimension(),i=r===m.WIDTH?"offsetWidth":"offsetHeight";this._element.style[r]=this._element[i]+"px",a.reflow(this._element),t(this._element).addClass(g.COLLAPSING).removeClass(g.COLLAPSE).removeClass(g.SHOW),this._element.setAttribute("aria-expanded",!1),this._triggerArray.length&&t(this._triggerArray).addClass(g.COLLAPSED).attr("aria-expanded",!1),this.setTransitioning(!0);var o=function(){e.setTransitioning(!1),t(e._element).removeClass(g.COLLAPSING).addClass(g.COLLAPSE).trigger(p.HIDDEN)};return this._element.style[r]="",a.supportsTransitionEnd()?void t(this._element).one(a.TRANSITION_END,o).emulateTransitionEnd(d):void o()}}},l.prototype.setTransitioning=function(t){this._isTransitioning=t},l.prototype.dispose=function(){t.removeData(this._element,s),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},l.prototype._getConfig=function(n){return n=t.extend({},h,n),n.toggle=Boolean(n.toggle),a.typeCheckConfig(e,n,f),n},l.prototype._getDimension=function(){var e=t(this._element).hasClass(m.WIDTH);return e?m.WIDTH:m.HEIGHT},l.prototype._getParent=function(){var e=this,n=t(this._config.parent)[0],r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(r).each(function(t,n){e._addAriaAndCollapsedClass(l._getTargetFromElement(n),[n])}),n},l.prototype._addAriaAndCollapsedClass=function(e,n){if(e){var r=t(e).hasClass(g.SHOW);e.setAttribute("aria-expanded",r),n.length&&t(n).toggleClass(g.COLLAPSED,!r).attr("aria-expanded",r)}},l._getTargetFromElement=function(e){var n=a.getSelectorFromElement(e);return n?t(n)[0]:null},l._jQueryInterface=function(e){return this.each(function(){var n=t(this),i=n.data(s),a=t.extend({},h,n.data(),"object"===("undefined"==typeof e?"undefined":r(e))&&e);if(!i&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),i||(i=new l(this,a),n.data(s,i)),"string"==typeof e){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e]()}})},i(l,null,[{key:"VERSION",get:function(){return o}},{key:"Default",get:function(){return h}}]),l}();return t(document).on(p.CLICK_DATA_API,v.DATA_TOGGLE,function(e){e.preventDefault();var n=y._getTargetFromElement(this),r=t(n).data(s),i=r?"toggle":t(this).data();y._jQueryInterface.call(t(n),i)}),t.fn[e]=y._jQueryInterface,t.fn[e].Constructor=y,t.fn[e].noConflict=function(){return t.fn[e]=c,y._jQueryInterface},y}(jQuery),function(t){var e="dropdown",r="4.0.0-alpha.6",o="bs.dropdown",s="."+o,l=".data-api",u=t.fn[e],c=27,d=38,h=40,f=3,p={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK:"click"+s,CLICK_DATA_API:"click"+s+l,FOCUSIN_DATA_API:"focusin"+s+l,KEYDOWN_DATA_API:"keydown"+s+l},g={BACKDROP:"dropdown-backdrop",DISABLED:"disabled",SHOW:"show"},m={BACKDROP:".dropdown-backdrop",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",ROLE_MENU:'[role="menu"]',ROLE_LISTBOX:'[role="listbox"]',NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:'[role="menu"] li:not(.disabled) a, [role="listbox"] li:not(.disabled) a'},v=function(){function e(t){n(this,e),this._element=t,this._addEventListeners()}return e.prototype.toggle=function(){if(this.disabled||t(this).hasClass(g.DISABLED))return!1;var n=e._getParentFromElement(this),r=t(n).hasClass(g.SHOW);if(e._clearMenus(),r)return!1;if("ontouchstart"in document.documentElement&&!t(n).closest(m.NAVBAR_NAV).length){var i=document.createElement("div");i.className=g.BACKDROP,t(i).insertBefore(this),t(i).on("click",e._clearMenus)}var a={relatedTarget:this},o=t.Event(p.SHOW,a);return t(n).trigger(o),!o.isDefaultPrevented()&&(this.focus(),this.setAttribute("aria-expanded",!0),t(n).toggleClass(g.SHOW),t(n).trigger(t.Event(p.SHOWN,a)),!1)},e.prototype.dispose=function(){t.removeData(this._element,o),t(this._element).off(s),this._element=null},e.prototype._addEventListeners=function(){t(this._element).on(p.CLICK,this.toggle)},e._jQueryInterface=function(n){return this.each(function(){var r=t(this).data(o);if(r||(r=new e(this),t(this).data(o,r)),"string"==typeof n){if(void 0===r[n])throw new Error('No method named "'+n+'"');r[n].call(this)}})},e._clearMenus=function(n){if(!n||n.which!==f){var r=t(m.BACKDROP)[0];r&&r.parentNode.removeChild(r);for(var i=t.makeArray(t(m.DATA_TOGGLE)),a=0;a<i.length;a++){var o=e._getParentFromElement(i[a]),s={relatedTarget:i[a]};if(t(o).hasClass(g.SHOW)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"focusin"===n.type)&&t.contains(o,n.target))){var l=t.Event(p.HIDE,s);t(o).trigger(l),l.isDefaultPrevented()||(i[a].setAttribute("aria-expanded","false"),t(o).removeClass(g.SHOW).trigger(t.Event(p.HIDDEN,s)))}}}},e._getParentFromElement=function(e){var n=void 0,r=a.getSelectorFromElement(e);return r&&(n=t(r)[0]),n||e.parentNode},e._dataApiKeydownHandler=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!t(this).hasClass(g.DISABLED))){var r=e._getParentFromElement(this),i=t(r).hasClass(g.SHOW);if(!i&&n.which!==c||i&&n.which===c){if(n.which===c){var a=t(r).find(m.DATA_TOGGLE)[0];t(a).trigger("focus")}return void t(this).trigger("click")}var o=t(r).find(m.VISIBLE_ITEMS).get();if(o.length){var s=o.indexOf(n.target);n.which===d&&s>0&&s--,n.which===h&&s<o.length-1&&s++,s<0&&(s=0),o[s].focus()}}},i(e,null,[{key:"VERSION",get:function(){return r}}]),e}();return t(document).on(p.KEYDOWN_DATA_API,m.DATA_TOGGLE,v._dataApiKeydownHandler).on(p.KEYDOWN_DATA_API,m.ROLE_MENU,v._dataApiKeydownHandler).on(p.KEYDOWN_DATA_API,m.ROLE_LISTBOX,v._dataApiKeydownHandler).on(p.CLICK_DATA_API+" "+p.FOCUSIN_DATA_API,v._clearMenus).on(p.CLICK_DATA_API,m.DATA_TOGGLE,v.prototype.toggle).on(p.CLICK_DATA_API,m.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=v._jQueryInterface,t.fn[e].Constructor=v,t.fn[e].noConflict=function(){return t.fn[e]=u,v._jQueryInterface},v}(jQuery),function(t){var e="modal",o="4.0.0-alpha.6",s="bs.modal",l="."+s,u=".data-api",c=t.fn[e],d=300,h=150,f=27,p={backdrop:!0,keyboard:!0,focus:!0,show:!0},g={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},m={HIDE:"hide"+l,HIDDEN:"hidden"+l,SHOW:"show"+l,SHOWN:"shown"+l,FOCUSIN:"focusin"+l,RESIZE:"resize"+l,CLICK_DISMISS:"click.dismiss"+l,KEYDOWN_DISMISS:"keydown.dismiss"+l,MOUSEUP_DISMISS:"mouseup.dismiss"+l,MOUSEDOWN_DISMISS:"mousedown.dismiss"+l,CLICK_DATA_API:"click"+l+u},v={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},y={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"},b=function(){function u(e,r){n(this,u),this._config=this._getConfig(r),this._element=e,this._dialog=t(e).find(y.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return u.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},u.prototype.show=function(e){var n=this;if(this._isTransitioning)throw new Error("Modal is transitioning");a.supportsTransitionEnd()&&t(this._element).hasClass(v.FADE)&&(this._isTransitioning=!0);var r=t.Event(m.SHOW,{relatedTarget:e});t(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(v.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(m.CLICK_DISMISS,y.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(m.MOUSEDOWN_DISMISS,function(){t(n._element).one(m.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))},u.prototype.hide=function(e){var n=this;if(e&&e.preventDefault(),this._isTransitioning)throw new Error("Modal is transitioning");var r=a.supportsTransitionEnd()&&t(this._element).hasClass(v.FADE);r&&(this._isTransitioning=!0);var i=t.Event(m.HIDE);t(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(m.FOCUSIN),t(this._element).removeClass(v.SHOW),t(this._element).off(m.CLICK_DISMISS),t(this._dialog).off(m.MOUSEDOWN_DISMISS),r?t(this._element).one(a.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(d):this._hideModal())},u.prototype.dispose=function(){t.removeData(this._element,s),t(window,document,this._element,this._backdrop).off(l),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._originalBodyPadding=null,this._scrollbarWidth=null},u.prototype._getConfig=function(n){return n=t.extend({},p,n),a.typeCheckConfig(e,n,g),n},u.prototype._showElement=function(e){var n=this,r=a.supportsTransitionEnd()&&t(this._element).hasClass(v.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,r&&a.reflow(this._element),t(this._element).addClass(v.SHOW),this._config.focus&&this._enforceFocus();var i=t.Event(m.SHOWN,{relatedTarget:e}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(i)};r?t(this._dialog).one(a.TRANSITION_END,o).emulateTransitionEnd(d):o()},u.prototype._enforceFocus=function(){var e=this;t(document).off(m.FOCUSIN).on(m.FOCUSIN,function(n){document===n.target||e._element===n.target||t(e._element).has(n.target).length||e._element.focus()})},u.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(m.KEYDOWN_DISMISS,function(t){t.which===f&&e.hide()}):this._isShown||t(this._element).off(m.KEYDOWN_DISMISS)},u.prototype._setResizeEvent=function(){var e=this;this._isShown?t(window).on(m.RESIZE,function(t){return e._handleUpdate(t)}):t(window).off(m.RESIZE)},u.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(v.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(m.HIDDEN)})},u.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},u.prototype._showBackdrop=function(e){var n=this,r=t(this._element).hasClass(v.FADE)?v.FADE:"";if(this._isShown&&this._config.backdrop){var i=a.supportsTransitionEnd()&&r;if(this._backdrop=document.createElement("div"),this._backdrop.className=v.BACKDROP,r&&t(this._backdrop).addClass(r),t(this._backdrop).appendTo(document.body),t(this._element).on(m.CLICK_DISMISS,function(t){return n._ignoreBackdropClick?void(n._ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide()))}),i&&a.reflow(this._backdrop),t(this._backdrop).addClass(v.SHOW),!e)return;if(!i)return void e();t(this._backdrop).one(a.TRANSITION_END,e).emulateTransitionEnd(h)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(v.SHOW);var o=function(){n._removeBackdrop(),e&&e()};a.supportsTransitionEnd()&&t(this._element).hasClass(v.FADE)?t(this._backdrop).one(a.TRANSITION_END,o).emulateTransitionEnd(h):o()}else e&&e()},u.prototype._handleUpdate=function(){this._adjustDialog()},u.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},u.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},u.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},u.prototype._setScrollbar=function(){var e=parseInt(t(y.FIXED_CONTENT).css("padding-right")||0,10);this._originalBodyPadding=document.body.style.paddingRight||"",this._isBodyOverflowing&&(document.body.style.paddingRight=e+this._scrollbarWidth+"px")},u.prototype._resetScrollbar=function(){document.body.style.paddingRight=this._originalBodyPadding},u.prototype._getScrollbarWidth=function(){var t=document.createElement("div");t.className=v.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},u._jQueryInterface=function(e,n){return this.each(function(){var i=t(this).data(s),a=t.extend({},u.Default,t(this).data(),"object"===("undefined"==typeof e?"undefined":r(e))&&e);if(i||(i=new u(this,a),t(this).data(s,i)),"string"==typeof e){if(void 0===i[e])throw new Error('No method named "'+e+'"');i[e](n)}else a.show&&i.show(n)})},i(u,null,[{key:"VERSION",get:function(){return o}},{key:"Default",get:function(){return p}}]),u}();return t(document).on(m.CLICK_DATA_API,y.DATA_TOGGLE,function(e){var n=this,r=void 0,i=a.getSelectorFromElement(this);i&&(r=t(i)[0]);var o=t(r).data(s)?"toggle":t.extend({},t(r).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=t(r).one(m.SHOW,function(e){e.isDefaultPrevented()||l.one(m.HIDDEN,function(){t(n).is(":visible")&&n.focus()})});b._jQueryInterface.call(t(r),o,this)}),t.fn[e]=b._jQueryInterface,t.fn[e].Constructor=b,t.fn[e].noConflict=function(){return t.fn[e]=c,b._jQueryInterface},b}(jQuery),function(t){var e="scrollspy",o="4.0.0-alpha.6",s="bs.scrollspy",l="."+s,u=".data-api",c=t.fn[e],d={offset:10,method:"auto",target:""},h={offset:"number",method:"string",target:"(string|element)"},f={ACTIVATE:"activate"+l,SCROLL:"scroll"+l,LOAD_DATA_API:"load"+l+u},p={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",NAV:"nav",ACTIVE:"active"},g={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",LIST_ITEM:".list-item",LI:"li",LI_DROPDOWN:"li.dropdown",NAV_LINKS:".nav-link",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},m={OFFSET:"offset",POSITION:"position"},v=function(){function u(e,r){var i=this;n(this,u),this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(r),this._selector=this._config.target+" "+g.NAV_LINKS+","+(this._config.target+" "+g.DROPDOWN_ITEMS),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(f.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}return u.prototype.refresh=function(){var e=this,n=this._scrollElement!==this._scrollElement.window?m.POSITION:m.OFFSET,r="auto"===this._config.method?n:this._config.method,i=r===m.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var o=t.makeArray(t(this._selector));o.map(function(e){var n=void 0,o=a.getSelectorFromElement(e);return o&&(n=t(o)[0]),n&&(n.offsetWidth||n.offsetHeight)?[t(n)[r]().top+i,o]:null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},u.prototype.dispose=function(){t.removeData(this._element,s),t(this._scrollElement).off(l),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},u.prototype._getConfig=function(n){if(n=t.extend({},d,n),"string"!=typeof n.target){var r=t(n.target).attr("id");r||(r=a.getUID(e),t(n.target).attr("id",r)),n.target="#"+r}return a.typeCheckConfig(e,n,h),n},u.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},u.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},u.prototype._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.offsetHeight},u.prototype._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];return void(this._activeTarget!==r&&this._activate(r))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){var a=this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1]);a&&this._activate(this._targets[i])}},u.prototype._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+(t+'[href="'+e+'"]')});var r=t(n.join(","));r.hasClass(p.DROPDOWN_ITEM)?(r.closest(g.DROPDOWN).find(g.DROPDOWN_TOGGLE).addClass(p.ACTIVE),r.addClass(p.ACTIVE)):r.parents(g.LI).find("> "+g.NAV_LINKS).addClass(p.ACTIVE),t(this._scrollElement).trigger(f.ACTIVATE,{relatedTarget:e})},u.prototype._clear=function(){t(this._selector).filter(g.ACTIVE).removeClass(p.ACTIVE)},u._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),i="object"===("undefined"==typeof e?"undefined":r(e))&&e;if(n||(n=new u(this,i),t(this).data(s,n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},i(u,null,[{key:"VERSION",get:function(){return o}},{key:"Default",get:function(){return d}}]),u}();return t(window).on(f.LOAD_DATA_API,function(){for(var e=t.makeArray(t(g.DATA_SPY)),n=e.length;n--;){var r=t(e[n]);v._jQueryInterface.call(r,r.data())}}),t.fn[e]=v._jQueryInterface,t.fn[e].Constructor=v,t.fn[e].noConflict=function(){return t.fn[e]=c,v._jQueryInterface},v}(jQuery),function(t){var e="tab",r="4.0.0-alpha.6",o="bs.tab",s="."+o,l=".data-api",u=t.fn[e],c=150,d={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK_DATA_API:"click"+s+l},h={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},f={A:"a",LI:"li",DROPDOWN:".dropdown",LIST:"ul:not(.dropdown-menu), ol:not(.dropdown-menu), nav:not(.dropdown-menu)",FADE_CHILD:"> .nav-item .fade, > .fade",ACTIVE:".active",ACTIVE_CHILD:"> .nav-item > .active, > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},p=function(){function e(t){n(this,e),this._element=t}return e.prototype.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(h.ACTIVE)||t(this._element).hasClass(h.DISABLED))){var n=void 0,r=void 0,i=t(this._element).closest(f.LIST)[0],o=a.getSelectorFromElement(this._element);i&&(r=t.makeArray(t(i).find(f.ACTIVE)),r=r[r.length-1]);var s=t.Event(d.HIDE,{relatedTarget:this._element}),l=t.Event(d.SHOW,{relatedTarget:r});if(r&&t(r).trigger(s),t(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(n=t(o)[0]),this._activate(this._element,i);var u=function(){var n=t.Event(d.HIDDEN,{relatedTarget:e._element}),i=t.Event(d.SHOWN,{relatedTarget:r});t(r).trigger(n),t(e._element).trigger(i)};n?this._activate(n,n.parentNode,u):u()}}},e.prototype.dispose=function(){t.removeClass(this._element,o),this._element=null},e.prototype._activate=function(e,n,r){var i=this,o=t(n).find(f.ACTIVE_CHILD)[0],s=r&&a.supportsTransitionEnd()&&(o&&t(o).hasClass(h.FADE)||Boolean(t(n).find(f.FADE_CHILD)[0])),l=function(){return i._transitionComplete(e,o,s,r)};o&&s?t(o).one(a.TRANSITION_END,l).emulateTransitionEnd(c):l(),o&&t(o).removeClass(h.SHOW)},e.prototype._transitionComplete=function(e,n,r,i){if(n){t(n).removeClass(h.ACTIVE);var o=t(n.parentNode).find(f.DROPDOWN_ACTIVE_CHILD)[0];o&&t(o).removeClass(h.ACTIVE),n.setAttribute("aria-expanded",!1)}if(t(e).addClass(h.ACTIVE),e.setAttribute("aria-expanded",!0),r?(a.reflow(e),t(e).addClass(h.SHOW)):t(e).removeClass(h.FADE),e.parentNode&&t(e.parentNode).hasClass(h.DROPDOWN_MENU)){var s=t(e).closest(f.DROPDOWN)[0];s&&t(s).find(f.DROPDOWN_TOGGLE).addClass(h.ACTIVE),e.setAttribute("aria-expanded",!0)}i&&i()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),i=r.data(o);if(i||(i=new e(this),r.data(o,i)),"string"==typeof n){if(void 0===i[n])throw new Error('No method named "'+n+'"');i[n]()}})},i(e,null,[{key:"VERSION",get:function(){return r}}]),e}();return t(document).on(d.CLICK_DATA_API,f.DATA_TOGGLE,function(e){e.preventDefault(),p._jQueryInterface.call(t(this),"show")}),t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=u,p._jQueryInterface},p}(jQuery),function(t){if("undefined"==typeof Tether)throw new Error("Bootstrap tooltips require Tether (http://tether.io/)");var e="tooltip",o="4.0.0-alpha.6",s="bs.tooltip",l="."+s,u=t.fn[e],c=150,d="bs-tether",h={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:"0 0",constraints:[],container:!1},f={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"string",constraints:"array",container:"(string|element|boolean)"},p={TOP:"bottom center",RIGHT:"middle left",BOTTOM:"top center",LEFT:"middle right"},g={SHOW:"show",OUT:"out"},m={HIDE:"hide"+l,HIDDEN:"hidden"+l,SHOW:"show"+l,SHOWN:"shown"+l,INSERTED:"inserted"+l,CLICK:"click"+l,FOCUSIN:"focusin"+l,FOCUSOUT:"focusout"+l,MOUSEENTER:"mouseenter"+l,MOUSELEAVE:"mouseleave"+l},v={FADE:"fade",SHOW:"show"},y={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner"},b={element:!1,enabled:!1},w={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},x=function(){function u(t,e){n(this,u),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._isTransitioning=!1,this._tether=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return u.prototype.enable=function(){this._isEnabled=!0},u.prototype.disable=function(){this._isEnabled=!1},u.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},u.prototype.toggle=function(e){if(e){var n=this.constructor.DATA_KEY,r=t(e.currentTarget).data(n);r||(r=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(t(this.getTipElement()).hasClass(v.SHOW))return void this._leave(null,this);this._enter(null,this)}},u.prototype.dispose=function(){clearTimeout(this._timeout),this.cleanupTether(),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._tether=null,this.element=null,this.config=null,this.tip=null},u.prototype.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){if(this._isTransitioning)throw new Error("Tooltip is transitioning");t(this.element).trigger(n);var r=t.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!r)return;var i=this.getTipElement(),o=a.getUID(this.constructor.NAME);i.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&t(i).addClass(v.FADE);var s="function"==typeof this.config.placement?this.config.placement.call(this,i,this.element):this.config.placement,l=this._getAttachment(s),c=this.config.container===!1?document.body:t(this.config.container);t(i).data(this.constructor.DATA_KEY,this).appendTo(c),t(this.element).trigger(this.constructor.Event.INSERTED),this._tether=new Tether({attachment:l,element:i,target:this.element,classes:b,classPrefix:d,offset:this.config.offset,constraints:this.config.constraints,addTargetClasses:!1}),a.reflow(i),this._tether.position(),t(i).addClass(v.SHOW);var h=function(){var n=e._hoverState;e._hoverState=null,e._isTransitioning=!1,t(e.element).trigger(e.constructor.Event.SHOWN),n===g.OUT&&e._leave(null,e)};if(a.supportsTransitionEnd()&&t(this.tip).hasClass(v.FADE))return this._isTransitioning=!0,void t(this.tip).one(a.TRANSITION_END,h).emulateTransitionEnd(u._TRANSITION_DURATION);h()}},u.prototype.hide=function(e){var n=this,r=this.getTipElement(),i=t.Event(this.constructor.Event.HIDE);if(this._isTransitioning)throw new Error("Tooltip is transitioning");var o=function(){n._hoverState!==g.SHOW&&r.parentNode&&r.parentNode.removeChild(r),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),n._isTransitioning=!1,n.cleanupTether(),e&&e()};t(this.element).trigger(i),i.isDefaultPrevented()||(t(r).removeClass(v.SHOW),this._activeTrigger[w.CLICK]=!1,this._activeTrigger[w.FOCUS]=!1,this._activeTrigger[w.HOVER]=!1,a.supportsTransitionEnd()&&t(this.tip).hasClass(v.FADE)?(this._isTransitioning=!0,t(r).one(a.TRANSITION_END,o).emulateTransitionEnd(c)):o(),this._hoverState="")},u.prototype.isWithContent=function(){return Boolean(this.getTitle())},u.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},u.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(y.TOOLTIP_INNER),this.getTitle()),e.removeClass(v.FADE+" "+v.SHOW),this.cleanupTether()},u.prototype.setElementContent=function(e,n){var i=this.config.html;"object"===("undefined"==typeof n?"undefined":r(n))&&(n.nodeType||n.jquery)?i?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[i?"html":"text"](n)},u.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},u.prototype.cleanupTether=function(){this._tether&&this._tether.destroy()},u.prototype._getAttachment=function(t){return p[t.toUpperCase()]},u.prototype._setListeners=function(){var e=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==w.MANUAL){var r=n===w.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i=n===w.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(r,e.config.selector,function(t){return e._enter(t)}).on(i,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},u.prototype._fixTitle=function(){var t=r(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},u.prototype._enter=function(e,n){var r=this.constructor.DATA_KEY;return n=n||t(e.currentTarget).data(r),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusin"===e.type?w.FOCUS:w.HOVER]=!0),t(n.getTipElement()).hasClass(v.SHOW)||n._hoverState===g.SHOW?void(n._hoverState=g.SHOW):(clearTimeout(n._timeout),n._hoverState=g.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===g.SHOW&&n.show()},n.config.delay.show)):void n.show())},u.prototype._leave=function(e,n){var r=this.constructor.DATA_KEY;if(n=n||t(e.currentTarget).data(r),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusout"===e.type?w.FOCUS:w.HOVER]=!1),!n._isWithActiveTrigger())return clearTimeout(n._timeout),n._hoverState=g.OUT,n.config.delay&&n.config.delay.hide?void(n._timeout=setTimeout(function(){n._hoverState===g.OUT&&n.hide()},n.config.delay.hide)):void n.hide()},u.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},u.prototype._getConfig=function(n){return n=t.extend({},this.constructor.Default,t(this.element).data(),n),n.delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),a.typeCheckConfig(e,n,this.constructor.DefaultType),n},u.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},u._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(s),i="object"===("undefined"==typeof e?"undefined":r(e))&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new u(this,i),t(this).data(s,n)),"string"==typeof e)){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},i(u,null,[{key:"VERSION",get:function(){return o}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return s}},{key:"Event",get:function(){return m}},{key:"EVENT_KEY",get:function(){return l}},{key:"DefaultType",get:function(){return f}}]),u}();return t.fn[e]=x._jQueryInterface,t.fn[e].Constructor=x,t.fn[e].noConflict=function(){return t.fn[e]=u,x._jQueryInterface},x}(jQuery));(function(a){var s="popover",l="4.0.0-alpha.6",u="bs.popover",c="."+u,d=a.fn[s],h=a.extend({},o.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),f=a.extend({},o.DefaultType,{content:"(string|element|function)"}),p={FADE:"fade",SHOW:"show"},g={TITLE:".popover-title",CONTENT:".popover-content"},m={HIDE:"hide"+c,HIDDEN:"hidden"+c,SHOW:"show"+c,SHOWN:"shown"+c,INSERTED:"inserted"+c,CLICK:"click"+c,FOCUSIN:"focusin"+c,FOCUSOUT:"focusout"+c,MOUSEENTER:"mouseenter"+c,MOUSELEAVE:"mouseleave"+c},v=function(o){function d(){return n(this,d),t(this,o.apply(this,arguments))}return e(d,o),d.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},d.prototype.getTipElement=function(){return this.tip=this.tip||a(this.config.template)[0]},d.prototype.setContent=function(){var t=a(this.getTipElement());this.setElementContent(t.find(g.TITLE),this.getTitle()),this.setElementContent(t.find(g.CONTENT),this._getContent()),t.removeClass(p.FADE+" "+p.SHOW),this.cleanupTether()},d.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},d._jQueryInterface=function(t){return this.each(function(){var e=a(this).data(u),n="object"===("undefined"==typeof t?"undefined":r(t))?t:null;if((e||!/destroy|hide/.test(t))&&(e||(e=new d(this,n),a(this).data(u,e)),"string"==typeof t)){if(void 0===e[t])throw new Error('No method named "'+t+'"');e[t]()}})},i(d,null,[{key:"VERSION",get:function(){return l}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return s}},{key:"DATA_KEY",get:function(){return u}},{key:"Event",
get:function(){return m}},{key:"EVENT_KEY",get:function(){return c}},{key:"DefaultType",get:function(){return f}}]),d}(o);return a.fn[s]=v._jQueryInterface,a.fn[s].Constructor=v,a.fn[s].noConflict=function(){return a.fn[s]=d,v._jQueryInterface},v})(jQuery)}(),function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t,e){var n=document.createElement("div");return u(n,e),t.appendChild(n),n}function e(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function n(t,e){return Math.round(t/e)*e}function r(t,e){var n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.documentElement,a=h();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),e?n.top+a.y-i.clientTop:n.left+a.x-i.clientLeft}function i(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function a(t,e,n){n>0&&(u(t,e),setTimeout(function(){c(t,e)},n))}function o(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function l(t){t=String(t);var e=t.split(".");return e.length>1?e[1].length:0}function u(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function c(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function h(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||""),n=t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,r=t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop;return{x:n,y:r}}function f(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function p(t,e){return 100/(e-t)}function g(t,e){return 100*e/(t[1]-t[0])}function m(t,e){return g(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function v(t,e){return e*(t[1]-t[0])/100+t[0]}function y(t,e){for(var n=1;t>=e[n];)n+=1;return n}function b(t,e,n){if(n>=t.slice(-1)[0])return 100;var r,i,a,o,s=y(n,t);return r=t[s-1],i=t[s],a=e[s-1],o=e[s],a+m([r,i],n)/p(a,o)}function w(t,e,n){if(n>=100)return t.slice(-1)[0];var r,i,a,o,s=y(n,e);return r=t[s-1],i=t[s],a=e[s-1],o=e[s],v([r,i],(n-a)*p(a,o))}function x(t,e,r,i){if(100===i)return i;var a,o,s=y(i,t);return r?(a=t[s-1],o=t[s],i-a>(o-a)/2?o:a):e[s-1]?t[s-1]+n(i-t[s-1],e[s-1]):i}function _(t,e,n){var r;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(r="min"===t?0:"max"===t?100:parseFloat(t),!i(r)||!i(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(r),n.xVal.push(e[0]),r?n.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.xSteps[0]=e[1]),n.xHighestCompleteStep.push(0)}function C(t,e,n){if(!e)return!0;n.xSteps[t]=g([n.xVal[t],n.xVal[t+1]],e)/p(n.xPct[t],n.xPct[t+1]);var r=(n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t],i=Math.ceil(Number(r.toFixed(3))-1),a=n.xVal[t]+n.xNumSteps[t]*i;n.xHighestCompleteStep[t]=a}function S(t,e,n,r){this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e,this.direction=n;var i,a=[];for(i in t)t.hasOwnProperty(i)&&a.push([t[i],i]);for(a.length&&"object"==typeof a[0][0]?a.sort(function(t,e){return t[0][0]-e[0][0]}):a.sort(function(t,e){return t[0]-e[0]}),i=0;i<a.length;i++)_(a[i][1],a[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)C(i,this.xNumSteps[i],this)}function T(t,e){if(!i(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function E(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new S(e,t.snap,t.dir,t.singleStep)}function M(t,e){if(e=s(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function D(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function k(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function A(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function O(t,e){var n,r=[!1];if(e===!0||e===!1){for(n=1;n<t.handles;n++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");r=e}t.connect=r}function R(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function L(t,e){if(!i(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function N(t,e){if(!i(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function P(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function I(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,r=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,a=e.indexOf("snap")>=0,o=e.indexOf("hover")>=0;if(i){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");L(t,t.start[1]-t.start[0])}t.events={tap:n||a,drag:r,fixed:i,snap:a,hover:o}}function z(t,e){if(e!==!1)if(e===!0){t.tooltips=[];for(var n=0;n<t.handles;n++)t.tooltips.push(!0)}else{if(t.tooltips=s(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function j(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function H(t,e){if(void 0!==e&&"string"!=typeof e&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function F(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix){t.cssClasses={};for(var n in e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n])}else t.cssClasses=e}function W(t,e){if(e!==!0&&e!==!1)throw new Error("noUiSlider: 'useRequestAnimationFrame' option should be true (default) or false.");t.useRequestAnimationFrame=e}function B(t){var e,n={margin:0,limit:0,animate:!0,animationDuration:300,format:Y};e={step:{r:!1,t:T},start:{r:!0,t:M},connect:{r:!0,t:O},direction:{r:!0,t:P},snap:{r:!1,t:D},animate:{r:!1,t:k},animationDuration:{r:!1,t:A},range:{r:!0,t:E},orientation:{r:!1,t:R},margin:{r:!1,t:L},limit:{r:!1,t:N},behaviour:{r:!0,t:I},format:{r:!1,t:j},tooltips:{r:!1,t:z},cssPrefix:{r:!1,t:H},cssClasses:{r:!1,t:F},useRequestAnimationFrame:{r:!1,t:W}};var r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Object.keys(e).forEach(function(i){if(void 0===t[i]&&void 0===r[i]){if(e[i].r)throw new Error("noUiSlider: '"+i+"' is required.");return!0}e[i].t(n,void 0===t[i]?r[i]:t[i])}),n.pips=t.pips;var i=[["left","top"],["right","bottom"]];return n.style=i[n.dir][n.ort],n.styleOposite=i[n.dir?0:1][n.ort],n}function $(n,i,l){function p(e,n){var r=t(e,i.cssClasses.origin),a=t(r,i.cssClasses.handle);return a.setAttribute("data-handle",n),r}function g(e,n){return!!n&&t(e,i.cssClasses.connect)}function m(t,e){et=[],nt=[],nt.push(g(e,t[0]));for(var n=0;n<i.handles;n++)et.push(p(e,n)),st[n]=n,nt.push(g(e,t[n+1]))}function v(e){u(e,i.cssClasses.target),0===i.dir?u(e,i.cssClasses.ltr):u(e,i.cssClasses.rtl),0===i.ort?u(e,i.cssClasses.horizontal):u(e,i.cssClasses.vertical),tt=t(e,i.cssClasses.base)}function y(e,n){return!!i.tooltips[n]&&t(e.firstChild,i.cssClasses.tooltip)}function b(){var t=et.map(y);K("update",function(e,n,r){if(t[n]){var a=e[n];i.tooltips[n]!==!0&&(a=i.tooltips[n].to(r[n])),t[n].innerHTML=a}})}function w(t,e,n){if("range"===t||"steps"===t)return lt.xVal;if("count"===t){var r,i=100/(e-1),a=0;for(e=[];(r=a++*i)<=100;)e.push(r);t="positions"}return"positions"===t?e.map(function(t){return lt.fromStepping(n?lt.getStep(t):t)}):"values"===t?n?e.map(function(t){return lt.fromStepping(lt.getStep(lt.toStepping(t)))}):e:void 0}function x(t,n,r){function i(t,e){return(t+e).toFixed(7)/1}var a={},o=lt.xVal[0],s=lt.xVal[lt.xVal.length-1],l=!1,u=!1,c=0;return r=e(r.slice().sort(function(t,e){return t-e})),r[0]!==o&&(r.unshift(o),l=!0),r[r.length-1]!==s&&(r.push(s),u=!0),r.forEach(function(e,o){var s,d,h,f,p,g,m,v,y,b,w=e,x=r[o+1];if("steps"===n&&(s=lt.xNumSteps[o]),s||(s=x-w),w!==!1&&void 0!==x)for(s=Math.max(s,1e-7),d=w;d<=x;d=i(d,s)){for(f=lt.toStepping(d),p=f-c,v=p/t,y=Math.round(v),b=p/y,h=1;h<=y;h+=1)g=c+h*b,a[g.toFixed(5)]=["x",0];m=r.indexOf(d)>-1?1:"steps"===n?2:0,!o&&l&&(m=0),d===x&&u||(a[f.toFixed(5)]=[d,m]),c=f}}),a}function _(t,e,n){function r(t,e){var n=e===i.cssClasses.value,r=n?h:f,a=n?c:d;return e+" "+r[i.ort]+" "+a[t]}function a(t,e,n){return'class="'+r(n[1],e)+'" style="'+i.style+": "+t+'%"'}function o(t,r){r[1]=r[1]&&e?e(r[0],r[1]):r[1],l+="<div "+a(t,i.cssClasses.marker,r)+"></div>",r[1]&&(l+="<div "+a(t,i.cssClasses.value,r)+">"+n.to(r[0])+"</div>")}var s=document.createElement("div"),l="",c=[i.cssClasses.valueNormal,i.cssClasses.valueLarge,i.cssClasses.valueSub],d=[i.cssClasses.markerNormal,i.cssClasses.markerLarge,i.cssClasses.markerSub],h=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],f=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];return u(s,i.cssClasses.pips),u(s,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){o(e,t[e])}),s.innerHTML=l,s}function C(t){var e=t.mode,n=t.density||1,r=t.filter||!1,i=t.values||!1,a=t.stepped||!1,o=w(e,i,a),s=x(n,e,o),l=t.format||{to:Math.round};return at.appendChild(_(s,r,l))}function S(){var t=tt.getBoundingClientRect(),e="offset"+["Width","Height"][i.ort];return 0===i.ort?t.width||tt[e]:t.height||tt[e]}function T(t,e,n,r){var a=function(e){return!at.hasAttribute("disabled")&&(!d(at,i.cssClasses.tap)&&(e=E(e,r.pageOffset),!(t===it.start&&void 0!==e.buttons&&e.buttons>1)&&((!r.hover||!e.buttons)&&(e.calcPoint=e.points[i.ort],void n(e,r)))))},o=[];return t.split(" ").forEach(function(t){e.addEventListener(t,a,!1),o.push([t,a])}),o}function E(t,e){t.preventDefault();var n,r,i=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),o=0===t.type.indexOf("pointer"),s=t;if(0===t.type.indexOf("MSPointer")&&(o=!0),i){if(s.touches.length>1)return!1;n=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY}return e=e||h(),(a||o)&&(n=t.clientX+e.x,r=t.clientY+e.y),s.pageOffset=e,s.points=[n,r],s.cursor=a||o,s}function M(t){var e=t-r(tt,i.ort),n=100*e/S();return i.dir?100-n:n}function D(t){var e=100,n=!1;return et.forEach(function(r,i){if(!r.hasAttribute("disabled")){var a=Math.abs(ot[i]-t);a<e&&(n=i,e=a)}}),n}function k(t,e,n,r){var i=n.slice(),a=[!t,t],o=[t,!t];r=r.slice(),t&&r.reverse(),r.length>1?r.forEach(function(t,n){var r=j(i,t,i[t]+e,a[n],o[n]);r===!1?e=0:(e=r-i[t],i[t]=r)}):a=o=[!0];var s=!1;r.forEach(function(t,r){s=$(t,n[t]+e,a[r],o[r])||s}),s&&r.forEach(function(t){A("update",t),A("slide",t)})}function A(t,e,n){Object.keys(ct).forEach(function(r){var a=r.split(".")[0];t===a&&ct[r].forEach(function(t){t.call(rt,ut.map(i.format.to),e,ut.slice(),n||!1,ot.slice())})})}function O(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&L(t,e)}function R(t,e){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===t.buttons&&0!==e.buttonsProperty)return L(t,e);var n=(i.dir?-1:1)*(t.calcPoint-e.startCalcPoint),r=100*n/e.baseSize;k(n>0,r,e.locations,e.handleNumbers)}function L(t,e){var n=tt.querySelector("."+i.cssClasses.active);null!==n&&c(n,i.cssClasses.active),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener)),document.documentElement.noUiListeners.forEach(function(t){document.documentElement.removeEventListener(t[0],t[1])}),c(at,i.cssClasses.drag),W(),e.handleNumbers.forEach(function(t){A("set",t),A("change",t),A("end",t)})}function N(t,e){if(1===e.handleNumbers.length){var n=et[e.handleNumbers[0]];if(n.hasAttribute("disabled"))return!1;u(n.children[0],i.cssClasses.active)}t.preventDefault(),t.stopPropagation();var r=T(it.move,document.documentElement,R,{startCalcPoint:t.calcPoint,baseSize:S(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:ot.slice()}),a=T(it.end,document.documentElement,L,{handleNumbers:e.handleNumbers}),o=T("mouseout",document.documentElement,O,{handleNumbers:e.handleNumbers});if(document.documentElement.noUiListeners=r.concat(a,o),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,et.length>1&&u(at,i.cssClasses.drag);var s=function(){return!1};document.body.noUiListener=s,document.body.addEventListener("selectstart",s,!1)}e.handleNumbers.forEach(function(t){A("start",t)})}function P(t){t.stopPropagation();var e=M(t.calcPoint),n=D(e);return n!==!1&&(i.events.snap||a(at,i.cssClasses.tap,i.animationDuration),$(n,e,!0,!0),W(),A("slide",n,!0),A("set",n,!0),A("change",n,!0),A("update",n,!0),void(i.events.snap&&N(t,{handleNumbers:[n]})))}function I(t){var e=M(t.calcPoint),n=lt.getStep(e),r=lt.fromStepping(n);Object.keys(ct).forEach(function(t){"hover"===t.split(".")[0]&&ct[t].forEach(function(t){t.call(rt,r)})})}function z(t){t.fixed||et.forEach(function(t,e){T(it.start,t.children[0],N,{handleNumbers:[e]})}),t.tap&&T(it.start,tt,P,{}),t.hover&&T(it.move,tt,I,{hover:!0}),t.drag&&nt.forEach(function(e,n){if(e!==!1&&0!==n&&n!==nt.length-1){var r=et[n-1],a=et[n],o=[e];u(e,i.cssClasses.draggable),t.fixed&&(o.push(r.children[0]),o.push(a.children[0])),o.forEach(function(t){T(it.start,t,N,{handles:[r,a],handleNumbers:[n-1,n]})})}})}function j(t,e,n,r,a){return et.length>1&&(r&&e>0&&(n=Math.max(n,t[e-1]+i.margin)),a&&e<et.length-1&&(n=Math.min(n,t[e+1]-i.margin))),et.length>1&&i.limit&&(r&&e>0&&(n=Math.min(n,t[e-1]+i.limit)),a&&e<et.length-1&&(n=Math.max(n,t[e+1]-i.limit))),n=lt.getStep(n),n=o(n),n!==t[e]&&n}function H(t){return t+"%"}function F(t,e){ot[t]=e,ut[t]=lt.fromStepping(e);var n=function(){et[t].style[i.style]=H(e),G(t),G(t+1)};window.requestAnimationFrame&&i.useRequestAnimationFrame?window.requestAnimationFrame(n):n()}function W(){st.forEach(function(t){var e=ot[t]>50?-1:1,n=3+(et.length+e*t);et[t].childNodes[0].style.zIndex=n})}function $(t,e,n,r){return e=j(ot,t,e,n,r),e!==!1&&(F(t,e),!0)}function G(t){if(nt[t]){var e=0,n=100;0!==t&&(e=ot[t-1]),t!==nt.length-1&&(n=ot[t]),nt[t].style[i.style]=H(e),nt[t].style[i.styleOposite]=H(100-n)}}function Y(t,e){null!==t&&t!==!1&&("number"==typeof t&&(t=String(t)),t=i.format.from(t),t===!1||isNaN(t)||$(e,lt.toStepping(t),!1,!1))}function q(t,e){var n=s(t),r=void 0===ot[0];e=void 0===e||!!e,n.forEach(Y),i.animate&&!r&&a(at,i.cssClasses.tap,i.animationDuration),st.forEach(function(t){$(t,ot[t],!0,!1)}),W(),st.forEach(function(t){A("update",t),null!==n[t]&&e&&A("set",t)})}function U(t){q(i.start,t)}function V(){var t=ut.map(i.format.to);return 1===t.length?t[0]:t}function X(){for(var t in i.cssClasses)i.cssClasses.hasOwnProperty(t)&&c(at,i.cssClasses[t]);for(;at.firstChild;)at.removeChild(at.firstChild);delete at.noUiSlider}function Q(){return ot.map(function(t,e){var n=lt.getNearbySteps(t),r=ut[e],i=n.thisStep.step,a=null;i!==!1&&r+i>n.stepAfter.startValue&&(i=n.stepAfter.startValue-r),a=r>n.thisStep.startValue?n.thisStep.step:n.stepBefore.step!==!1&&r-n.stepBefore.highestStep,100===t?i=null:0===t&&(a=null);var o=lt.countStepDecimals();return null!==i&&i!==!1&&(i=Number(i.toFixed(o))),null!==a&&a!==!1&&(a=Number(a.toFixed(o))),[a,i]})}function K(t,e){ct[t]=ct[t]||[],ct[t].push(e),"update"===t.split(".")[0]&&et.forEach(function(t,e){A("update",e)})}function Z(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(ct).forEach(function(t){var r=t.split(".")[0],i=t.substring(r.length);e&&e!==r||n&&n!==i||delete ct[t]})}function J(t,e){var n=V(),r=["margin","limit","range","animate","snap","step","format"];r.forEach(function(e){void 0!==t[e]&&(l[e]=t[e])});var a=B(l);r.forEach(function(e){void 0!==t[e]&&(i[e]=a[e])}),a.spectrum.direction=lt.direction,lt=a.spectrum,i.margin=a.margin,i.limit=a.limit,ot=[],q(t.start||n,e)}var tt,et,nt,rt,it=f(),at=n,ot=[],st=[],lt=i.spectrum,ut=[],ct={};if(at.noUiSlider)throw new Error("Slider was already initialized.");return v(at),m(i.connect,tt),rt={destroy:X,steps:Q,on:K,off:Z,get:V,set:q,reset:U,__moveHandles:function(t,e,n){k(t,e,ot,n)},options:l,updateOptions:J,target:at,pips:C},z(i.events),q(i.start),i.pips&&C(i.pips),i.tooltips&&b(),rt}function G(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=B(e,t),r=$(t,n,e);return t.noUiSlider=r,r}S.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t%e)throw new Error("noUiSlider: 'limit' and 'margin' must be divisible by step.");return 2===this.xPct.length&&g(this.xVal,t)},S.prototype.toStepping=function(t){return t=b(this.xVal,this.xPct,t)},S.prototype.fromStepping=function(t){return w(this.xVal,this.xPct,t)},S.prototype.getStep=function(t){return t=x(this.xPct,this.xSteps,this.snap,t)},S.prototype.getNearbySteps=function(t){var e=y(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e-0],step:this.xNumSteps[e-0],highestStep:this.xHighestCompleteStep[e-0]}}},S.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(l);return Math.max.apply(null,t)},S.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var Y={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{create:G}});var forest1="#C4D6C4",forest2="#A5C3A8",forest3="#73A97F",forest4="#008C4E",forest5="#007741",forest6="#005027",green1="#CBE1C8",green2="#AED3AB",green3="#7DBE80",green4="#0AA74B",green5="#008C3E",green6="#005E25",olive1="#E0EDCB",olive2="#D0E4AF",olive3="#B4D682",olive4="#8FC641",olive5="#74A535",olive6="#476E1E",lime1="#EFF4CC",lime2="#E8EEAF",lime3="#DBE580",lime4="#CADB2E",lime5="#A6B626",lime6="#6A7812",yellow1="#FCF8CD",yellow2="#FBF5B0",yellow3="#F9F17E",yellow4="#F6EB0E",yellow5="#CAC313",yellow6="#838103",tangerine1="#FFECC6",tangerine2="#FFE3A7",tangerine3="#FFD576",tangerine4="#FDC218",tangerine5="#D0A115",tangerine6="#886A00",orange1="#FDD5BB",orange2="#FBBE99",orange3="#F79967",orange4="#F26725",orange5="#C8551D",orange6="#843401",red1="#FBC9BA",red2="#F8AB98",red3="#F37B68",red4="#EC2033",red5="#C31729",red6="#82000D",rose1="#E9C3C8",rose2="#DFA4AE",rose3="#D17589",rose4="#C02460",rose5="#A11950",rose6="#6B0031",violet1="#DABFD1",violet2="#C99FBB",violet3="#B1709B",violet4="#952978",violet5="#7E1E65",violet6="#530041",purple1="#CABDDC",purple2="#B19CC9",purple3="#8D6EAE",purple4="#653290",purple5="#552479",purple6="#360451",navy1="#BCC2E0",navy2="#9BA4CF",navy3="#697CB8",navy4="#0F519F",navy5="#0A4286",navy6="#002459",blue1="#C8DAF0",blue2="#ABC8E8",blue3="#7AADDC",blue4="#1F8FCE",blue5="#1B78AC",blue6="#044F74",cyan1="#CFE8F9",cyan2="#B5DDF6",cyan3="#86CCF1",cyan4="#2AB8EB",cyan5="#259AC5",cyan6="#0C6785",gray1="#DCDDDE",gray2="#BCBEC0",gray3="#939598",gray4="#6D6E71",gray5="#4D4D4F",gray6="#414042",grey1="#AFBABF",grey2="#D4D8DA",black="#231F20",white="#FFFFFF",staticnav=grey1,selectednav=black,mcolor={red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",1000:"#11171a"}};window.gettext=function(t){return t},window.Reuters=window.Reuters||{},window.Reuters.LANGUAGE="en",Reuters.Locales={en:{decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","March","April","May","June","July","Aug","Sep","Oct","Nov","Dec"]},es:{decimal:",",thousands:".",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Lunes","Martes","MiÃ©rcoles","Jueves","Viernes","SÃ¡bado"],shortDays:["Dom","Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],shortMonths:["Ene","Feb","Mar","Abr","Mayo","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]},fr:{decimal:",",thousands:".",grouping:[3],currency:["$",""],dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","fÃ©vrier","mars","avril","mai","juin","juillet","aoÃ»t","septembre","octobre","novembre","dÃ©cembre"],shortMonths:["janv.","fÃ©vr.","mars","avr.","mai","juin","juil.","aoÃ»t","sept.","oct.","nov.","dÃ©c."]},ch:{decimal:".",thousands:",",grouping:[3],currency:["Â¥",""],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["å¨æ¥","å¨ä¸","å¨äº","å¨ä¸","å¨å","å¨äº","å¨å­"],shortDays:["å¨æ¥","å¨ä¸","å¨äº","å¨ä¸","å¨å","å¨äº","å¨å­"],months:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],shortMonths:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"]},pt:{decimal:",",thousands:".",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Lunes","Martes","MiÃ©rcoles","Jueves","Viernes","SÃ¡bado"],shortDays:["Dom","Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b"],months:["Janeiro","Fevereiro","MarÃ§o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Maio","Jun","Jul","Ago","Set","Out","Nov","Dez"]},ar:{decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["ØµØ¨Ø§Ø­Ø§","ÙØ³Ø§ØØ§"],days:[" Ø§ÙØ£Ø­Ø¯"," Ø§ÙØ¥Ø«ÙÙÙ "," Ø§ÙØ«ÙØ§Ø«Ø§Ø¡ "," Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡ "," Ø§ÙØ®ÙÙØ³ "," Ø§ÙØ¬ÙØ¹Ø© "," Ø§ÙØ³Ø¨Øª "],shortDays:[" Ø£Ø­Ø¯ "," Ø¥Ø«ÙÙÙ "," Ø«ÙØ§Ø«Ø§Ø¡ "," Ø£Ø±Ø¨Ø¹Ø§Ø¡ ","ÙØ®ÙÙØ³"," Ø§ÙØ¬ÙØ¹Ø© "," Ø³Ø¨Øª "],months:[" ÙÙØ§ÙØ±"," ÙØ¨Ø±Ø§ÙØ± "," ÙØ§Ø±Ø³ "," Ø£Ø¨Ø±ÙÙ ","ÙØ§ÙÙ"," ÙÙÙÙÙ "," ÙÙÙÙÙ "," Ø£ØºØ³Ø·Ø³ "," Ø³Ø¨ØªÙØ¨Ø± "," Ø§ÙØªÙØ¨Ø± "," ÙÙÙÙØ¨Ø± "," Ø¯ÙØ³ÙØ¨Ø± "],shortMonths:[" ÙÙØ§ÙØ±"," ÙØ¨Ø±Ø§ÙØ± "," ÙØ§Ø±Ø³ "," Ø£Ø¨Ø±ÙÙ ","ÙØ§ÙÙ"," ÙÙÙÙÙ "," ÙÙÙÙÙ "," Ø£ØºØ³Ø·Ø³ "," Ø³Ø¨ØªÙØ¨Ø± "," Ø§ÙØªÙØ¨Ø± "," ÙÙÙÙØ¨Ø± "," Ø¯ÙØ³ÙØ¨Ø± "]},ja:{decimal:".",thousands:",",grouping:[3],currency:["Â¥",""],dateTime:"%a %b %e %X %Y",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["åå","åå¾"],days:["æ¥ææ¥","æææ¥","ç«ææ¥","æ°´ææ¥","æ¨ææ¥","éææ¥","åææ¥"],shortDays:["ï¼æ¥ï¼","ï¼æï¼","ï¼ç«ï¼","ï¼æ°´ï¼","ï¼æ¨ï¼","ï¼éï¼","ï¼åæï¼"],months:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],shortMonths:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"]},bg:{decimal:".",thousands:" ",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Ð½ÐµÐ´ÐµÐ»Ñ","Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº","Ð²ÑÐ¾ÑÐ½Ð¸Ðº","ÑÑÑÐ´Ð°","ÑÐµÑÐ²ÑÑÑÑÐº","Ð¿ÐµÑÑÐº","ÑÑÐ±Ð¾ÑÐ°"],shortDays:["Ð½ÐµÐ´.","Ð¿Ð¾Ð½.","Ð²Ñ.","ÑÑ.","ÑÐµÑ.","Ð¿ÐµÑ.","ÑÑÐ±."],months:["ÑÐ½ÑÐ°ÑÐ¸","ÑÐµÐ²ÑÑÐ°ÑÐ¸","Ð¼Ð°ÑÑ","Ð°Ð¿ÑÐ¸Ð»","Ð¼Ð°Ð¹","ÑÐ½Ð¸","ÑÐ»Ð¸","Ð°Ð²Ð³ÑÑÑ","ÑÐµÐ¿ÑÐµÐ¼Ð²ÑÐ¸","Ð¾ÐºÑÐ¾Ð¼Ð²ÑÐ¸","Ð½Ð¾ÐµÐ¼Ð²ÑÐ¸","Ð´ÐµÐºÐµÐ¼Ð²ÑÐ¸"],shortMonths:["ÑÐ½.","ÑÐµÐ².","Ð¼Ð°ÑÑ","Ð°Ð¿Ñ.","Ð¼Ð°Ð¹","ÑÐ½Ð¸","ÑÐ»Ð¸","Ð°Ð²Ð³.","ÑÐµÐ¿Ñ.","Ð¾ÐºÑ.","Ð½Ð¾Ð².","Ð´ÐµÐº."]}},Reuters.CurrentLocale=d3.locale(Reuters.Locales[Reuters.LANGUAGE]),d3.format=Reuters.CurrentLocale.numberFormat,d3.time.format=Reuters.CurrentLocale.timeFormat,d3.time.formatMulti=Reuters.CurrentLocale.timeFormat.multi,function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.basicCharter=window.Reuters.Graphics.basicCharter||{},window.Reuters.Graphics.basicCharter.Template=window.Reuters.Graphics.basicCharter.Template||{},window.Reuters.Graphics.basicCharter.Template.chartTemplate=function(t){function e(){r+=i.call(arguments,"")}var n,r="",i=Array.prototype.join;return t.self.multiDataColumns&&(r+='\n\t<div class="chart-nav">\n\t\t<div class="navContainer">\n            <div class="btn-group nav-options horizontal" data-toggle="buttons">\n                ',t.self.multiDataColumns.forEach(function(e,i){r+='                \n                    <label dataid="'+(null==(n=e)?"":n)+'" class="btn btn-primary ',i==t.self.multiDataLabels.length-1&&(r+="active"),r+=' smaller">\n                        <input type="radio" name="nav-options" autocomplete="off"> \n                        '+(null==(n=t.self.multiDataLabels[i])?"":n)+"\n                    </label>\n                "}),r+="\n            </div>    \t\t    \t\t\n\t\t</div>    \t\n\t</div>\n"),r+="\n",t.self.navSpacer&&(r+='\n\t<div class="chart-nav">\n\t\t<div class="navContainer spacer"></div>\n\t</div>\n'),r+="\n\n",t.self.chartLayoutLables&&(r+='\n\t<div class="chart-layout"></div>\n'),r+='\n<div class="chart-holder \n\t',t.self.hasLegend||e("no-legend"),r+='\n\t">\n\t<div class="legend nested-legend"></div>\n\t<div class="chart nested-chart"></div>\n</div>'}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.basicCharter=window.Reuters.Graphics.basicCharter||{},window.Reuters.Graphics.basicCharter.Template=window.Reuters.Graphics.basicCharter.Template||{},window.Reuters.Graphics.basicCharter.Template.legendTemplate=function(t){function e(){r+=i.call(arguments,"")}var n,r="",i=Array.prototype.join;return r+="<div class='legendContainer'>\n\t<div class=\"legend-ital\">"+(null==(n="Hide/show")?"":n)+"</div>\n\t<div class='dateTip'> \n\t\t",t.data[0].displayDate&&e(t.data[0].displayDate),t.data[0].category&&e(t.data[0].category),t.data[0].category||t.data[0].displayDate||e("<br>"),r+='\n\t</div>\n\t<div class="legend-items-holder">\n\t\t',t.data.forEach(function(i,a){r+='\n\t\t\t<div class="legendItems">\n\t\t\t\t<div class=\'circleTip '+(null==(n=t.self.chartType)?"":n)+" ","outlineBar"==t.self.chartLayout&&1==a&&(r+="outline"),r+="' style='background-color:",e(t.self.colorScale(i.name)),r+=';\'></div>\n\t\t\t\t<div class="legendInline">\n\t\t\t\t\t<div class="nameTip">\t'+(null==(n=i.displayName)?"":n)+"</div>\n\t\t\t\t\t<div class='valueTip'>\n\t\t\t\t\t\t",e(i[t.self.dataType]?t.self.tipNumbFormat(i[t.self.dataType]):"<br>"),r+="\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"}),r+="\n\t</div>\t\t\n</div>\n\n"}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.basicCharter=window.Reuters.Graphics.basicCharter||{},
window.Reuters.Graphics.basicCharter.Template=window.Reuters.Graphics.basicCharter.Template||{},window.Reuters.Graphics.basicCharter.Template.tooltip=function(t){function e(){r+=i.call(arguments,"")}var n,r="",i=Array.prototype.join;if(r+=t.data[0].quarters?"\n\t<div class='dateTip'> "+(null==(n=t.data[0].quarters)?"":n)+" "+(null==(n=t.data[0].displayDate)?"":n)+" </div>\n":t.data[0].displayDate?"\n\t<div class='dateTip'> "+(null==(n=t.data[0].displayDate)?"":n)+" </div>\n":"\n\t<div class='dateTip'> "+(null==(n=t.data[0].category)?"":n)+" </div>\n",r+="\n\n",t.data.forEach(function(i,a){r+='\n\t\t<div class="tipHolder">\n\t\t\t',t.data.length>1&&(r+="\n\t\t\t\t<div class='circleTip "+(null==(n=t.self.chartType)?"":n)+" ","outlineBar"==t.self.chartLayout&&1==a&&(r+="outline"),r+="' style='background-color:",e(t.self.colorScale(i.name)),r+=";'></div>\n\t\t\t\t<div class='nameTip'>"+(null==(n=i.displayName)?"":n)+"</div>\n\t\t\t"),r+="\n\t\t\t<div class='valueTip'>\n\t\t\t\t","stackPercent"==t.self.chartLayout?(r+="\n\t\t\t\t\t",e(t.self.tipNumbFormat(i.y1Percent-i.y0Percent)),r+="\t\t\t\t\n\t\t\t\t"):(r+="\n\t\t\t\t\t",e(t.self.tipNumbFormat(i[t.self.dataType])),r+="\t\t\t\t\n\t\t\t\t"),r+="\n\t\t\t</div>\n\t\n\t\t</div>\n"}),r+="\t\n",t.self.timelineData){var a=t.self.timelineDataGrouped[t.self.timelineDate(t.data[0].date)];e(t.self.timelineTemplate({data:a,self:t.self}))}return r+="\t"}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.basicCharter=window.Reuters.Graphics.basicCharter||{},window.Reuters.Graphics.basicCharter.Template=window.Reuters.Graphics.basicCharter.Template||{},window.Reuters.Graphics.basicCharter.Template.tooltipTimeline=function(t){function e(){r+=i.call(arguments,"")}var n,r="",i=Array.prototype.join;return r+="<hr>\n",t.data.forEach(function(i,a){r+='\n\t<div class="tip-Timeline-date text-uppercase">\n\t\t',e(t.self.timelineDateDisplay(i.parsedDate)),r+='\n\t</div>\n\t<div class="tip-Timeline">\n\t\t'+(null==(n=i.item)?"":n)+"\n\t</div>\n\n\t",a!=t.data.length-1&&e("<br>"),r+="\n\n"}),r+=" "}}(),function(t,e){"object"===("undefined"==typeof exports?"undefined":babelHelpers["typeof"](exports))&&"undefined"!=typeof module?e(exports,require("d3-selection"),require("d3-drag"),require("d3-shape"),require("d3-dispatch")):"function"==typeof define&&define.amd?define(["exports","d3-selection","d3-drag","d3-shape","d3-dispatch"],e):e(d3=d3||{},d3,d3,d3,d3)}(void 0,function(t,e,n,r,i){"use strict";function a(){var t=[],n=void 0,r=void 0,i=[],a={},o={},s=!1,l=void 0,u=B,c=void 0,d=void 0,h=e.dispatch("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),g=void 0,m=function v(r){g=r,s||r.selectAll("circle.handle").remove();var m=t.map(function(t){return t.type||(t.type=u),t.disable||(t.disable=i),new f(t)});n=n||new p({annotations:m,accessors:a,accessorsInverse:o,ids:l});var y=r.selectAll("g").data([n]);y.enter().append("g").attr("class","annotations");var b=r.select("g.annotations");Q(b,n.annotations,"g","annotation");var v=b.selectAll("g.annotation");v.each(function(t){var n=e.select(this);n.attr("class","annotation"),Q(n,[t],"g","annotation-connector"),Q(n,[t],"g","annotation-subject"),Q(n,[t],"g","annotation-note"),Q(n.select("g.annotation-note"),[t],"g","annotation-note-content"),t.type="[object Object]"===t.type.toString()?t.type:new t.type({a:n,annotation:t,textWrap:c,notePadding:d,editMode:s,dispatcher:h,accessors:a,accessorsInverse:o}),t.type.draw(),t.type.drawText&&t.type.drawText()})};return m.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",n.json),window.copy(JSON.stringify(n.json.map(function(t){return delete t.type,t}))),m},m.update=function(){return t&&n&&(t=n.annotations.map(function(t){return t.type.draw(),t})),m},m.updateText=function(){return n&&(n.updateText(c),t=n.annotations),m},m.updatedAccessors=function(){return n.setPositionWithAccessors(),t=n.annotations,m},m.disable=function(e){return arguments.length?(i=e,n&&(n.updateDisable(i),t=n.annotations),m):i},m.textWrap=function(e){return arguments.length?(c=e,n&&(n.updateTextWrap(c),t=n.annotations),m):c},m.notePadding=function(e){return arguments.length?(d=e,n&&(n.updateNotePadding(d),t=n.annotations),m):d},m.type=function(e,r){return arguments.length?(u=e,n&&(n.annotations.map(function(t){t.type.note&&t.type.note.selectAll("*:not(.annotation-note-content)").remove(),t.type.noteContent&&t.type.noteContent.selectAll("*").remove(),t.type.subject&&t.type.subject.selectAll("*").remove(),t.type.connector&&t.type.connector.selectAll("*").remove(),t.type.typeSettings={},t.type=u,t.subject=r&&r.subject||t.subject,t.connector=r&&r.connector||t.connector,t.note=r&&r.note||t.note}),t=n.annotations),m):u},m.annotations=function(e){if(!arguments.length)return n&&n.annotations||t;if(t=e,n&&n.annotations){var r=t.some(function(t){return!t.type||"[object Object]"!==t.type.toString()});r?(n=null,m(g)):n.annotations=t}return m},m.context=function(t){return arguments.length?(r=t,m):r},m.accessors=function(t){return arguments.length?(a=t,m):a},m.accessorsInverse=function(t){return arguments.length?(o=t,m):o},m.ids=function(t){return arguments.length?(l=t,m):l},m.editMode=function(e){return arguments.length?(s=e,g&&g.selectAll("g.annotation").classed("editable",s),n&&(n.editMode(s),t=n.annotations),m):s},m.collection=function(t){return arguments.length?(n=t,m):n},m.on=function(){var t=h.on.apply(h,arguments);return t===h?m:t},m}var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function et(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:et(i,e,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},c=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":babelHelpers["typeof"](e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},d=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))&&"function"!=typeof e?t:e},h=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},f=function(){function t(e){var n=e.x,r=void 0===n?0:n,i=e.y,a=void 0===i?0:i,s=e.nx,l=e.ny,u=e.dy,c=void 0===u?0:u,d=e.dx,h=void 0===d?0:d,f=e.color,p=void 0===f?"grey":f,g=e.data,m=e.type,v=e.subject,y=e.connector,b=e.note,w=e.disable,x=e.id,_=e.className;o(this,t),this._dx=void 0!==s?s-r:h,this._dy=void 0!==l?l-a:c,this._x=r,this._y=a,this._color=p,this.id=x,this._className=_||"",this.type=m||"",this.data=g,this.note=b||{},this.connector=y||{},this.subject=v||{},this.disable=w||[]}return s(t,[{key:"updatePosition",value:function(){if(this.type.setPosition){this.type.setPosition();var t=[];this.type.subject.selectAll(":not(.handle)").each(function(e){t.push(this)}),0!==t.length&&this.type.redrawSubject()}}},{key:"updateOffset",value:function(){if(this.type.setOffset){this.type.setOffset();var t=[];this.type.connector.selectAll(":not(.handle)").each(function(e){t.push(this)}),0!==t.length&&this.type.redrawConnector(),this.type.redrawNote()}}},{key:"className",get:function(){return this._className},set:function(t){this._className=t,this.type.setClassName&&this.type.setClassName()}},{key:"x",get:function(){return this._x},set:function(t){this._x=t,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(t){this._dx=t,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(t){this._dy=t,this.updateOffset()}},{key:"nx",set:function(t){this._dx=t-this._x,this.updateOffset()}},{key:"ny",set:function(t){this._dy=t-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(t){var e=t.x,n=t.y;this._dx=e,this._dy=n,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(t){var e=t.x,n=t.y;this._x=e,this._y=n,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var t={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(t.data=this.data),this.type&&(t.type=this.type),this._className&&(t.className=this._className),Object.keys(this.connector).length>0&&(t.connector=this.connector),Object.keys(this.subject).length>0&&(t.subject=this.subject),Object.keys(this.note).length>0&&(t.note=this.note),t}}]),t}(),p=function(){function t(e){var n=e.annotations,r=e.accessors,i=e.accessorsInverse;o(this,t),this.accessors=r,this.accessorsInverse=i,this.annotations=n}return s(t,[{key:"clearTypes",value:function(t){this.annotations.forEach(function(e){e.type=void 0,e.subject=t&&t.subject||e.subject,e.connector=t&&t.connector||e.connector,e.note=t&&t.note||e.note})}},{key:"setPositionWithAccessors",value:function(){var t=this;this.annotations.forEach(function(e){e.type.setPositionWithAccessors(t.accessors)})}},{key:"editMode",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.editMode=t,e.type.updateEditMode())})}},{key:"updateDisable",value:function(t){this.annotations.forEach(function(e){e.disable=t,e.type&&t.forEach(function(t){e.type[t]&&(e.type[t].remove&&e.type[t].remove(),e.type[t]=void 0)})})}},{key:"updateTextWrap",value:function(t){this.annotations.forEach(function(e){e.type&&e.type.updateTextWrap&&e.type.updateTextWrap(t)})}},{key:"updateText",value:function(){this.annotations.forEach(function(t){t.type&&t.type.drawText&&t.type.drawText()})}},{key:"updateNotePadding",value:function(t){this.annotations.forEach(function(e){e.type&&(e.type.notePadding=t)})}},{key:"json",get:function(){var t=this;return this.annotations.map(function(e){var n=e.json;return t.accessorsInverse&&e.data&&(n.data={},Object.keys(t.accessorsInverse).forEach(function(r){n.data[r]=t.accessorsInverse[r]({x:e.x,y:e.y})})),n})}},{key:"noteNodes",get:function(){return this.annotations.map(function(t){return l({},t.type.getNoteBBoxOffset(),{positionX:t.x,positionY:t.y})})}}]),t}(),g=function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy,i=void 0===r?0:r;return{move:{x:n,y:i}}},m=function(t){var e=t.cx,n=void 0===e?0:e,r=t.cy,i=void 0===r?0:r,a=t.r1,o=t.r2,s=t.padding,l={move:{x:n,y:i}};return void 0!==a&&(l.r1={x:n+a/Math.sqrt(2),y:i+a/Math.sqrt(2)}),void 0!==o&&(l.r2={x:n+o/Math.sqrt(2),y:i+o/Math.sqrt(2)}),void 0!==s&&(l.padding={x:n+a+s,y:i}),l},v=function(t){var n=t.group,r=t.handles,i=t.r,a=void 0===i?10:i,o=n.selectAll("circle.handle").data(r);o.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(e.behavior.drag().on("dragstart",function(t){return t.start&&t.start(t)}).on("drag",function(t){return t.drag&&t.drag(t)}).on("dragend",function(t){return t.end&&t.end(t)})),n.selectAll("circle.handle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("r",function(t){return t.r||a}).attr("class",function(t){return"handle "+(t.className||"")}),o.exit().remove()},y=function(t,e){return"dynamic"!==t&&"left"!==t&&"right"!==t||(t=e<0?"top":"bottom"),t},b=function(t,e){return"dynamic"!==t&&"top"!==t&&"bottom"!==t||(t=e<0?"right":"left"),t},w=["topBottom","top","bottom"],x=["leftRight","left","right"],_=function(t){var e=t.padding,n=void 0===e?0:e,r=t.bbox,i=void 0===r?{x:0,y:0,width:0,height:0}:r,a=t.align,o=t.orientation,s=t.offset,l=void 0===s?{x:0,y:0}:s,u=-i.x,c=0;return w.indexOf(o)!==-1?(a=b(a,l.x),l.y<0&&"topBottom"===o||"top"===o?c-=i.height+n:c+=n,"middle"===a?u-=i.width/2:"right"===a&&(u-=i.width)):x.indexOf(o)!==-1&&(a=y(a,l.y),l.x<0&&"leftRight"===o||"left"===o?u-=i.width+n:u+=n,"middle"===a?c-=i.height/2:"top"===a&&(c-=i.height)),{x:u,y:c}},C=function(t){var n=t.data,r=t.curve,i=void 0===r?"linear":r,a=t.canvasContext,o=t.className,s=t.classID,l=e.svg.line().interpolate(i),u={type:"path",className:o,classID:s,data:n};return a?(l.context(a),u.pathMethods=l):u.attrs={d:l(n)},u},S=function(t){var n=t.data,r=t.canvasContext,i=t.className,a=t.classID,o={type:"path",className:i,classID:a,data:n},s=e.svg.arc().innerRadius(n.innerRadius||0).outerRadius(n.outerRadius||n.radius||2).startAngle(n.startAngle||0).endAngle(n.endAngle||2*Math.PI);return r?(s.context(r),o.pathMethods=lineGen):o.attrs={d:s()},o},T=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,a=void 0===i?0:i,o=t.bbox,s=t.offset;e=y(e,s.y),"top"===e?a-=o.height:"middle"===e&&(a-=o.height/2);var l=[[r,a],[r,a+o.height]];return{components:[C({data:l,className:"note-line"})]}},E=function(t){var e=t.align,n=t.x,r=void 0===n?0:n,i=t.y,a=void 0===i?0:i,o=t.offset,s=t.bbox;e=b(e,o.x),"right"===e?r-=s.width:"middle"===e&&(r-=s.width/2);var l=[[r,a],[r+s.width,a]];return{components:[C({data:l,className:"note-line"})]}},M=function(t){var e=t.type,n=t.subjectType,r=e.annotation,i=r.position,a=r.x-i.x,o=a+r.dx,s=r.y-i.y,l=s+r.dy,u=r.subject;if("circle"===n&&(u.outerRadius||u.radius)){var c=Math.sqrt((a-o)*(a-o)+(s-l)*(s-l)),d=Math.asin(-l/c),h=u.outerRadius||u.radius+(u.radiusPadding||0);a=Math.abs(Math.cos(d)*h)*(o<0?-1:1),s=Math.abs(Math.sin(d)*h)*(l<0?-1:1)}if("rect"===n){var f=u.width,p=u.height;(f>0&&r.dx>0||f<0&&r.dx<0)&&(a=Math.abs(f)>Math.abs(r.dx)?f/2:f),(p>0&&r.dy>0||p<0&&r.dy<0)&&(s=Math.abs(p)>Math.abs(r.dy)?p/2:p),a===f/2&&s===p/2&&(a=o,s=l)}return[[a,s],[o,l]]},D=function(t){var e=M(t);return{components:[C({data:e,className:"connector"})]}},k=function(t){var e=t.type,n=t.subjectType,r=e.annotation,i=r.position,a=r.x-i.x,o=a+r.dx,s=r.y-i.y,l=s+r.dy,u=r.subject;if("rect"===n){var c=u.width,d=u.height;(c>0&&r.dx>0||c<0&&r.dx<0)&&(a=Math.abs(c)>Math.abs(r.dx)?c/2:c),(d>0&&r.dy>0||d<0&&r.dy<0)&&(s=Math.abs(d)>Math.abs(r.dy)?d/2:d),a===c/2&&s===d/2&&(a=o,s=l)}var h=[[a,s],[o,l]],f=l-s,p=o-a,g=o,m=l,v=l<s&&o>a||o<a&&l>s?-1:1;if(Math.abs(p)<Math.abs(f)?(g=o,m=s+p*v):(m=l,g=a+f*v),"circle"===n&&(u.outerRadius||u.radius)){var y=(u.outerRadius||u.radius)+(u.radiusPadding||0),b=y/Math.sqrt(2);if(Math.abs(p)>b&&Math.abs(f)>b)a=b*(o<0?-1:1),s=b*(l<0?-1:1),h=[[a,s],[g,m],[o,l]];else if(Math.abs(p)>Math.abs(f)){var w=Math.asin(-l/y);a=Math.abs(Math.cos(w)*y)*(o<0?-1:1),h=[[a,l],[o,l]]}else{var x=Math.acos(o/y);s=Math.abs(Math.sin(x)*y)*(l<0?-1:1),h=[[o,s],[o,l]]}}else h=[[a,s],[g,m],[o,l]];return{components:[C({data:h,className:"connector"})]}},A=function(t){var n=t.type,r=t.connectorData,i=t.subjectType;r||(r={}),r.points&&"number"!=typeof r.points||(r.points=O(n.annotation.offset,r.points)),r.curve||(r.curve="basis");var a=[];if(n.editMode){var o=r.points.map(function(t,e){return l({},g({cx:t[0],cy:t[1]}),{index:e})}),s=function(t){r.points[t][0]+=e.event.dx,r.points[t][1]+=e.event.dy,n.redrawConnector()};a=n.mapHandles(o.map(function(t){return l({},t.move,{drag:s.bind(n,t.index)})}))}var u=M({type:n,subjectType:i});u=[u[0]].concat(h(r.points),[u[1]]);var c=[C({data:u,curve:r.curve,className:"connector"})];return{components:c,handles:a}},O=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n={x:t.x/(e+1),y:t.y/(e+1)},r=[],i=1;i<=e;i++)r.push([n.x*i+i%2*20,n.y*i-i%2*20]);return r},R=function(t){var e=t.annotation,n=t.start,r=t.end,i=e.position;n=n?[-r[0]+n[0],-r[1]+n[1]]:[e.dx,e.dy],r||(r=[e.x-i.x,e.y-i.y]);var a=r[0],o=r[1],s=n[0],l=n[1],u=10,c=16/180*Math.PI,d=Math.atan(l/s);s<0&&(d+=Math.PI);var h=[[a,o],[Math.cos(d+c)*u+a,Math.sin(d+c)*u+o],[Math.cos(d-c)*u+a,Math.sin(d-c)*u+o],[a,o]];return{components:[C({data:h,className:"connector-end connector-arrow",classID:"connector-end"})]}},L=function(t){var e=t.line,n=S({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3}});return n.attrs.transform="translate("+e.data[0][0]+", "+e.data[0][1]+")",{components:[n]}},N=function(t){var n=t.subjectData,r=t.type;n.radius||n.outerRadius||(n.radius=20);var i=[],a=S({data:n,className:"subject"});if(r.editMode){var o=m({r1:a.data.outerRadius||a.data.radius,r2:a.data.innerRadius,padding:n.radiusPadding}),s=function(t){var i=n[t]+e.event.dx*Math.sqrt(2);n[t]=i,r.redrawSubject(),r.redrawConnector()},u=[l({},o.r1,{drag:s.bind(r,void 0!==n.outerRadius?"outerRadius":"radius")})];n.innerRadius&&u.push(l({},o.r2,{drag:s.bind(r,"innerRadius")})),i=r.mapHandles(u)}return a.attrs["fill-opacity"]=0,{components:[a],handles:i}},P=function(t){var n=t.subjectData,r=t.type;n.width||(n.width=100),n.height||(n.height=100);var i=[],a=n.width,o=n.height,s=[[0,0],[a,0],[a,o],[0,o],[0,0]],l=C({data:s,className:"subject"});if(r.editMode){var u=function(){n.width=e.event.x,r.redrawSubject(),r.redrawConnector()},c=function(){n.height=e.event.y,r.redrawSubject(),r.redrawConnector()},d=[{x:a,y:o/2,drag:u.bind(r)},{x:a/2,y:o,drag:c.bind(r)}];i=r.mapHandles(d)}return l.attrs["fill-opacity"]=.1,{components:[l],handles:i}},I=function(t){var e=t.subjectData,n=t.type,r=n.annotation.position,i=(void 0!==e.x1?e.x1:r.x)-r.x,a=(void 0!==e.x2?e.x2:r.x)-r.x,o=(void 0!==e.y1?e.y1:r.y)-r.y,s=(void 0!==e.y2?e.y2:r.y)-r.y,l=[[i,o],[a,s]];return{components:[C({data:l,className:"subject"})]}},z=function(t){var n=t.subjectData,r=void 0===n?{}:n,i=t.type,a=void 0===i?{}:i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.typeSettings&&a.typeSettings.subject;r.radius||(s&&s.radius?r.radius=s.radius:r.radius=14),r.x||s&&s.x&&(r.x=s.x),r.y||s&&s.y&&(r.y=s.y);var l=[],u=[],c=r.radius,d=.7*c,h=0,f=0,p=Math.sqrt(2)*c,g={xleftcorner:-c,xrightcorner:c,ytopcorner:-c,ybottomcorner:c,xleft:-p,xright:p,ytop:-p,ybottom:p};r.x&&!r.y?h=g["x"+r.x]:r.y&&!r.x?f=g["y"+r.y]:r.x&&r.y&&(h=g["x"+r.x+"corner"],f=g["y"+r.y+"corner"]);var m="translate("+h+", "+f+")",v=S({className:"subject",data:{radius:c}});v.attrs.transform=m,v.attrs.fill=o.color,v.attrs["stroke-linecap"]="round",v.attrs["stroke-width"]="3px";var y=S({className:"subject-ring",data:{outerRadius:c,innerRadius:d}});y.attrs.transform=m,y.attrs["stroke-width"]="3px",y.attrs.fill="white";var b=void 0;if(h&&f||!h&&!f)b=C({className:"subject-pointer",data:[[0,0],[h||0,0],[0,f||0],[0,0]]});else if(h||f){var w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t&&t/Math.sqrt(2)/Math.sqrt(2)||e*c/Math.sqrt(2)};b=C({className:"subject-pointer",data:[[0,0],[w(h),w(f)],[w(h,-1),w(f,-1)],[0,0]]})}if(b&&(b.attrs.fill=o.color,b.attrs["stroke-linecap"]="round",b.attrs["stroke-width"]="3px",u.push(b)),a.editMode){var x=function(){r.x=e.event.x<2*-c?"left":e.event.x>2*c?"right":void 0,r.y=e.event.y<2*-c?"top":e.event.y>2*c?"bottom":void 0,a.redrawSubject()},_={x:2*h,y:2*f,drag:x.bind(a)};_.x||_.y||(_.y=-c),l=a.mapHandles([_])}var T=void 0;return r.text&&(T={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:r.text,"text-anchor":"middle",dy:".25em",x:h,y:f}}),u.push(v),u.push(y),u.push(T),{components:u,handles:l}},j=function(){function t(e){var n=e.a,r=e.annotation,i=e.editMode,a=e.dispatcher,s=e.notePadding,l=e.accessors,u=e.accessorsInverse;if(o(this,t),this.a=n,this.note=r.disable.indexOf("note")===-1&&n.select("g.annotation-note"),this.noteContent=this.note&&n.select("g.annotation-note-content"),this.connector=r.disable.indexOf("connector")===-1&&n.select("g.annotation-connector"),this.subject=r.disable.indexOf("subject")===-1&&n.select("g.annotation-subject"),this.dispatcher=a,a){var c=K.bind(null,a,r);c({component:this.note,name:"note"}),c({component:this.connector,name:"connector"}),c({component:this.subject,name:"subject"})}this.annotation=r,this.editMode=r.editMode||i,this.notePadding=void 0!==s?s:3,this.offsetCornerX=0,this.offsetCornerY=0,this.accessorsInverse=u,l&&r.data&&this.init(l)}return s(t,[{key:"init",value:function(t){this.annotation.x||this.mapX(t),this.annotation.y||this.mapY(t)}},{key:"mapY",value:function(t){t.y&&(this.annotation.y=t.y(this.annotation.data))}},{key:"mapX",value:function(t){t.x&&(this.annotation.x=t.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(t,e){var n=this;Array.isArray(e)||(e=[e]),e.filter(function(t){return t}).forEach(function(e){var r=e.type,i=e.className,a=e.attrs,o=e.handles,s=e.classID;if("handle"===r)v({group:t,r:a&&a.r,handles:o});else{Q(t,[n.annotation],r,i,s);for(var l=t.select(r+"."+(s||i)),u=Object.keys(a),c=[],d=l.node().attributes,h=d.length-1;h>=0;h--){var f=d[h].name;u.indexOf(f)===-1&&"class"!==f&&c.push(f)}u.forEach(function(t){"text"===t?l.text(a[t]):l.attr(t,a[t])}),c.forEach(function(t){return l.attr(t,null)})}})}},{key:"getNoteBBox",value:function(){return J(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var t=J(this.note,".annotation-note-content"),e=this.noteContent.attr("transform").split(/\(|\,|\)/g);return t.offsetCornerX=parseFloat(e[1])+this.annotation.dx,t.offsetCornerY=parseFloat(e[2])+this.annotation.dy,t.offsetX=this.annotation.dx,t.offsetY=this.annotation.dy,t}},{key:"drawSubject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.subject,r=e.type,i={type:this,subjectData:n},a={};"circle"===r?a=N(i):"rect"===r?a=P(i):"threshold"===r?a=I(i):"badge"===r&&(a=z(i,this.annotation));var o=a,s=o.components,l=void 0===s?[]:s,u=o.handles,c=void 0===u?[]:u;return l.forEach(function(e){e&&e.attrs&&!e.attrs.stroke&&(e.attrs.stroke=t.annotation.color)}),this.editMode&&(c=c.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),l.push({type:"handle",handles:c})),l}},{key:"drawConnector",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.annotation.connector,r=n.type||e.type,i={type:this,connectorData:n};i.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var a={};a="curve"===r?A(i):"elbow"===r?k(i):D(i);var o=a,s=o.components,l=void 0===s?[]:s,u=o.handles,c=void 0===u?[]:u,d=l[0];d&&(d.attrs.stroke=this.annotation.color,d.attrs.fill="none");var h=n.end||e.end,f={};if("arrow"===h){var p=d.data[1],g=d.data[0],m=Math.sqrt(Math.pow(p[0]-g[0],2)+Math.pow(p[1]-g[1],2));m<5&&d.data[2]&&(p=d.data[2]),f=R({annotation:this.annotation,start:p,end:g})}else"dot"===h&&(f=L({line:d}));return f.components&&(f.components.forEach(function(e){e.attrs.fill=t.annotation.color,e.attrs.stroke=t.annotation.color}),l=l.concat(f.components)),this.editMode&&0!==c.length&&l.push({type:"handle",handles:c}),l}},{key:"drawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.annotation.note,n=e.align||t.align||"dynamic",r={bbox:t.bbox,align:n,offset:this.annotation.offset},i=e.lineType||t.lineType,a={};"vertical"===i?a=T(r):"horizontal"===i&&(a=E(r));var o=a,s=o.components,l=void 0===s?[]:s,u=o.handles,c=void 0===u?[]:u;return this.editMode&&(c=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),l.push({type:"handle",handles:c})),l}},{key:"drawNoteContent",value:function(t){var e=this.annotation.note,n=void 0!==e.padding?e.padding:this.notePadding,r=e.orientation||t.orientation||"topBottom",i=e.lineType||t.lineType,a=e.align||t.align||"dynamic";"vertical"===i?r="leftRight":"horizontal"===i&&(r="topBottom");var o={padding:n,bbox:t.bbox,offset:this.annotation.offset,orientation:r,align:a},s=_(o),l=s.x,u=s.y;return this.offsetCornerX=l+this.annotation.dx,this.offsetCornerY=u+this.annotation.dy,this.note&&this.noteContent.transition().duration(1e3).attr("transform","translate("+l+", "+u+")"),[]}},{key:"drawOnScreen",value:function(t,e){return this.drawOnSVG(t,e)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:t})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:t}))}},{key:"setPosition",value:function(){var t=this.annotation.position;this.a.transition().duration(1e3).attr("transform","translate("+t.x+", "+t.y+")")}},{key:"setOffset",value:function(){if(this.note){var t=this.annotation.offset;this.note.transition().duration(1e3).attr("transform","translate("+t.x+", "+t.y+")")}}},{key:"setPositionWithAccessors",value:function(t){t&&this.annotation.data&&(this.mapX(t),this.mapY(t)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){e.event.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.dragstart(this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){var t=e.format(".2f"),n=t(this.annotation._dx),r=t(this.annotation._dy),i={x:this.annotation._x,y:this.annotation._y},a=this.accessorsInverse.date(i),o=t(this.accessorsInverse.yvalue(i));this.annotation.connector&&this.annotation.connector.points&&console.log("connector points (this is an array of arrays, with two points each. [[x,y],[x,y]]): "+this.annotation.connector.points),this.annotation.subject&&(this.annotation.subject.radius&&console.log("radius: "+this.annotation.subject.radius),this.annotation.subject.width&&console.log("width: "+this.annotation.subject.width),this.annotation.subject.height&&console.log("height: "+this.annotation.subject.height)),console.log("values","dx: "+n," dy: "+r," x: "+a," y: "+o," rawx: "+this.annotation._x," rawy: "+this.annotation._y),this.dispatcher&&this.dispatcher.dragend(this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var t=this.annotation.position;t.x+=e.event.dx,t.y+=e.event.dy,this.annotation.position=t}},{key:"dragNote",value:function(){var t=this.annotation.offset;t.x+=e.event.dx,t.y+=e.event.dy,this.annotation.offset=t}},{key:"mapHandles",value:function(t){var e=this;return t.map(function(t){return l({},t,{start:e.dragstarted.bind(e),end:e.dragended.bind(e)})})}}]),t}(),H=function(t,e,n){return function(t){function r(t){o(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.typeSettings=e,e.disable&&e.disable.forEach(function(t){n[t]=void 0,"note"===t&&(n.noteContent=void 0)}),n}return c(r,t),s(r,[{key:"className",value:function(){return""+(e.className||u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this)&&u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(t){return this.typeSettings.subject=l({},e.subject,this.typeSettings.subject),u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawSubject",this).call(this,l({},t,this.typeSettings.subject))}},{key:"drawConnector",value:function(t){return this.typeSettings.connector=l({},e.connector,this.typeSettings.connector),u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawConnector",this).call(this,l({},t,e.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(t){return this.typeSettings.note=l({},e.note,this.typeSettings.note),u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNote",this).call(this,l({},t,e.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(t){return u(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawNoteContent",this).call(this,l({},t,e.note,this.typeSettings.note))}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,t,e),n&&(t=n(t,e)),t}}]),r}(t)},F=function(t){function e(t){o(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.textWrap=t.textWrap||120,n.drawText(),n}return c(e,t),s(e,[{key:"updateTextWrap",value:function(t){this.textWrap=t,this.drawText()}},{key:"drawText",value:function(){if(this.note){Q(this.note,[this.annotation],"g","annotation-note-content");var t=this.note.select("g.annotation-note-content");Q(t,[this.annotation],"rect","annotation-note-bg"),Q(t,[this.annotation],"text","annotation-note-label"),Q(t,[this.annotation],"text","annotation-note-title");var e={height:0},n=this.a.select("text.annotation-note-label"),r=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap;if(this.annotation.note.title){var i=this.a.select("text.annotation-note-title");i.text(this.annotation.note.title),i.attr("fill",this.annotation.color),i.attr("font-weight","bold"),i.call(Z,r),e=i.node().getBBox()}n.text(this.annotation.note.label).attr("dx","0"),n.call(Z,r),n.attr("y",1.1*e.height||0),n.attr("fill",this.annotation.color);var a=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",a.width).attr("height",a.height).attr("x",a.x).attr("fill","white").attr("fill-opacity",0)}}}]),e}(j),W=H(F,{className:"label",note:{align:"middle"}}),B=H(F,{className:"callout",note:{lineType:"horizontal"}}),$=H(B,{className:"callout elbow",connector:{type:"elbow"}}),G=H(B,{className:"callout curve",connector:{type:"curve"}}),Y=H(j,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),q=H($,{className:"callout circle",subject:{type:"circle"}}),U=H($,{className:"callout rect",subject:{type:"rect"}}),V=function(t){function e(){return o(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),s(e,[{key:"mapY",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapY",this).call(this,t);var n=this.annotation;(n.subject.x1||n.subject.x2)&&n.data&&t.y&&(n.y=t.y(n.data)),!n.subject.x1&&!n.subject.x2||n.x||(n.x=n.subject.x1||n.subject.x2)}},{key:"mapX",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mapX",this).call(this,t);var n=this.annotation;(n.subject.y1||n.subject.y2)&&n.data&&t.x&&(n.x=t.x(n.data)),!n.subject.y1&&!n.subject.y2||n.y||(n.y=n.subject.y1||n.subject.y2)}}]),e}(B),X=H(V,{className:"callout xythreshold",subject:{type:"threshold"}}),Q=function(t,e,n,r,i){var a=t.selectAll(n+"."+(i||r)).data(e);return a.enter().append(n).attr("class",r),a.exit().remove(),t},K=function(t,n,r){var i=r.component,a=r.name;i&&i.on("mouseover.annotations",function(){e.dispatch.call(a+"over",i,n)}).on("mouseout.annotations",function(){return e.dispatch.call(a+"out",i,n)}).on("click.annotations",function(){return e.dispatch.call(a+"click",i,n)})},Z=function(t,n){
var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.2;t.each(function(){for(var t=e.select(this),i=t.text().split(/[ \t\r\n]+/).reverse().filter(function(t){return""!==t}),a=void 0,o=[],s=t.text(null).append("tspan").attr("x",0).attr("dy","0.8em");a=i.pop();)o.push(a),s.text(o.join(" ")),s.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),s.text(o.join(" ")),o=[a],s=t.append("tspan").attr("x",0).attr("dy",r+"em").text(a))})},J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":not(.handle)";if(!t)return{x:0,y:0,width:0,height:0};var n=[];return t.selectAll(e).each(function(t){n.push(this)}),n.reduce(function(t,e){var n=e.getBBox();t.x=Math.min(t.x,n.x),t.y=Math.min(t.y,n.y),t.width=Math.max(t.width,n.width);var r=e&&e.attributes&&e.attributes.y;return t.height=Math.max(t.height,(r&&parseFloat(r.value)||0)+n.height),t},{x:0,y:0,width:0,height:0})},tt={annotation:a,annotationTypeBase:j,annotationLabel:W,annotationCallout:B,annotationCalloutCurve:G,annotationCalloutElbow:$,annotationCalloutCircle:q,annotationCalloutRect:U,annotationXYThreshold:X,annotationBadge:Y,annotationCustomType:H};t.annotation=a,t.annotationTypeBase=j,t.annotationLabel=W,t.annotationCallout=B,t.annotationCalloutCurve=G,t.annotationCalloutElbow=$,t.annotationCalloutCircle=q,t.annotationCalloutRect=U,t.annotationXYThreshold=X,t.annotationBadge=Y,t.annotationCustomType=H,t["default"]=tt,Object.defineProperty(t,"__esModule",{value:!0})});var forest1="#C4D6C4",forest2="#A5C3A8",forest3="#73A97F",forest4="#008C4E",forest5="#007741",forest6="#005027",green1="#CBE1C8",green2="#AED3AB",green3="#7DBE80",green4="#0AA74B",green5="#008C3E",green6="#005E25",olive1="#E0EDCB",olive2="#D0E4AF",olive3="#B4D682",olive4="#8FC641",olive5="#74A535",olive6="#476E1E",lime1="#EFF4CC",lime2="#E8EEAF",lime3="#DBE580",lime4="#CADB2E",lime5="#A6B626",lime6="#6A7812",yellow1="#FCF8CD",yellow2="#FBF5B0",yellow3="#F9F17E",yellow4="#F6EB0E",yellow5="#CAC313",yellow6="#838103",tangerine1="#FFECC6",tangerine2="#FFE3A7",tangerine3="#FFD576",tangerine4="#FDC218",tangerine5="#D0A115",tangerine6="#886A00",orange1="#FDD5BB",orange2="#FBBE99",orange3="#F79967",orange4="#F26725",orange5="#C8551D",orange6="#843401",red1="#FBC9BA",red2="#F8AB98",red3="#F37B68",red4="#EC2033",red5="#C31729",red6="#82000D",rose1="#E9C3C8",rose2="#DFA4AE",rose3="#D17589",rose4="#C02460",rose5="#A11950",rose6="#6B0031",violet1="#DABFD1",violet2="#C99FBB",violet3="#B1709B",violet4="#952978",violet5="#7E1E65",violet6="#530041",purple1="#CABDDC",purple2="#B19CC9",purple3="#8D6EAE",purple4="#653290",purple5="#552479",purple6="#360451",navy1="#BCC2E0",navy2="#9BA4CF",navy3="#697CB8",navy4="#0F519F",navy5="#0A4286",navy6="#002459",blue1="#C8DAF0",blue2="#ABC8E8",blue3="#7AADDC",blue4="#1F8FCE",blue5="#1B78AC",blue6="#044F74",cyan1="#CFE8F9",cyan2="#B5DDF6",cyan3="#86CCF1",cyan4="#2AB8EB",cyan5="#259AC5",cyan6="#0C6785",gray1="#DCDDDE",gray2="#BCBEC0",gray3="#939598",gray4="#6D6E71",gray5="#4D4D4F",gray6="#414042",grey1="#AFBABF",grey2="#D4D8DA",black="#231F20",white="#FFFFFF",staticnav=grey1,selectednav=black;Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.DataPointModel=Backbone.Model.extend({initialize:function(t,e){},parse:function(t,e){return t.date&&(t.rawDate=t.date,t.date=e.collection.parseDate(t.date),t.displayDate=e.collection.dateFormat(t.date)),t}}),Reuters.Graphics.DataPointCollection=Backbone.Collection.extend({initialize:function(t,e){var n=this;_.each(e,function(t,e){n[e]=t})},comparator:function(t){return t.get("date")},model:Reuters.Graphics.DataPointModel,parse:function(t){return t}}),Reuters.Graphics.DataSeriesModel=Backbone.Model.extend({defaults:{name:void 0,values:void 0,visible:!0},initialize:function(t,e){var n=this,r=0,i=0,a=n.get("name"),o=n.get("values").at(0),s=parseFloat(o.get(a));n.get("values").each(function(t){var o,l,u=n.get("values").at(n.get("values").indexOf(t)-1),c=parseFloat(t.get(a));if(u){var d=c;u.get(a)&&(d=parseFloat(u.get(a).value)),o=c-d,r+=o,i+=c,l=100*(c/s-1),t.set(a,{changePreMonth:o,cumulate:i,CumulativeChange:r,percentChange:l,value:c/e.collection.divisor})}else t.set(a,{changePreMonth:0,cumulate:c,CumulativeChange:0,percentChange:0,value:c/e.collection.divisor})})},parse:function(t,e){return t}}),Reuters.Graphics.DateSeriesCollection=Backbone.Collection.extend({initialize:function(t,e){var n=this;_.each(e,function(t,e){n[e]=t})},comparator:function(t){var e=this,n=t.get("name"),r=t.get("values").last();if("none"!=e.groupSort){for(index=t.get("values").length-1;index>-1;index--)if(!isNaN(parseFloat(t.get("values").at(index).get(n)[e.dataType]))){r=t.get("values").at(index);break}var i=r.get(n)[e.dataType];r.get("category")&&(i=t.get("values").max(function(t){return t.get(n)[e.dataType]}).get(n)[e.dataType]);var a=1;return Array.isArray(e.groupSort)?e.groupSort.indexOf(n):("descending"==e.groupSort&&(a=-1),a*i)}},model:Reuters.Graphics.DataSeriesModel,parse:function(t){var e=this;return e.on("reset",function(t){t.first().get("values").first().get("category")&&e.categorySorter(t),e.makeStacks(t)}),e.on("change",function(t){e.makeStacks(t)}),t},categorySorter:function(t){var e=this,n=t.last().get("name"),r=1;"descending"==e.categorySort&&(r=-1),"none"!=e.categorySort&&(t.last().get("values").models.sort(function(t,i){return t.get(n)[e.dataType]>i.get(n)[e.dataType]?1*r:t.get(n)[e.dataType]<i.get(n)[e.dataType]?-1*r:0}),Array.isArray(e.categorySort)||(e.categorySort=[],t.last().get("values").each(function(t){e.categorySort.push(t.get("category"))})),t.each(function(t){t.get("values").models.sort(function(t,n){return e.categorySort.indexOf(t.get("category"))>e.categorySort.indexOf(n.get("category"))?1:e.categorySort.indexOf(t.get("category"))<e.categorySort.indexOf(n.get("category"))?-1:0})}))},makeStacks:function(t){var e=this,n=e.filter(function(t){return t.get("visible")});n.forEach(function(t,r){var i=t.get("name");t.get("values").each(function(t,a){var o,s=0,l=0,u=0,c=0,d=0,h=t.get(i)[e.dataType];for(n.forEach(function(t,n){var r=t.get("name"),i=t.get("values").at(a).get(r)[e.dataType];i>=0?u+=i:d+=i}),o=r;o<n.length;o++){var f=n[o].get("name"),p=n[o].get("values").at(a).get(f)[e.dataType];p>0?(s+=p,c+=p/u*100):l+=p}var g=s-h,m=s;h<0&&(g=l-h,m=l),t.set(i,_.extend(t.get(i),{y0Total:g,y1Total:m,stackTotal:u,stackMin:d,y0Percent:c-h/u*100,y1Percent:c}))})})}}),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.ChartBase=Backbone.View.extend({groupSort:"descending",categorySort:"ascending",margin:{top:40,right:20,bottom:30,left:40},dateFormat:d3.time.format("%b %Y"),tipTemplate:Reuters.Graphics.basicCharter.Template.tooltip,chartTemplate:Reuters.Graphics.basicCharter.Template.chartTemplate,legendTemplate:Reuters.Graphics.basicCharter.Template.legendTemplate,tipNumbFormat:function(t){var e=this;return isNaN(t)===!0?"N/A":e.dataLabels[0]+e.numbFormat(t)+e.dataLabels[1]},colors:[blue3,purple3,orange3,red3,yellow3],dataType:"value",xScaleTicks:5,yScaleTicks:5,YTickLabel:[["",""]],numbFormat:d3.format(",.0f"),lineType:"linear",chartBreakPoint:300,hasLegend:!0,xOrY:"x",yOrX:"y",leftOrTop:"left",heightOrWidth:"height",widthOrHeight:"width",topOrLeft:"top",bottomOrRight:"bottom",firstRun:!0,rightOrBottom:"right",recessionDateParse:d3.time.format("%m/%d/%Y").parse,updateCount:0,divisor:1,visiblePosition:"onScreen",annotationType:d3.annotationLabel,timelineDate:d3.time.format("%m/%d/%Y"),timelineDateDisplay:d3.time.format("%b %e, %Y"),timelineTemplate:Reuters.Graphics.basicCharter.Template.tooltipTimeline,quarterFormater:function(t){var e=d3.time.format(" %Y"),n=d3.time.format("%m"),r={"01":"Q1","02":"Q1","03":"Q1","04":"Q2","05":"Q2","06":"Q2","07":"Q3","08":"Q3","09":"Q3",10:"Q4",11:"Q4",12:"Q4"};return r[n(t)]+e(t)},xTickFormat:Reuters.CurrentLocale.timeFormat.multi([["%H:%M",function(t){return t.getMinutes()}],["%H:%M",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",function(){return!0}]]),initialize:function(t){var e=this;this.options=t,_.each(t,function(t,n){e[n]=t}),this.quarterFormat&&(this.dateFormat=this.quarterFormater),e.timelineData?e.loadTimelineData():e.loadData()},loadData:function(){var t=this;this.dataURL.indexOf("csv")!=-1||_.isObject(this.dataURL)||d3.json(t.dataURL,function(e){t.parseData(e)}),this.dataURL.indexOf("csv")>-1&&d3.csv(t.dataURL,function(e){t.parseData(e)}),_.isObject(this.dataURL)&&setTimeout(function(){t.parseData(t.dataURL)},100)},loadTimelineData:function(){var t=this;if(this.timelineData.indexOf("csv")==-1&&"object"!=babelHelpers["typeof"](this.timelineData)&&d3.json(t.timelineData,function(e){t.timelineData=e,t.loadData()}),this.timelineData.indexOf("csv")>-1&&d3.csv(t.timelineData,function(e){t.timelineData=e,t.loadData()}),"object"==babelHelpers["typeof"](this.timelineData))return void t.loadData()},formatDataStream:function(t){var e=[];return t.Dates.forEach(function(n,r){var i={},a=n.replace(/\//g,"").replace("Date(","").replace(")","").replace("+0000",""),o=new Date((+a)),s=new Date(o.valueOf()+6e4*o.getTimezoneOffset()),l=s.getMonth()+1+"/"+s.getDate()+"/"+s.getFullYear();i.date=l,t.DataTypeValues[0].SymbolValues.forEach(function(e,n){var a=t.DataTypeValues[0].SymbolValues[n].Symbol;i[a]=t.DataTypeValues[0].SymbolValues[n].Value[r]}),e.push(i)}),e},parseData:function(t){var e=this;if(e.dataStream){var n=t.DataResponse||t.DataResponses[0];t=e.formatDataStream(n)}if(t[0].date&&(e.hasTimeScale=!0),e.hasTimeScale&&!e.parseDate&&(2==t[0].date.split("/")[2].length&&(e.parseDate=d3.time.format("%m/%d/%y").parse),4==t[0].date.split("/")[2].length&&(e.parseDate=d3.time.format("%m/%d/%Y").parse)),e.chartLayoutLables&&(e.chartLayout=e.chartLayoutLables[e.chartLayoutLables.length-1]),e.horizontal&&(e.xOrY="y",e.yOrX="x",e.leftOrTop="top",e.heightOrWidth="width",e.widthOrHeight="height",e.topOrLeft="left",e.bottomOrRight="right",e.rightOrBottom="bottom"),e.columnNames||(e.columnNames=_.keys(t[0]).filter(function(t){return"date"!=t&&"category"!=t&&"type"!==t&&"rawDate"!==t&&"displayDate"!==t}),e.columnNamesDisplay=e.columnNames),_.isObject(e.columnNames)&&!_.isArray(e.columnNames)&&(e.columnNamesDisplay=_.values(e.columnNames),e.columnNames=_.keys(e.columnNames)),_.isArray(e.columnNames)&&!e.columnNamesDisplay&&(e.columnNamesDisplay=e.columnNames),e.colorScale=d3.scale.ordinal(),_.isObject(e.colors)&&!_.isArray(e.colors)&&(e.colorScale.domain(_.keys(e.colors)),e.colorScale.range(_.values(e.colors))),_.isArray(e.colors)&&(e.colorScale.domain(e.columnNames),e.colorScale.range(e.colors)),t[0].type){e.multiDataColumns||(e.multiDataColumns=_.uniq(_.pluck(t,"type")));var r=_.groupBy(t,"type");e.multiDataColumns.forEach(function(t){e.modelData(r[t],t)})}else e.multiDataColumns&&(e.dataType=e.multiDataColumns[e.multiDataColumns.length-1]),e.modelData(t,"dataholder");!e.multiDataLabels&&e.multiDataColumns&&(e.multiDataLabels=e.multiDataColumns),e.flattenData(e.chartData),e.baseRender(),e.renderChart()},modelData:function(t,e){var n=this;n.groupedData||(n.groupedData={}),n.groupedData[e]=new Reuters.Graphics.DataPointCollection([],{parseDate:n.parseDate,dateFormat:n.dateFormat}),n.groupedData[e].reset(t,{parse:!0}),n[e]=new Reuters.Graphics.DateSeriesCollection([],{parseDate:n.parseDate,groupSort:n.groupSort,divisor:n.divisor,categorySort:n.categorySort,dataType:n.dataType,multiDataColumns:n.multiDataColumns,dateFormat:n.dateFormat}),n[e].reset(n.columnNames.map(function(t,r){return{name:t,displayName:n.columnNamesDisplay[r],values:n.groupedData[e]}}),{parse:!0}),n.chartData=n[e]},flattenData:function(t){var e=this,n=t.filter(function(t){return t.get("visible")});if(e.jsonData=_.invoke(n,"toJSON"),e.jsonData.forEach(function(t){var e=t.name;t.values=t.values.toJSON(),t.values.forEach(function(t){_.extend(t,t[e]),t.name=e})}),1!=e.jsonData.length||e.options.hasLegend||(e.hasLegend=!1),e.jsonData.length>1&&0!=e.options.hasLegend&&(e.hasLegend=!0),e.timelineData){e.showTip=!0;var r=null;e.timelineData.forEach(function(t){t.parsedDate=e.parseDate(t.date),e.chartData.first().get("values").each(function(n,i){(null===r||Math.abs(n.get("date")-t.parsedDate)<Math.abs(r-t.parsedDate))&&(r=n.get("date")),t.closestDate=r,t.formatedDate=e.timelineDate(t.closestDate)})}),e.timelineDataGrouped=_.groupBy(e.timelineData,"formatedDate")}},barCalculations:function(){var t=this;t.dataLength=0,t.jsonData.forEach(function(e){e.values.length>t.dataLength&&(t.dataLength=e.values.length)}),t.numberOfObjects=function(){return"onTopOf"==t.chartLayout||"outlineBar"==t.chartLayout?1:t.jsonData.length},t.widthOfBar=function(){return"stackTotal"==t.chartLayout||"stackPercent"==t.chartLayout?t[t.widthOrHeight]/t.dataLength-t[t.widthOrHeight]/t.dataLength*.2:t[t.widthOrHeight]/(t.dataLength*t.numberOfObjects())-t[t.widthOrHeight]/(t.dataLength*t.numberOfObjects())*.2}},baseRender:function(){var t=this;return t.trigger("baseRender:start"),t.topLegend&&(t.chartBreakPoint=3e3),t.$el.html(t.chartTemplate({self:t})),t.$el.width()<t.chartBreakPoint&&t.$el.find(".chart-holder").addClass("smaller"),t.targetDiv=t.$el.attr("id"),t.chartDiv=t.targetDiv+" .chart",t.legendDiv=t.targetDiv+" .legend",t.$chartEl=$("#"+t.chartDiv),t.$legendEl=$("#"+t.legendDiv),t.width=t.$chartEl.width()-t.margin.left-t.margin.right,t.options.height||(t.height=t.$chartEl.width()-t.margin.top-t.margin.bottom),t.options.height<10&&($(window).width()<400?t.height=t.$chartEl.width()-t.margin.top-t.margin.bottom:t.height=t.$chartEl.width()*t.options.height-t.margin.top-t.margin.bottom),t.barCalculations(),t.svg=d3.select("#"+t.chartDiv).append("svg").attr({width:t.width+t.margin.left+t.margin.right,height:t.height+t.margin.top+t.margin.bottom}).append("g").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),t.svg.append("svg:rect").attr({width:t.width,height:t.height,"class":"plot"}),t.clip=t.svg.append("svg:clipPath").attr("id","clip"+t.targetDiv).append("svg:rect").attr({x:-t.margin.left,y:-4,width:t.width+t.margin.left+8,height:t.height+8}),this.scales={x:this.getXScale(),y:this.getYScale()},t.recessionMaker(),t.scaleMaker(),t.toolTipMaker(),t.legendMaker(),t.multiDataMaker(),t.chartLayoutMaker(),t.baseUpdate(1),t.annotations&&t.labelAdder(),$(window).scroll(function(){t.scrollAnimate()}),$(window).on("resize",_.debounce(function(e){var n=t.$el.width();n<t.chartBreakPoint?t.$el.find(".chart-holder").addClass("smaller"):t.$el.find(".chart-holder").removeClass("smaller"),t.update()},100)),t.trigger("baseRender:end"),this},setWidthAndMargins:function(){var t=this,e=-1;$("#"+t.targetDiv+" .y.axis").find("text").not(".topTick").each(function(){e=e>$(this).width()?e:$(this).width()}),0===e&&$("#"+t.targetDiv+" .y.axis").find("text").not(".topTick").each(function(){e=e>$(this)[0].getBoundingClientRect().width?e:$(this)[0].getBoundingClientRect().width}),t.options.margin||(t.margin={top:15,right:20,bottom:30,left:9+e},"right"==t.yorient&&(t.margin.left=5,t.margin.right=20+e),"top"==t.xorient&&(t.margin.top=30,t.margin.bottom=15)),t.width=this.$chartEl.width()-t.margin.left-t.margin.right,t.options.height||(t.height=t.$chartEl.width()-t.margin.top-t.margin.bottom),t.options.height<10&&($(window).width()<400?t.height=t.$chartEl.width()-t.margin.top-t.margin.bottom:t.height=t.$chartEl.width()*t.options.height-t.margin.top-t.margin.bottom)},recessionMaker:function(){var t=this;if(t.hasRecessions){var e=[{recess:[{start:"5/1/1937",end:"6/1/1938"},{start:"2/1/1945",end:"10/1/1945"},{start:"11/1/1948",end:"10/1/1949"},{start:"7/1/1953",end:"5/1/1954"},{start:"8/1/1957",end:"4/1/1958"},{start:"4/1/1960",end:"2/1/1961"},{start:"12/1/1969",end:"11/1/1970"},{start:"11/1/1973",end:"3/1/1975"},{start:"1/1/1980",end:"7/1/1980"},{start:"7/1/1981",end:"11/1/1982"},{start:"7/1/1990",end:"3/1/1991"},{start:"3/1/2001",end:"11/1/2001"},{start:"12/1/2007",end:"6/1/2009"}]}];t.recessions=t.svg.selectAll(".recession").data(e),t.recessionsEnter=t.recessions.enter().append("g").attr({"clip-path":"url(#clip"+t.targetDiv+")","class":"recession"}),t.recessionsEnter.selectAll("rect").data(function(t){return t.recess}).enter().append("rect").attr({"class":"recessionBox",x:function(e){return t.scales.x(t.recessionDateParse(e.start))},y:0,width:function(e){return t.scales.x(t.recessionDateParse(e.end))-t.scales.x(t.recessionDateParse(e.start))},height:t.height})}},scaleMaker:function(){var t=this;t.xAxis=d3.svg.axis().scale(t.scales[t.xOrY]).orient("bottom").ticks(t[t.xOrY+"ScaleTicks"]).tickPadding(8),t.yAxis=d3.svg.axis().scale(t.scales[t.yOrX]).orient("left").ticks(t[t.yOrX+"ScaleTicks"]).tickPadding(8),"right"==t.yorient&&t.yAxis.orient("right").tickPadding(20),"top"==t.xorient&&t.xAxis.orient("top"),t.horizontal&&t.xAxis.tickSize(0-t.height).tickPadding(12),t.tickAll&&(t.fullDateDomain=[],t.smallDateDomain=[],t.chartData.first().get("values").each(function(e,n){t.fullDateDomain.push(e.get("date")),0!==n&&n!=t.dataLength-1||t.smallDateDomain.push(e.get("date"))})),(t.hasTimeScale||t.options.xTickFormat)&&t[t.xOrY+"Axis"].tickFormat(t.xTickFormat),"tier"==t.chartLayout&&t[t.yOrX+"Axis"].ticks(2),t.yTickFormat&&t[t.yOrX+"Axis"].tickFormat(t.yTickFormat),t.horizontal?t.yAxis.tickSize(0):t.yAxis.tickSize(0-t.width),t.yScaleVals&&!t.hasZoom&&t[t.yOrX+"Axis"].tickValues(t.yScaleVals),t.svg.append("svg:g").attr("class","x axis"),t.svg.selectAll(".x.axis").attr("transform",function(e,n){var r=t.height;"top"==t.xorient&&(r=0);var i=0;return"sideBySide"!=t.chartLayout||t.horizontal||(i=t.widthOfBar()/2),"sideBySide"!=t.chartLayout&&(n=0),"translate("+(n*(t[t.widthOrHeight]/t.numberOfObjects())+i)+","+r+")"}).call(t.xAxis),t.svg.append("svg:g").attr("class","y axis"),t.svg.selectAll(".y.axis").attr("transform",function(e,n){if("right"==t.yorient)return"translate("+t.width+",0)";if("sideBySide"==t.chartLayout&&t.horizontal){var r=n*(t[t.widthOrHeight]/t.numberOfObjects())+t.widthOfBar()/2,i=0;return"translate("+i+","+r+")"}}).call(t.yAxis),t.adjustXTicks(),t.horizontal||t.svg.selectAll(".y.axis line").attr("x1",-t.margin.left),t.dataLabels=t.YTickLabel[t.YTickLabel.length-1],t.topTick(t.dataLabels)},makeZeroLine:function(){var t=this;t.zeroLine=t.svg.append("line").attr("class","zeroAxis").attr("clip-path","url(#clip"+t.targetDiv+")").attr(t.xOrY+"1",function(){return t.horizontal?0:-t.margin[t.leftOrTop]}).attr(t.xOrY+"2",t[t.widthOrHeight]).attr(t.yOrX+"1",t.scales.y(0)).attr(t.yOrX+"2",t.scales.y(0))},topTick:function t(e){var n=this;d3.selectAll("#"+n.targetDiv+" .topTick").remove();var t=$("#"+n.targetDiv+" ."+n.yOrX+".axis .tick:last-of-type").find("text"),r=t.height();0===r&&(r=t[0].getBoundingClientRect().height),d3.selectAll("#"+n.targetDiv+" ."+n.yOrX+".axis .tick text").attr("transform","translate(0,-"+r/2+")");var i=t.text(),a="";n.horizontal&&(a=e[1]),t.text(e[0]+i+a),n.horizontal||t.clone().appendTo(t.parent()).text(e[1]).css("text-anchor","start").attr("class","topTick")},toolTipMaker:function(){var t=this;t.baseElement=document.getElementById(t.targetDiv).querySelector("svg"),t.svgFind=t.baseElement,t.pt=t.svgFind.createSVGPoint(),t.xPointCursor=0-t.margin[t.leftOrTop]-500,t.cursorLine=t.svg.append("svg:line").attr("class","cursorline").attr("clip-path","url(#clip"+t.targetDiv+")").attr(t.xOrY+"1",t.xPointCursor).attr(t.xOrY+"2",t.xPointCursor).attr(t.yOrX+"1",0).attr(t.yOrX+"2",t[t.heightOrWidth]),t.tooltip=d3.select("#"+t.chartDiv).append("div").attr("class","reuters-tooltip").style({opacity:0,display:function(){return t.showTip||!t.hasLegend?"block":"none"}}),t.svgmove=t.svgFind.addEventListener("mousemove",function(e){return t.tooltipMover(e)},!1),t.svgtouch=t.svgFind.addEventListener("touchmove",function(e){return t.tooltipMover(e)},!1),t.svgout=t.svgFind.addEventListener("mouseout",function(e){return t.tooltipEnd(e)},!1),t.svgtouchout=t.svgFind.addEventListener("touchend",function(e){return t.tooltipEnd(e)},!1)},tooltipMover:function(t,e){var e=this;e.loc=e.cursorPoint(t),e.xPointCursor=e.loc[e.xOrY],e.yPointCursor=e.loc[e.yOrX];var n=0;if("sideBySide"==e.chartLayout){var r=e[e.widthOrHeight]/e.numberOfObjects();for(i=0;i<e.numberOfObjects();i++)e.xPointCursor-e.margin[e.leftOrTop]>r&&(e.xPointCursor=e.xPointCursor-r,n+=r)}"tier"==e.chartLayout&&(n=e.widthOfBar()*e.numberOfObjects()/2-e.widthOfBar()/2);var a=0;e.closestData=null;var o=e.xPointCursor-parseFloat(e.margin[e.leftOrTop]);if("sideBySide"==e.chartLayout){var s=e.width/e.numberOfObjects();o>2*s&&(o-=2*s),o>s&&(o-=s)}if(e.hasTimeScale)e.locationDate=e.scales.x.invert(o),e.chartData.first().get("values").each(function(t,n){var r;_.each(t.attributes,function(t,e){_.isObject(t)&&"date"!=e&&t.value&&(r=!0)}),(r||e.showZeros)&&(null===e.closestData||Math.abs(t.get("date")-e.locationDate)<Math.abs(e.closestData-e.locationDate))&&(e.closestData=t.get("date"))}),e.timelineData&&(e.closestData=null,e.timelineData.forEach(function(t,n){(null===e.closestData||Math.abs(t.closestDate-e.locationDate)<Math.abs(e.closestData-e.locationDate))&&(e.closestData=t.closestDate)}));else{var l=null;e.scales.x.range().forEach(function(t,n){var r;e.chartData.first().get("values").each(function(t){t.get("category")==e.scales.x.domain()[n]&&_.each(t.attributes,function(t,e){_.isObject(t)&&"category"!=e&&t.value&&(r=!0)})}),(r||e.showZeros)&&(null===l||Math.abs(t-o)<Math.abs(l-o))&&(l=t)});var u=e.scales.x.range().indexOf(l);e.closestData=e.scales.x.domain()[u],a=e.widthOfBar()/2,"line"==e.chartType&&(a=0)}if(e.cursorLine.attr(e.xOrY+"1",e.scales.x(e.closestData)+a+n).attr(e.xOrY+"2",e.scales.x(e.closestData)+a+n),e.highlightCurrent(),e.tooltip.html(function(t){return e.tipTemplate({self:e,data:e.makeTipData()})}).style(e.leftOrTop,function(t){var r=$("#"+e.targetDiv+" .reuters-tooltip").outerWidth();return e.horizontal&&(r=$("#"+e.targetDiv+" .reuters-tooltip").outerHeight()),e.xPointCursor<(e.margin.left+e.width+e.margin.right)/2?e.margin[e.leftOrTop]+e.scales.x(e.closestData)+a+n+15+"px":e.scales.x(e.closestData)+a-r+15+"px"}).style(e.topOrLeft,function(t){var n=$("#"+e.targetDiv+" .reuters-tooltip").height();return e.horizontal&&(n=$("#"+e.targetDiv+" .reuters-tooltip").outerWidth()),e.yPointCursor>2*(e.margin.top+e.height+e.margin.bottom)/3?e.yPointCursor-n-20+"px":e.yPointCursor<(e.margin.top+e.height+e.margin.bottom)/3?e.yPointCursor+"px":e.yPointCursor-n/2+"px"}),e.hasLegend){var c=e.makeTipData();d3.select("#"+e.legendDiv).selectAll(".valueTip").data(c,function(t){return t.name}).html(function(t,n){return"stackPercent"==e.chartLayout?e.tipNumbFormat(t.y1Percent-t.y0Percent):e.tipNumbFormat(t[e.dataType])}),e.legendDate.html(function(){return c[0].category?c[0].category:c[0].quarters?c[0].quarters+c[0].displayDate:c[0].displayDate}),e.setLegendPositions()}e.tooltip.style({opacity:1}),e.trigger("tooltipMover:end")},highlightCurrent:function(){var t=this;"bar"==t.chartType&&t.barChart.selectAll(".bar").classed("lighter",function(e){return e.date!=t.closestData&&e.category!=t.closestData}),"line"==t.chartType&&t.lineChart.selectAll(".tipCircle").classed("highlight",function(e){return e.date==t.closestData||e.category==t.closestData})},makeTipData:function(){var t=this,e="category";t.hasTimeScale&&(e="date");var n=t.chartData.filter(function(t){return t.get("visible")}),r=[];return n.forEach(function(n){var i=n.get("name"),a=n.get("displayName"),o=d3.time.format("%m/%d/%Y %H:%M:%S"),s=n.get("values").filter(function(n){return t.hasTimeScale?o(n.get(e))==o(t.closestData):n.get(e)==t.closestData});s.forEach(function(t){var e=t.toJSON();_.extend(e,e[i]),e.name=i,e.displayName=a,r.push(e)})}),r},cursorPoint:function(t){var e=this;return t.clientX&&t.clientY?(e.pt.x=t.clientX,e.pt.y=t.clientY):t.targetTouches&&(e.pt.x=t.targetTouches[0].clientX,e.pt.y=t.targetTouches[0].clientY,e.pt.deltaX=Math.abs(e.pt.x-e.pt.lastX),e.pt.deltaY=Math.abs(e.pt.y-e.pt.lastY),e.pt.deltaX>e.pt.deltaY&&t.preventDefault(),e.pt.lastY=e.pt.y,e.pt.lastX=e.pt.x),e.pt.matrixTransform(e.svgFind.getScreenCTM().inverse())},tooltipEnd:function(t){var e=this;e.cursorLine.attr(e.xOrY+"1",0-e.margin[e.leftOrTop]-10).attr(e.xOrY+"2",0-e.margin[e.leftOrTop]-10),e.tooltip.style("opacity",0),e.hasLegend&&(e.legendItems.selectAll(".valueTip").html("<br>"),e.legendDate.html("<br>"),e.setLegendPositions()),"bar"==e.chartType&&e.barChart.selectAll(".bar").classed("lighter",!1),"line"==e.chartType&&e.lineChart.selectAll(".tipCircle").classed("highlight",!1)},multiDataMaker:function(){var t=this;t.multiDataColumns&&t.$(".chart-nav .btn").on("click",function(e){var n=$(this).attr("dataid"),r=t.$(".chart-nav .btn").index(this);t.YTickLabel[r]?t.dataLabels=t.YTickLabel[r]:t.dataLabels=t.YTickLabel[0],t[n]?(t.chartData=t[n],t.flattenData(t.chartData)):t.dataType=n,t.update()})},chartLayoutMaker:function(){var t=this;t.chartLayoutLables&&(t.makeNavLayout=d3.select("#"+t.targetDiv+" .chart-layout").append("div").attr("class","layoutNavContainer"),t.makeNavLayoutButtons=t.makeNavLayout.selectAll(".layoutNavButtons").data(t.chartLayoutLables).enter().append("div").attr("class","layoutNavButtons").attr("dataid",function(t){return t}).style("background-position",function(e){var n=["basicbar","stackTotalbar","stackPercentbar","sideBySidebar","tierbar","onTopOfbar","basicline","stackTotalline","stackPercentline","fillLinesline"],r=n.indexOf(e+t.chartType);return"0px "+-(40*r)+"px"}).classed("selected",function(e,n){return n==t.chartLayoutLables.length-1}).on("click",function(e,n){if(!$(this).hasClass("selected")){$(this).attr("dataid");$(this).addClass("selected").siblings().removeClass("selected"),t.chartLayout=e,t.YTickLabel[n]?t.dataLabels=t.YTickLabel[n]:t.dataLabels=t.YTickLabel[0],"stackPercent"==t.chartLayout&&(t.dataLabels=["","%"]),t.update()}}))},legendMaker:function(){var t=this;t.hasLegend&&(t.$legendEl.html(t.legendTemplate({data:t.jsonData,self:t})),t.legendItems=d3.selectAll("#"+t.legendDiv+" .legendItems").data(t.jsonData).on("click",function(e){var n=this;t.chartData.where({name:e.name}).forEach(function(t){$(n).hasClass("clicked")?t.set({visible:!0}):t.set({visible:!1})}),t.multiDataColumns&&t[t.multiDataColumns[0]]&&t.multiDataColumns.forEach(function(r){t[r].where({name:e.name}).forEach(function(t){$(n).hasClass("clicked")?t.set({visible:!0}):t.set({visible:!1})})}),$(this).toggleClass("clicked"),t.flattenData(t.chartData),t.update()}),t.legendValues=d3.select("#"+t.legendDiv).selectAll(".valueTip").data(t.jsonData),t.legendDate=d3.selectAll("#"+t.legendDiv+" .dateTip"),t.setLegendPositions())},setLegendPositions:function(){var t=this;if(t.hasLegend){var e=0;t.legendItems.data(t.jsonData,function(t){return t.name}).style("top",function(t,n){var r=e;return e+=$(this).height()+5,r+"px"}),t.legendItems.data(t.jsonData,function(t){return t.name}).exit().style("top",function(t,n){var r=e;return e+=$(this).height()+5,r+"px"})}},adjustXTicks:function(){var t=this,e=0;$("#"+t.targetDiv+" .x.axis .tick").find("text").each(function(t){e+=$(this).width()+5}),t.tickAll&&t[t.xOrY+"Axis"].tickValues(t.fullDateDomain),e>t.width&&(t.horizontal?t.xAxis.ticks(3):t.xAxis.ticks(2),t.tickAll&&t[t.xOrY+"Axis"].tickValues(t.smallDateDomain))},scrollAnimate:function(){var t=this;if(!Reuters.hasPym){var e,n=$(window).scrollTop(),r=t.$el.offset().top,i=$(window).height(),a=n+.8*i;if(a>r){var e="onScreen";if(t.visiblePosition==e)return;t.animateIn()}else{var e="offScreen";if(t.visiblePosition==e)return;t.animateOut()}t.visiblePosition=e}},animateIn:function(){var t=this;t.barChart&&t.barChart.selectAll(".bar").transition().duration(1e3).attr(t.yOrX,function(e){return t.yBarPosition(e)}).attr(t.heightOrWidth,function(e){return t.barHeight(e)}).attr(t.widthOrHeight,function(e,n,r){return t.barWidth(e,n,r)}).attr(t.xOrY,function(e,n,r){return t.xBarPosition(e,n,r)}),t.lineChart&&(t.lineChart.selectAll("path.line").transition().duration(1500).delay(function(t,e){return 100*e}).attrTween("d",function(e){var n=d3.scale.quantile().domain([0,1]).range(d3.range(1,e.values.length+1));return function(r){return t.line(e.values.slice(0,n(r)))}}),t.lineChart.selectAll("path.area").transition().duration(1500).delay(function(t,e){return 100*e}).attrTween("d",function(e){var n=d3.scale.quantile().domain([0,1]).range(d3.range(1,e.values.length+1));return function(r){return t.area(e.values.slice(0,n(r)))}}))},animateOut:function(){var t=this;t.barChart&&t.barChart.selectAll(".bar").transition().duration(1e3).attr(t.heightOrWidth,0).attr(t.yOrX,t.scales.y(0)),t.lineChart&&(t.lineChart.selectAll("path.line").attr("d",function(e){return t.line(e.values[0])}),t.lineChart.selectAll("path.area").attr("d",function(e){return t.area(e.values[0])}))},baseUpdate:function(t){var e=this;e.trigger("baseUpdate:start"),t||(t=1e3),e.setWidthAndMargins(),e.setLegendPositions(),e.barCalculations(),e.svg.selectAll(".cursorline").attr(e.yOrX+"1",0).attr(e.yOrX+"2",e[e.heightOrWidth]),d3.select("#"+e.targetDiv+" svg").transition().duration(t).attr({width:e.width+e.margin.left+e.margin.right,height:e.height+e.margin.top+e.margin.bottom}),e.svg.transition().duration(t).attr("transform","translate("+e.margin.left+","+e.margin.top+")"),e.svg.select(".plot").transition().duration(t).attr({width:e.width,height:e.height}),e.clip.transition().duration(t).attr({x:-e.margin.left,y:-4,width:e.width+e.margin.left+8,height:e.height+8}),this.scales={x:this.getXScale(),y:this.getYScale()},e.xAxis.scale(e.scales[e.xOrY]),e.yAxis.scale(e.scales[e.yOrX]),e[e.yOrX+"Axis"].tickSize(0-e[e.widthOrHeight]),"tier"==e.chartLayout?e[e.yOrX+"Axis"].ticks(2):(e.yAxis.ticks(e[e.yOrX+"ScaleTicks"]),e.xAxis.ticks(e[e.xOrY+"ScaleTicks"])),1==e.updateCount&&e.adjustXTicks(),e.svg.selectAll(".x.axis").transition().duration(t).attr("transform",function(t,n){var r=e.height;"top"==e.xorient&&(r=0);var i=0;return"sideBySide"!=e.chartLayout||e.horizontal||(i=e.widthOfBar()/2),"sideBySide"!=e.chartLayout&&(n=0),"translate("+(n*(e[e.widthOrHeight]/e.numberOfObjects())+i)+","+r+")"}).call(e.xAxis),e.svg.selectAll(".y.axis").transition().duration(t).attr("transform",function(t,n){if("right"==e.yorient)return"translate("+e.width+",0)";if("sideBySide"==e.chartLayout&&e.horizontal){var r=n*(e[e.widthOrHeight]/e.numberOfObjects())+e.widthOfBar()/2,i=0;return"translate("+i+","+r+")"}}).call(e.yAxis).each("end",function(t){return e.firstRun?(e.firstRun=!1,void e.labelUpdate()):void(0===e.updateCount?(e.updateCount++,setTimeout(function(){e.update()},10)):e.updateCount=0)}),e.horizontal||e.svg.selectAll(".y.axis line").attr("x1","-"+e.margin.left),e.topTick(e.dataLabels),e.zeroLine&&e.zeroLine.transition().duration(t).attr(e.xOrY+"1",function(){return e.horizontal?0:"-"+e.margin[e.leftOrTop]}).attr(e.xOrY+"2",e[e.widthOrHeight]).attr(e.yOrX+"1",e.scales.y(0)).attr(e.yOrX+"2",e.scales.y(0)),e.svg.selectAll(".recessionBox").transition().duration(t).attr({x:function(t){return e.scales.x(e.recessionDateParse(t.start))},width:function(t){return e.scales.x(e.recessionDateParse(t.end))-e.scales.x(e.recessionDateParse(t.start))},height:e.height}),e.zoom&&e.zoom.x(e.scales.x).y(e.scales.y),e.labelUpdate(),e.trigger("baseUpdate:end")},labelUpdate:function(){var t=this;t.annotationGroup&&(t.annotationData=t.options.annotations(t),t.makeAnnotations.annotations(t.annotationData),t.makeAnnotations.updatedAccessors(),t.svg.select("g.annotation-group").call(t.makeAnnotations))},zoomChart:function(){function t(){e.svg.selectAll(".x.axis").call(e.xAxis),e.svg.select(".y.axis").call(e.yAxis),e.horizontal||e.svg.selectAll(".y.axis line").attr("x1",-e.margin.left),e.dataLabels=e.YTickLabel[e.YTickLabel.length-1],e.topTick(e.dataLabels),"line"==e.chartType&&(e.lineChart.data(e.jsonData,function(t){return t.name}).selectAll(".tipCircle").data(function(t){return t.values}).attr("cx",function(t,n){return e.scales.x(t.date)}).attr("cy",function(t,n){return e.scales.y(t[e.dataType])}),e.lineChart.selectAll(".line").data(e.jsonData,function(t){
return t.name}).attr("d",function(t){return e.line(t.values)}),e.lineChart.selectAll(".area").data(e.jsonData,function(t){return t.name}).attr("d",function(t,n){return e.area(t.values)})),"bar"==e.chartType&&e.svg.selectAll(".barChart").data(e.jsonData,function(t){return t.name}).selectAll(".bar").data(function(t){return t.values}).attr(e.yOrX,function(t){return e.yBarPosition(t)}).attr(e.heightOrWidth,function(t){return e.barHeight(t)}).attr(e.widthOrHeight,function(t,n,r){return e.barWidth(t,n,r)}).attr(e.xOrY,function(t,n,r){return e.xBarPosition(t,n,r)}),e.zeroLine.attr(e.yOrX+"1",e.scales.y(0)).attr(e.yOrX+"2",e.scales.y(0)),e.svg.selectAll(".recessionBox").attr("x",function(t){return e.scales.x(e.recessionDateParse(t.start))}).attr("width",function(t){return e.scales.x(e.recessionDateParse(t.end))-e.scales.x(e.recessionDateParse(t.start))})}var e=this;e.zoom=d3.behavior.zoom().x(e.scales.x).y(e.scales.y).scaleExtent([1,8]).on("zoom",t),e.svg.call(e.zoom)},labelAdder:function(){var t=this;if(t.annotationData=t.annotations(),t.makeAnnotations=d3.annotation().editMode(t.annotationDebug).type(t.annotationType).annotations(t.annotationData),t.annotationData[0].data){var e;t.makeAnnotations.accessors((e={},babelHelpers.defineProperty(e,t.xOrY,function(e){return t.annotationData[0].data.date?t.scales.x(t.parseDate(e.date)):t.scales.x(e.xvalue)}),babelHelpers.defineProperty(e,t.yOrX,function(e){return t.scales.y(e.yvalue)}),e)).accessorsInverse({date:function(e){return t.dateFormat(t.scales.x.invert(e.x))},xvalue:function(e){return t.scales.x.invert(e.x)},yvalue:function(e){return t.scales.y.invert(e.y)}})}t.annotationGroup=t.svg.append("g").attr("class","annotation-group").call(t.makeAnnotations),t.svg.select(".annotation-group").classed("active",!0)}}),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.LineChart=Reuters.Graphics.ChartBase.extend({defaults:_.defaults({someNewDefault:"yes"},Reuters.Graphics.ChartBase.prototype.defaults),chartType:"line",xScaleMin:function(){return d3.min(this.jsonData,function(t){return d3.min(t.values,function(t){return t.date})})},xScaleMax:function(){return d3.max(this.jsonData,function(t){return d3.max(t.values,function(t){return t.date})})},xScaleRange:function(){var t=[0,this[this.widthOrHeight]];return"sideBySide"==this.chartLayout&&(t=[0,this[this.widthOrHeight]/(this.jsonData.length*(1+2/this.jsonData[0].values.length))]),t},getXScale:function(){return this.hasTimeScale?d3.time.scale().domain([this.xScaleMin(),this.xScaleMax()]).range(this.xScaleRange()):d3.scale.ordinal().domain(this.jsonData[0].values.map(function(t){return t.category})).rangePoints([0,this[this.widthOrHeight]],0)},yScaleMin:function(){var t=this.dataType;"stackTotal"==this.chartLayout&&(t="stackTotal");var e=d3.min(this.jsonData,function(e){return d3.min(e.values,function(e){return e[t]})});return"fillLines"==this.chartlayout&&e>0&&(e=0),"stackTotal"!=this.chartLayout&&"stackPercent"!=this.chartLayout||(e=0),e},yScaleMax:function(){var t=this.dataType;"stackTotal"==this.chartLayout&&(t="stackTotal");var e=d3.max(this.jsonData,function(e){return d3.max(e.values,function(e){return e[t]})});return"stackPercent"==this.chartLayout&&(e=100),e},yScaleRange:function(){var t=this[this.heightOrWidth],e=t,n=0;return this.horizontal&&(e=0,n=t),[e,n]},getYScale:function(){var t=this;return!t.yScaleVals||this.hasZoom?d3.scale.linear().domain([this.yScaleMin(),this.yScaleMax()]).nice(this.yScaleTicks).range(this.yScaleRange()):d3.scale.linear().domain([this.yScaleVals[0],this.yScaleVals[this.yScaleVals.length-1]]).nice(this.yScaleTicks).range(this.yScaleRange())},renderChart:function(){var t=this;if(t.trigger("renderChart:start"),t.hasZoom&&t.zoomChart(),t.line=d3.svg.line()[t.xOrY](function(e){var n="category";return t.hasTimeScale&&(n="date"),t.scales.x(e[n])})[t.yOrX](function(e){return"stackTotal"==t.chartLayout?t.scales.y(e.y1Total):"stackPercent"==t.chartLayout?t.scales.y(e.y1Percent):t.scales.y(e[t.dataType])}).interpolate(t.lineType).defined(function(e){return!isNaN(e[t.dataType])}),t.area=d3.svg.area()[t.xOrY](function(e){var n="category";return t.hasTimeScale&&(n="date"),t.scales.x(e[n])})[t.yOrX+"0"](function(e){return"stackTotal"==t.chartLayout?t.scales.y(e.y0Total):"stackPercent"==t.chartLayout?t.scales.y(e.y0Percent):t.scales.y(0)})[t.yOrX+"1"](function(e){return"stackTotal"==t.chartLayout?t.scales.y(e.y1Total):"stackPercent"==t.chartLayout?t.scales.y(e.y1Percent):t.scales.y(e[t.dataType])}).interpolate(t.lineType).defined(function(e){return!isNaN(e[t.dataType])}),t.lineChart=t.svg.selectAll(".lineChart").data(t.jsonData,function(t){return t.name}).enter().append("g").attr({"clip-path":"url(#clip"+t.targetDiv+")","class":"lineChart",id:function(e){return t.targetDiv+e.displayName.replace(/\s/g,"")+"-line"}}).on("mouseover",function(e){t.lineChart.sort(function(t,n){return t.name==e.name?1:-1}).order(),d3.selectAll("#"+t.targetDiv+" .lineChart").classed("notSelected",!0),d3.select(this).classed("notSelected",!1)}).on("mouseout",function(t){d3.selectAll(".lineChart").classed("notSelected",!1)}),"sideBySide"==t.chartLayout?t.lineChart.attr("transform",function(e,n){return t.horizontal?"translate(0,"+n*(t[t.widthOrHeight]/t.numberOfObjects())+")":"translate("+n*(t[t.widthOrHeight]/t.numberOfObjects())+",0)"}):t.lineChart.attr("transform",function(t,e){return"translate(0,0)"}),t.lineChart.append("path").attr("class","line").style("stroke",function(e){return t.colorScale(e.name)}).attr("d",function(e){return t.line(e.values[0])}).transition().duration(1500).delay(function(t,e){return 100*e}).attrTween("d",function(e){var n=d3.scale.quantile().domain([0,1]).range(d3.range(1,e.values.length+1));return function(r){return t.line(e.values.slice(0,n(r)))}}),t.lineChart.append("path").attr("class","area").style("fill",function(e){return t.colorScale(e.name)}).attr("d",function(e){return t.area(e.values[0])}).style("display",function(e){return"stackTotal"==t.chartLayout||"stackPercent"==t.chartLayout||"fillLines"==t.chartLayout?"block":"none"}).transition().duration(1500).delay(function(t,e){return 100*e}).attrTween("d",function(e){var n=d3.scale.quantile().domain([0,1]).range(d3.range(1,e.values.length+1));return function(r){return t.area(e.values.slice(0,n(r)))}}),t.lineChart.selectAll(".tipCircle").data(function(t){return t.values}).enter().append("circle").attr("class","tipCircle").attr("c"+t.xOrY,function(e,n){var r="category";return t.hasTimeScale&&(r="date"),t.scales.x(e[r])}).attr("c"+t.yOrX,function(e,n){return"stackTotal"==t.chartLayout?e.y1Total?t.scales.y(e.y1Total):t.scales.y(0):"stackPercent"==t.chartLayout?e.y1Percent?t.scales.y(e.y1Percent):t.scales.y(0):e[t.dataType]?t.scales.y(e[t.dataType]):t.scales.y(0)}).attr("r",function(e,n){return isNaN(e[t.dataType])?0:5}).style("opacity",function(e){return t.markDataPoints?1:0}).style("fill",function(e){return t.colorScale(e.name)}).classed("timeline",function(e){var n="category";return t.hasTimeScale&&(n="date"),!(!t.timelineDataGrouped||!t.timelineDataGrouped[t.timelineDate(e[n])])}),"sideBySide"==t.chartLayout){var e=$("#"+t.targetDiv+" ."+t.xOrY+".axis");t.jsonData.forEach(function(n,r){if(0!=r){var i=t.height,a=r*(t[t.widthOrHeight]/t.numberOfObjects())+t.widthOfBar()/2;t.horizontal&&(i=r*(t[t.widthOrHeight]/t.numberOfObjects())+t.widthOfBar()/2,a=0),e.clone().attr("transform","translate("+a+","+i+")").appendTo(e.parent())}})}t.makeZeroLine(),t.trigger("renderChart:end"),t.trigger("chart:loaded"),t.trigger("chart:loaded")},update:function(){var t=this;t.baseUpdate(),t.trigger("update:start"),"sideBySide"==t.chartLayout?t.lineChart.transition().duration(1e3).attr("transform",function(e,n){return t.horizontal?"translate(0,"+n*(t[t.widthOrHeight]/t.numberOfObjects())+")":"translate("+n*(t[t.widthOrHeight]/t.numberOfObjects())+",0)"}):t.lineChart.transition().duration(1e3).attr("transform",function(t,e){return"translate(0,0)"}),t.exitLine=d3.svg.line()[t.xOrY](function(e){var n="category";return t.hasTimeScale&&(n="date"),t.scales.x(e[n])})[t.yOrX](function(e){return t.margin[t.bottomOrRight]+t[t.heightOrWidth]+t.margin[t.topOrLeft]+10}).interpolate(t.lineType),t.exitArea=d3.svg.area()[t.xOrY](function(e){var n="category";return t.hasTimeScale&&(n="date"),t.scales.x(e[n])})[t.yOrX+"0"](function(e){return t.margin[t.bottomOrRight]+t[t.heightOrWidth]+t.margin[t.topOrLeft]+10})[t.yOrX+"1"](function(e){return t.margin[t.bottomOrRight]+t[t.heightOrWidth]+t.margin[t.topOrLeft]+10}).interpolate(t.lineType),t.lineChart.data(t.jsonData,function(t){return t.name}).exit().selectAll(".line").transition().attr("d",function(e,n){return t.exitLine(e.values)}),t.lineChart.data(t.jsonData,function(t){return t.name}).exit().selectAll(".area").transition().attr("d",function(e,n){return t.exitArea(e.values)}),t.lineChart.data(t.jsonData,function(t){return t.name}).exit().selectAll(".tipCircle").transition().attr("r",0),t.lineChart.selectAll(".line").data(t.jsonData,function(t){return t.name}).transition().duration(1e3).attr("d",function(e,n){return t.line(e.values)}),t.lineChart.selectAll(".area").data(t.jsonData,function(t){return t.name}).style("display",function(e){return"stackTotal"==t.chartLayout||"stackPercent"==t.chartLayout||"fillLines"==t.chartLayout?"block":"none"}).transition().duration(1e3).attr("d",function(e,n){return t.area(e.values)}),t.lineChart.data(t.jsonData,function(t){return t.name}).selectAll(".tipCircle").data(function(t){return t.values}).transition().duration(1e3).attr("c"+t.yOrX,function(e,n){return"stackTotal"==t.chartLayout?e.y1Total?t.scales.y(e.y1Total):t.scales.y(0):"stackPercent"==t.chartLayout?e.y1Percent?t.scales.y(e.y1Percent):t.scales.y(0):e[t.dataType]?t.scales.y(e[t.dataType]):t.scales.y(0)}).attr("c"+t.xOrY,function(e,n){var r="category";return t.hasTimeScale&&(r="date"),t.scales.x(e[r])}).attr("r",function(e,n){return isNaN(e[t.dataType])?0:5}),t.lineChart.data(t.jsonData,function(t){return t.name}).selectAll(".tipCircle").data(function(t){return t.values}).exit().transition().duration(1e3).attr("r",0).each("end",function(t){d3.select(this).remove()}),t.lineChart.data(t.jsonData,function(t){return t.name}).selectAll(".tipCircle").data(function(t){return t.values}).enter().append("circle").attr("class","tipCircle").attr("c"+t.xOrY,function(e,n){var r="category";return t.hasTimeScale&&(r="date"),t.scales.x(e[r])}).attr("c"+t.yOrX,function(e,n){return"stackTotal"==t.chartLayout?t.scales.y(e.y1Total):"stackPercent"==t.chartLayout?t.scales.y(e.y1Percent):t.scales.y(e[t.dataType])}).style("opacity",function(e){return t.markDataPoints?1:0}).style("fill",function(e){return t.colorScale(e.name)}).attr("r",0).transition().duration(1e3).attr("r",function(e,n){return isNaN(e[t.dataType])?0:5}),t.trigger("update:end")}}),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.BarChart=Reuters.Graphics.ChartBase.extend({defaults:_.defaults({someNewDefault:"yes"},Reuters.Graphics.ChartBase.prototype.defaults),chartType:"bar",xScaleMin:function(){return d3.min(this.jsonData,function(t){return d3.min(t.values,function(t){return t.date})})},xScaleMax:function(){return d3.max(this.jsonData,function(t){return d3.max(t.values,function(t){return t.date})})},xScaleRange:function(){var t=this.numberOfObjects();"stackPercent"!=this.chartLayout&&"stackTotal"!=this.chartLayout||(t=1);var e=[this.widthOfBar()*t/2,this[this.widthOrHeight]-this.widthOfBar()*t];return"sideBySide"==this.chartLayout&&(e=[0,this[this.widthOrHeight]/(this.jsonData.length*(1+2/this.jsonData[0].values.length))]),e},getXScale:function(){return this.hasTimeScale?d3.time.scale().domain([this.xScaleMin(),this.xScaleMax()]).range(this.xScaleRange()):d3.scale.ordinal().domain(this.jsonData[0].values.map(function(t){return t.category})).rangeRoundBands([0,this[this.widthOrHeight]],0)},yScaleMin:function(){var t=this.dataType;"stackTotal"==this.chartLayout&&(t="stackMin");var e=d3.min(this.jsonData,function(e){return d3.min(e.values,function(e){return e[t]})});return"stackPercent"==this.chartLayout&&(e=0),e>0&&(e=0),e},yScaleMax:function(){var t=this.dataType;"stackTotal"==this.chartLayout&&(t="stackTotal");var e=d3.max(this.jsonData,function(e){return d3.max(e.values,function(e){return e[t]})});return"stackPercent"==this.chartLayout&&(e=100),e<0&&(e=0),e},yScaleRange:function(){var t=this[this.heightOrWidth];"tier"==this.chartLayout&&(t=this[this.heightOrWidth]/(this.jsonData.length*(1+2/this.jsonData[0].values.length)));var e=t,n=0;return this.horizontal&&(e=0,n=t),[e,n]},getYScale:function(){return!this.yScaleVals||this.hasZoom?d3.scale.linear().domain([this.yScaleMin(),this.yScaleMax()]).nice(this.yScaleTicks).range(this.yScaleRange()):d3.scale.linear().domain([this.yScaleVals[0],this.yScaleVals[this.yScaleVals.length-1]]).range(this.yScaleRange())},xBarPosition:function(t,e,n){var r=this,i="category",a=0;return r.hasTimeScale&&(i="date",a=r.widthOfBar()*r.numberOfObjects()/2),"outlineBar"==r.chartLayout?r.scales.x(t[i]):"stackTotal"==r.chartLayout||"stackPercent"==r.chartLayout||"sideBySide"==r.chartLayout||"tier"==r.chartLayout?(r.hasTimeScale&&(a=r.widthOfBar()/2,"sideBySide"==r.chartLayout&&(a=0)),r.scales.x(t[i])-a):"onTopOf"==r.chartLayout||"outlineBar"==r.chartLayout?r.scales.x(t[i])-a+r.widthOfBar()/(n+1)*n/2:r.scales.x(t[i])-n*r.widthOfBar()+r.widthOfBar()*(r.numberOfObjects()-1)-a},yBarPosition:function(t){var e=this;if(isNaN(t[e.dataType]))return 0;var n="y1";if((e.horizontal||t.y1Total<0)&&(n="y0"),e.horizontal&&t.y1Total<0&&(n="y1"),"stackTotal"==e.chartLayout)return e.scales.y(t[n+"Total"]);if("stackPercent"==e.chartLayout)return e.scales.y(t[n+"Percent"]);var r="max";return e.horizontal&&(r="min"),e.scales.y(Math[r](0,t[e.dataType]))},barHeight:function(t){var e=this;return isNaN(t[e.dataType])?0:"stackTotal"==e.chartLayout?Math.abs(e.scales.y(t.y0Total)-e.scales.y(t.y1Total)):"stackPercent"==e.chartLayout?Math.abs(e.scales.y(t.y0Percent)-e.scales.y(t.y1Percent)):Math.abs(e.scales.y(t[e.dataType])-e.scales.y(0))},barFill:function(t,e,n){var r=this;if(r.colorUpDown)return t[r.dataType]>0?r.colorScale.range()[0]:r.colorScale.range()[1];if("outlineBar"==r.chartLayout&&1==n)return"none";if(r.hashAfterDate){var i=r.parseDate(r.hashAfterDate),a=d3.rgb(r.colorScale(t.name)).darker(.8);return r.t=textures.lines().size(7).stroke(a).background(r.colorScale(t.name)),r.svg.call(r.t),t.date>i?r.t.url():r.colorScale(t.name)}return r.colorScale(t.name)},barWidth:function(t,e,n){var r=this;return"tier"==r.chartLayout?r.widthOfBar()*r.numberOfObjects():"outlineBar"==r.chartLayout?r.widthOfBar():"onTopOf"==r.chartLayout?r.widthOfBar()/(n+1):r.widthOfBar()},renderChart:function(){var t=this;if(t.trigger("renderChart:start"),t.hasZoom&&t.zoomChart(),t.barChart=t.svg.selectAll(".barChart").data(t.jsonData,function(t){return t.name}).enter().append("g").attr("clip-path","url(#clip"+t.targetDiv+")").attr("class","barChart").attr("id",function(e){return t.targetDiv+e.displayName.replace(/\s/g,"")+"-bar"}),"sideBySide"==t.chartLayout&&t.barChart.attr("transform",function(e,n){return t.horizontal?"translate(0,"+n*(t[t.widthOrHeight]/t.numberOfObjects())+")":"translate("+n*(t[t.widthOrHeight]/t.numberOfObjects())+",0)"}),"tier"==t.chartLayout&&t.barChart.attr("transform",function(e,n){return t.horizontal?"translate("+n*(t[t.heightOrWidth]/t.numberOfObjects())+",0)":"translate(0,"+n*(t[t.heightOrWidth]/t.numberOfObjects())+")"}),t.barChart.selectAll(".bar").data(function(t){return t.values}).enter().append("rect").attr("class","bar").style("fill",function(e,n,r){return t.barFill(e,n,r)}).attr(t.heightOrWidth,0).attr(t.yOrX,t.scales.y(0)).attr(t.widthOrHeight,function(e,n,r){return t.barWidth(e,n,r)}).attr(t.xOrY,function(e,n,r){return t.xBarPosition(e,n,r)}).transition().duration(1e3).attr(t.yOrX,function(e){return t.yBarPosition(e)}).attr(t.heightOrWidth,function(e){return t.barHeight(e)}),"outlineBar"==t.chartLayout&&t.barChart.selectAll(".bar").classed("outline",function(t,e,n){return 1==n}),"sideBySide"==t.chartLayout){var e=$("#"+t.targetDiv+" ."+t.xOrY+".axis");t.jsonData.forEach(function(n,r){if(0!=r){var i=t.height,a=r*(t[t.widthOrHeight]/t.numberOfObjects())+t.widthOfBar()/2;t.horizontal&&(i=r*(t[t.widthOrHeight]/t.numberOfObjects())+t.widthOfBar()/2,a=0),e.clone().attr("transform","translate("+a+","+i+")").appendTo(e.parent())}})}"tier"==t.chartLayout?(t.barChart.append("svg:g").attr("class",t.yOrX+" axis").attr("transform",function(e){return t.horizontal?"translate(0,0)":"translate(0,"+t.height+")"}),t.barChart.selectAll("."+t.yOrX+".axis").call(t[t.yOrX+"Axis"]),t.barChart.each(function(t){var e=$(this).attr("id"),n=$("#"+e+" .axis").detach();n.prependTo($(this))})):t.barChart.selectAll("."+t.yOrX+".axis").remove(),t.makeZeroLine(),t.trigger("renderChart:end"),t.trigger("chart:loaded")},update:function(){var t=this;t.baseUpdate(),t.trigger("update:start"),t.barChart.data(t.jsonData,function(t){return t.name}).order().transition().duration(1e3).attr("transform",function(e,n){var r=0,i=0;return"sideBySide"==t.chartLayout&&(t.horizontal?i=n*(t[t.widthOrHeight]/t.numberOfObjects()):r=n*(t[t.widthOrHeight]/t.numberOfObjects())),"tier"==t.chartLayout&&(t.horizonta?r=n*(t[t.heightOrWidth]/t.numberOfObjects()):i=n*(t[t.heightOrWidth]/t.numberOfObjects())),"translate("+r+","+i+")"}),t.barChart.data(t.jsonData,function(t){return t.name}).exit().selectAll(".bar").transition().attr(t.heightOrWidth,0).attr(t.yOrX,t.scales.y(0)),t.svg.selectAll(".barChart").data(t.jsonData,function(t){return t.name}).selectAll(".bar").data(function(t){return t.values}).transition().duration(1e3).style("fill",function(e,n,r){return t.barFill(e,n,r)}).attr(t.yOrX,function(e){return t.yBarPosition(e)}).attr(t.heightOrWidth,function(e){return t.barHeight(e)}).attr(t.widthOrHeight,function(e,n,r){return t.barWidth(e,n,r)}).attr(t.xOrY,function(e,n,r){return t.xBarPosition(e,n,r)}),t.svg.selectAll(".barChart").data(t.jsonData,function(t){return t.name}).selectAll(".bar").data(function(t){return t.values}).exit().transition().attr(t.heightOrWidth,0).attr(t.yOrX,t.scales.y(0)).each("end",function(t){d3.select(this).remove()}),t.barChart.selectAll(".bar").data(function(t){return t.values}).enter().append("rect").attr("class","bar").style("fill",function(e,n,r){return t.barFill(e,n,r)}).attr(t.heightOrWidth,0).attr(t.yOrX,t.scales.y(0)).attr(t.widthOrHeight,function(e,n,r){return t.barWidth(e,n,r)}).attr(t.xOrY,function(e,n,r){return t.xBarPosition(e,n,r)}).transition().duration(1e3).attr(t.yOrX,function(e){return t.yBarPosition(e)}).attr(t.heightOrWidth,function(e){return t.barHeight(e)}),t.trigger("update:end")}}),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.scatterCharter=window.Reuters.Graphics.scatterCharter||{},window.Reuters.Graphics.scatterCharter.Template=window.Reuters.Graphics.scatterCharter.Template||{},window.Reuters.Graphics.scatterCharter.Template.scatterSetupTemplate=function(t){var e,n="";Array.prototype.join;return t.self.dataType&&(n+='\n\t<div class="chart-nav">\n\t\t\t',t.self.multiDataSlider?n+='\n\t\t\t\t<div class="slider-container">\n                    <div class="slider-holder">\n        \t\t\t\t<div class="slider" data-slider="true"></div>\n                    </div>\n\n                    <div class="slider-controls">\n                        <div class="btn-group animation-control" data-toggle="buttons">\n                            <label class="btn btn-primary smaller animation-play">\n                                <input type="radio" name="animation-control-group" id="animation-play" autocomplete="off" > \n                                <i class="fa fa-play" aria-hidden="true"></i>\n                            </label>\n                            <label class="btn btn-primary smaller active animation-pause">\n                                <input type="radio" name="animation-control-group" id="animation-pause" autocomplete="off" checked>\n                                <i class="fa fa-pause" aria-hidden="true"></i>\n                            </label>\n                        </div>\n                    </div>\n\t\t\t\t</div>\n\t\t\t':(n+='\t\t\n            \t\t<div class="navContainer">\n                        <div class="btn-group nav-options horizontal" data-toggle="buttons">\n                            ',t.self.multiDataLabels.forEach(function(r,i){n+='\n                                <label dataid="'+(null==(e=t.self.multiDataColumns[i])?"":e)+'" class="btn btn-primary ',i==t.self.multiDataLabels.length-1&&(n+="active"),n+=' smaller">\n                                    <input type="radio" name="nav-options" autocomplete="off"> \n                                    '+(null==(e=r)?"":e)+"\n                                </label>\n                            "}),n+="\n                        </div>    \t\t    \t\t\n            \t\t</div>    \t\n\t\t\t"),n+="\n\t</div>\n"),n+='\n\n\n<div class="chart-holder">\n    ',t.self.colorDomain&&t.self.colorDomain.length>1?(n+='\n    \t<div class="scatter-nested-legend">\n            ',t.self.colorDomain.forEach(function(r,i){n+='\n                <div class ="scatter-legend-item" data-id="'+(null==(e=r)?"":e)+'">\n                \t<div class = "scatter-legend-circle circle" style="background-color:'+(null==(e=t.self.colors[i])?"":e)+';"></div>\n                \t<p class = "scatter-legend-text">'+(null==(e=r)?"":e)+"</p>\n                </div>\n            "}),n+="\n        \t",t.self.rvalue&&(n+='\n                <br>\n                <div class ="scatter-legend-size">\n                    <div class = "scatter-legend-circle scatter-size circle order-legend"></div>\n                    <p class = "scatter-legend-text">'+(null==(e="Size indicates Orders")?"":e)+"</p>\n                 </div>\n        \t"),n+=" \n            ",t.self.dropdown&&(n+='\n                <div class="mt-2 hidden-sm-down">\n                    <select class="custom-select scatter-select">\n                        <option selected>Show All ...   </option>\n                    </select>\n                    <small class="text-muted text-uppercase d-block">Choose to highlight</small>\n                </div>\n            '),n+='        \t        \n    \t</div>\n        <div class="scatter-nested-chart" id="'+(null==(e=t.self.targetDiv)?"":e)+'-chart"></div>\n    '):(n+="\n        ",t.self.dropdown&&(n+='\n            <div class="mt-2 hidden-sm-down">\n                <select class="custom-select scatter-select">\n                    <option selected>Show All ...   </option>\n                </select>\n                <small class="text-muted text-uppercase d-block">Choose to highlight</small>\n            </div>\n        '),n+='         \n        <div class="" id="'+(null==(e=t.self.targetDiv)?"":e)+'-chart"></div>\n    '),n+="\n</div>\n\n\n\n\n"}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.scatterCharter=window.Reuters.Graphics.scatterCharter||{},window.Reuters.Graphics.scatterCharter.Template=window.Reuters.Graphics.scatterCharter.Template||{},window.Reuters.Graphics.scatterCharter.Template.scattertooltip=function(t){var e,n="";return n+='<p class="tooltip-title"> '+(null==(e=t.data.name+" "+t.data.category)?"":e)+'</p>\n<p class="tooltip-text"><strong> '+(null==(e="Passengers")?"":e)+":</strong> "+(null==(e=t.self.noDecimal(t.data[t.self.yvalue]))?"":e)+' </p>\n<p class="tooltip-text"><strong> '+(null==(e="Range")?"":e)+":</strong> "+(null==(e=t.self.noDecimal(t.data[t.self.xvalue]))?"":e)+'  miles</p>\n<hr>\n\n<p class="tooltip-subhead">'+(null==(e="On order")?"":e)+'</p>\n<p class="tooltip-text">'+(null==(e="Number unavailable")?"":e)+"</p>"}}(),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.ScatterPlot=Backbone.View.extend({data:void 0,dataURL:void 0,scatterSetupTemplate:Reuters.Graphics.scatterCharter.Template.scatterSetupTemplate,tooltipTemplate:Reuters.Graphics.scatterCharter.Template.scattertooltip,colorDomain:void 0,colors:[red3,blue1,lime1,orange1,green1,blue4],margin:{left:50,right:20,top:20,bottom:20},xvalue:"xvalue",yvalue:"yvalue",rvalue:void 0,colorvalue:void 0,radiusModifier:1.5,hardRadius:5,xscaleorientation:"bottom",yscaleorientation:"left",yticks:5,xticks:5,xmin:void 0,ymin:void 0,xmax:void 0,ymax:void 0,xvalues:void 0,yvalues:void 0,height:void 0,dropdown:void 0,updateCount:0,dateParseFormat:"%m/%d/%y",dateFormat:d3.time.format("%b %Y"),initialize:function(t){var e=this;this.options=t,_.each(t,function(t,n){e[n]=t}),e.bottomMargin=e.margin.bottom,e.options.radiusModifier||(e.options.radiusModifier=e.radiusModifier),this.dataURL.indexOf("csv")!=-1||_.isObject(this.dataURL)||d3.json(e.dataURL,function(t){e.parseData(t)}),this.dataURL.indexOf("csv")>-1&&d3.csv(e.dataURL,function(t){e.parseData(t)}),_.isObject(this.dataURL)&&setTimeout(function(){e.parseData(e.dataURL)},100)},parseData:function(t){var e=this;if("date"!=e.xvalue&&"date"!=e.yvalue||e.parseDate||(2==t[0].date.split("/")[2].length&&(e.dateParseFormat="%m/%d/%y"),4==t[0].date.split("/")[2].length&&(e.dateParseFormat="%m/%d/%Y")),e.parseDate=d3.time.format(e.dateParseFormat).parse,e.targetDiv=$(e.el).attr("id"),e.chartDiv=$(e.el).attr("id")+"-chart",e.oneDecimal=d3.format(",.1f"),e.twoDecimal=d3.format(",.2f"),e.noDecimal=d3.format(",.0f"),e.colorDomain||(e.colorDomain=_.uniq(_.pluck(t,e.colorvalue))),_.isObject(e.colors)&&!_.isArray(e.colors)&&(e.colorDomain=_.keys(e.colors),e.colors=_.values(e.colors)),e.colorScale=d3.scale.ordinal().domain(e.colorDomain).range(e.colors),t[0].type){if(e.multiDataColumns||(e.multiDataColumns=_.uniq(_.pluck(t,"type"))),e.multiDataLabels||(e.multiDataLabels=e.multiDataColumns),e.dataType=e.multiDataColumns[e.multiDataColumns.length-1],!e.idField){e.idField="uniqueid";var n=_.groupBy(t,"type");_.each(n,function(t,e){t.forEach(function(t,e){t.uniqueid=e})})}}else e.idField||(e.idField="uniqueid",t.forEach(function(t,e){t.uniqueid=e}));e.data=new Reuters.Graphics.ScatterCollection([],{parseDate:e.parseDate,xvalue:e.xvalue,yvalue:e.yvalue,rvalue:e.rvalue,dateFormat:e.dateFormat}),e.data.reset(t,{parse:!0}),e.chartData=e.flattenData(e.data),e.baseRender()},flattenData:function(t){var e=this;if(e.dataType){var n=t.filter(function(t){return t.get("type")==e.dataType}),r=_.invoke(n,"toJSON");return r}return t.toJSON()},setWidthAndMargins:function(){var t=this,e=-1;t.$(".y.axis").find("text").each(function(){e=e>$(this).width()?e:$(this).width()}),0===e&&t.$(".y.axis").find("text").each(function(){e=e>$(this)[0].getBoundingClientRect().width?e:$(this)[0].getBoundingClientRect().width}),t.options.margin||(t.margin[t.yscaleorientation]=9+e,t.yLabelText&&(t.margin.left=t.margin.left+40),t.xLabelText&&(t.margin.bottom=t.bottomMargin+30)),t.width=t.$("#"+t.chartDiv).width()-t.margin.left-t.margin.right,t.options.height||(t.height=t.width),t.options.height<10&&(t.height=t.width*t.options.height),t.width<400?t.radiusModifier=2*t.options.radiusModifier/3:t.radiusModifier=t.options.radiusModifier},multiDataMaker:function(){var t=this;if(t.multiDataSlider){var e=function(){var e=t.multiDataColumns[t.slider.noUiSlider.get()];t.dataType=e,t.chartData=t.flattenData(t.data),t.update()};t.slider=t.$("[data-slider]")[0],noUiSlider.create(t.slider,{start:[t.multiDataColumns.length-1],range:{min:[0],max:[t.multiDataColumns.length-1]},snap:!1,step:1,format:{to:function(t){return t},from:function(t){return t}},pips:{mode:"count",values:t.multiDataColumns.length,density:3}}),t.$("div.noUi-value-large").each(function(e){$(this).html(t.multiDataLabels[e])}),$(t.slider).find("div.noUi-marker-large:last").addClass("last"),$(t.slider).find("div.noUi-marker-large:first").addClass("first"),t.slider.noUiSlider.on("set",e),t.$(".btn.btn-primary.animation-play").on("click",function(){t.playInterval=setInterval(function(){t.play()},1e3)}),t.$(".animation-pause").on("click",function(){clearInterval(t.playInterval)}),t.play=function(){var e=t.slider.noUiSlider.get();e==t.multiDataLabels.length-1?e=0:e++,t.slider.noUiSlider.set(e)}}else t.$(".chart-nav .btn").on("click",function(e){var n=$(this).attr("dataid");t.dataType=n,t.chartData=t.flattenData(t.data),t.update()})},baseRender:function(){var t=this;t.trigger("renderChart:start"),$(t.el).html(function(){return t.scatterSetupTemplate({data:t.chartData,self:t})}),t.width=t.$("#"+t.chartDiv).width()-t.margin.left-t.margin.right,t.options.height||(t.height=t.width),t.options.height<10&&(t.height=t.width*t.options.height),t.setScales(),t.dataType&&t.multiDataMaker(),t.dropdown&&(t.selectArray=_.uniq(_.pluck(t.chartData,t.dropdown)).sort(),d3.select("#"+t.targetDiv+" .custom-select").selectAll("options").data(t.selectArray).enter().append("option").attr("value",function(t){return t}).html(function(t){return t}),t.$(".custom-select").on("change",function(e){var n=$(this).val();t.scatterPlot.classed("turned-off",function(e){return"Show All ..."!=n&&n!=e[t.dropdown]})})),t.colorDomain&&t.colorDomain.length>1&&t.$(".scatter-legend-item").on("click",function(e){var n=$(this).attr("data-id");$(this).toggleClass("turned-off"),t.scatterPlot.each(function(e){n==e[t.colorvalue]&&$(this).toggleClass("turned-off")})}),t.svg=d3.select("#"+t.chartDiv).append("svg").attr("width",t.width+t.margin.left+t.margin.right).attr("height",t.height+t.margin.top+t.margin.bottom).append("g").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),t.xAxis=d3.svg.axis().scale(t.x).orient(t.xscaleorientation).tickSize(t.height).tickPadding(8),t.yAxis=d3.svg.axis().scale(t.y).orient(t.yscaleorientation).tickSize(0-t.width).tickPadding(8),t.xvalues&&t.xAxis.tickValues(t.xvalues),t.yvalues&&t.yAxis.tickValues(t.yvalues),t.resizeAxis(),t.svg.append("svg:g").attr("class","scatterLegend"),t.svg.append("svg:g").attr("class","x axis"),t.svg.select(".x.axis").call(t.xAxis),t.svg.append("svg:g").attr("class","y axis"),"left"==t.yscaleorientation?t.svg.select(".y.axis").call(t.yAxis):t.svg.select(".y.axis").attr("transform","translate("+t.width+",0)").call(t.yAxis),t.scatterPlot=t.svg.selectAll("circle").data(t.chartData).enter().append("circle").attr("r",function(e){return t.rvalue?Math.sqrt(e[t.rvalue])/Math.PI*t.radiusModifier:t.hardRadius}).attr("cy",function(e){return t.y(e[t.yvalue])}).attr("cx",function(e){return t.x(e[t.xvalue])}).attr("class","scatter-dot").style("fill",function(e){return t.setFill(e)}).style("stroke",function(e){return t.setStroke(e)}).attr("title",function(e){return t.tooltipTemplate({data:e,self:t})}),t.$(".scatter-dot").tooltip({html:!0,placement:function(e,n){var r=$(n).attr("cx"),i=t.width/2;return r<i?"right":"left"}}),t.xLabelText&&(t.xLabel=t.svg.append("text").attr("x",t.width/2).attr("y",t.height+40).text(t.xLabelText).attr("class","axislabel")),t.yLabelText&&(t.yLabel=t.svg.append("text").attr("x",t.height/2).attr("y",t.margin.left-20).attr("transform","rotate (90)").text(t.yLabelText).attr("class","axislabel")),$(window).on("resize",_.debounce(function(e){t.newWidth=$("#"+t.chartDiv).width()-t.margin.left-t.margin.right,t.newWidth==t.width||t.newWidth<=0||(t.width=t.newWidth,t.update())},100)),t.trigger("renderChart:end"),t.update()},setFill:function(t){var e=this;if(e.colorvalue)return e.colorScale(t[e.colorvalue])},setStroke:function(t){var e=this;if(e.colorvalue)return e.colorScale(t[e.colorvalue])},setScales:function(){var t=this;t.xvalues&&(t.xmin=t.xvalues[0],t.xmax=t.xvalues[t.xvalues.length-1]),t.yvalues&&(t.ymin=t.yvalues[0],t.ymax=t.yvalues[t.yvalues.length-1]),t.getxmin=function(){return t.xmin?t.xmin:d3.min(t.chartData,function(e){return e[t.xvalue]})},t.getxmax=function(){return t.xmax?t.xmax:d3.max(t.chartData,function(e){return e[t.xvalue]})},t.getymin=function(){return t.ymin?t.ymin:d3.min(t.chartData,function(e){return e[t.yvalue]})},t.getymax=function(){return t.ymax?t.ymax:d3.max(t.chartData,function(e){
return e[t.yvalue]})},t.x=d3.scale.linear().domain([t.getxmin(),t.getxmax()]).range([0,t.width]).nice(t.xticks),"date"==t.xvalue&&(t.x=d3.time.scale().domain([t.getxmin(),t.getxmax()]).range([0,t.width])),"category"==t.xvalue&&(t.x=d3.scale.ordinal().rangeRoundBands([0,t.width],1),t.categorySort?t.x.domain(t.categorySort):t.x.domain(t.chartData.map(function(t){return t.category}))),t.y=d3.scale.linear().domain([t.getymin(),t.getymax()]).range([t.height,0]).nice(t.yticks),"date"==t.yvalue&&(t.y=d3.time.scale().domain([t.getymin(),t.getymax()]).range([t.height,0])),"category"==t.yvalue&&(t.y=d3.scale.ordinal().rangeRoundBands([t.height,0],1),t.categorySort?t.y.domain(t.categorySort):t.y.domain(t.chartData.map(function(t){return t.category})))},resizeAxis:function(){var t=this;t.xAxis.tickSize(t.height),"top"==t.xscaleorientation&&t.xAxis.tickSize(0-t.height),t.yAxis.tickSize(0-t.width),"right"==t.xscaleorientation&&t.xAxis.tickSize(t.width),t.xAxis.ticks(t.xticks),"category"!=t.xvalue&&t.x.nice(t.xticks),t.yAxis.ticks(t.yticks),"category"!=t.yvalue&&t.y.nice(t.yticks)},adjustXTicks:function(){var t=this,e=0;t.$(".x.axis .tick").find("text").each(function(t,n){e+=$(this).width()}),e>t.width&&(t.xAxis.ticks(4),"category"!=t.xvalue&&t.x.nice(t.xticks),t.yAxis.ticks(4),"category"!=t.yvalue&&t.y.nice(t.yticks)),t.svg.select(".x.axis").transition().duration(500).call(t.xAxis)},update:function(){var t=this;t.trigger("update:start"),t.setWidthAndMargins(),t.x.range([0,t.width]).domain([t.getxmin(),t.getxmax()]),t.y.domain([t.getymin(),t.getymax()]).range([t.height,0]),"category"==t.xvalue&&(t.x.rangeRoundBands([0,t.width],1),t.categorySort?t.x.domain(t.categorySort):t.x.domain(t.chartData.map(function(t){return t.category}))),"category"==t.yvalue&&(t.y.rangeRoundBands([t.height,0],1),t.categorySort?t.y.domain(t.categorySort):t.y.domain(t.chartData.map(function(t){return t.category}))),d3.select("#"+t.chartDiv).select("svg").transition().duration(500).attr("width",t.width+t.margin.left+t.margin.right).attr("height",t.height+t.margin.top+t.margin.bottom),t.svg.attr("transform","translate("+t.margin.left+","+t.margin.top+")"),t.resizeAxis(),0===t.updateCount?(t.updateCount++,setTimeout(function(){t.update()},520)):t.updateCount=0,t.svg.select(".x.axis").transition().duration(500).call(t.xAxis),"left"==t.yscaleorientation?t.svg.select(".y.axis").transition().duration(500).call(t.yAxis):t.svg.select(".y.axis").transition().duration(500).attr("transform","translate("+t.width+",0)").call(t.yAxis),t.adjustXTicks(),t.scatterPlot.data(t.chartData,function(e){return e[t.idField]}).attr("data-original-title",function(e){return t.tooltipTemplate({data:e,self:t})}).transition().duration(500).attr("r",function(e){return t.rvalue?Math.sqrt(e[t.rvalue])/Math.PI*t.radiusModifier:t.hardRadius}).attr("cy",function(e){return t.y(e[t.yvalue])}).attr("cx",function(e){return t.x(e[t.xvalue])}).style("fill",function(e){return t.setFill(e)}).style("stroke",function(e){return t.setStroke(e)}),t.scatterPlot.data(t.chartData,function(e){return e[t.idField]}).exit().transition().duration(500).attr("r",0),t.xLabelText&&t.xLabel.transition().duration(500).attr("x",t.width/2).attr("y",t.height+40),t.yLabelText&&t.yLabel.transition().duration(500).attr("x",t.height/2).attr("y",t.margin.left-20),t.trigger("update:end")}}),Reuters.Graphics.ScatterModel=Backbone.Model.extend({initialize:function(t,e){},parse:function(t,e){var n=e.collection;return t.date&&(t.parsedDate=n.parseDate(t.date),t.displayDate=n.dateFormat(t.parsedDate)),"date"==n.xvalue?t[n.xvalue]=n.parseDate(t[n.xvalue]):"category"!=n.xvalue&&(t[n.xvalue]=parseFloat(t[n.xvalue])),"date"==n.yvalue?t[n.yvalue]=n.parseDate(t[n.yvalue]):"category"!=n.yvalue&&(t[n.yvalue]=parseFloat(t[n.yvalue])),n.rvalue&&(t[n.rvalue]=parseFloat(t[n.rvalue])),t}}),Reuters.Graphics.ScatterCollection=Backbone.Collection.extend({initialize:function(t,e){var n=this;_.each(e,function(t,e){n[e]=t})},comparator:function(t){},model:Reuters.Graphics.ScatterModel,parse:function(t){return t}}),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.pieCharter=window.Reuters.Graphics.pieCharter||{},window.Reuters.Graphics.pieCharter.Template=window.Reuters.Graphics.pieCharter.Template||{},window.Reuters.Graphics.pieCharter.Template.piesetup=function(t){var e,n="";Array.prototype.join;return n+='<div class="d-sm-flex flex-sm-row-reverse">\n',t.self.hasLegend&&(n+='\n\t<div class="pie-legend d-flex d-sm-block flex-row flex-wrap justify-content-center">\n\t\t',t.self.colorDomain.forEach(function(r,i){n+='\n\t\t\t<div class="legend-item d-flex flex-row mr-1">\n\t\t\t\t<div class="pie-legend-box" style="background-color:'+(null==(e=t.self.colorRange[i])?"":e)+';"></div>\n\t\t\t\t<div class="pie-legend-text">'+(null==(e=r)?"":e)+"</div>\n\t\t\t</div>\n\t\t"}),n+="\n\t</div>\n"),n+='\n<div id="'+(null==(e=t.self.targetDiv+"-chart")?"":e)+'" class="pie-chart"></div>\n</div>'}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.pieCharter=window.Reuters.Graphics.pieCharter||{},window.Reuters.Graphics.pieCharter.Template=window.Reuters.Graphics.pieCharter.Template||{},window.Reuters.Graphics.pieCharter.Template.pietooltip=function(t){var e,n="";return n+='<p class="muted text-uppercase">'+(null==(e=t.d.year)?"":e)+" "+(null==(e=t.d.election_type)?"":e)+'</p>\n<p class="tooltip-title">'+(null==(e=t.d.party_name_english)?"":e)+'</p>\n<p class="tooltip-display">'+(null==(e=t.d.seats)?"":e)+' Seats</p>\n<p class="tooltip-display">'+(null==(e=t.d["left-right-text"])?"":e)+"</p>"}}(),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.donut=Backbone.View.extend({margin:{top:10,left:50,right:0,bottom:0},duration:1500,delay:500,startAngle:-90,endAngle:90,tooltipTemplate:Reuters.Graphics.pieCharter.Template.pietooltip,setupTemplate:Reuters.Graphics.pieCharter.Template.piesetup,initialize:function(t){var e=this;this.options=t,_.each(t,function(t,n){e[n]=t}),e.loadData()},loadData:function(){var t=this;this.dataURL.indexOf("csv")!=-1||_.isObject(this.dataURL)||d3.json(t.dataURL,function(e){t.parseData(e)}),this.dataURL.indexOf("csv")>-1&&d3.csv(t.dataURL,function(e){t.parseData(e)}),_.isObject(this.dataURL)&&setTimeout(function(){t.parseData(t.dataURL)},100)},parseData:function(t){var e=this;e.colorDomain||(e.colorDomain=_.uniq(_.pluck(t,e.colorValue))),e.color=d3.scale.ordinal().domain(e.colorDomain).range(e.colorRange),e.upsideDown&&(e.startAngle=-90,e.endAngle=-270),e.wholePie&&(e.startAngle=0,e.endAngle=360),t.forEach(function(t){t[e.plotValue]=parseFloat(t[e.plotValue]),isNaN(t[e.plotValue])&&(t[e.plotValue]=0),e.multiArcs?t.arcName=t[e.multiArcs]:t.arcName="value"}),e.multiArcs?(e.multiArray=_.uniq(_.pluck(t,e.multiArcs)),e.multiSort&&(e.multiArray=e.multiSort),e.data=e.multiArray.map(function(n){return{name:n,values:_.groupBy(t,e.multiArcs)[n]}})):(e.multiArray=["value"],e.data=[{name:"value",values:t}]),e.numberOfItems=e.multiArray.length,console.log(e.data),e.baseRender()},baseRender:function(){var t=this;return t.trigger("baseRender:start"),t.multiArcs&&(t.margin.bottom=40),t.targetDiv=t.$el.attr("id"),t.$el.html(t.setupTemplate({self:t})),t.$chartEl=$("#"+t.targetDiv+"-chart"),t.chartDiv=t.$el.attr("id")+"-chart",t.width=t.$chartEl.width()-t.margin.left-t.margin.right,t.options.height||(t.height=t.$chartEl.width()-t.margin.top-t.margin.bottom),t.options.height<10&&(t.height=t.$chartEl.width()*t.options.height-t.margin.top-t.margin.bottom,t.svgHeight=t.height),t.heightTranslate=t.height/2,t.upsideDown&&(t.heightTranslate=0),0!==t.options.donutHoleSize&&(t.svgHeight=t.height/2),t.wholePie&&(t.svgHeight=t.height),t.radius||(t.radius=Math.min(t.width,t.height)/2),t.options.donutHoleSize||0===t.options.donutHoleSize||(t.donutHoleSize=t.radius/2),t.options.donutHoleSize<10&&t.options.donutHoleSize>0&&(t.donutHoleSize=t.radius/t.donutHoleSize),0===t.options.donutHoleSize&&(t.donutHoleSize=1),t.svg=d3.select("#"+t.chartDiv).append("svg").attr({width:t.width+t.margin.left+t.margin.right,height:t.svgHeight+t.margin.top+t.margin.bottom}).append("g").attr("transform","translate("+t.width/2+","+t.heightTranslate+")"),t.arc={},t.multiArray.forEach(function(e,n){var r=(t.radius-t.donutHoleSize)/t.numberOfItems,i=t.radius-r*n,a=t.radius-r*(n+1);t.arc[e]=d3.svg.arc().outerRadius(i).innerRadius(a)}),t.pie=d3.layout.pie().sort(function(e,n){if(aColor=t.colorDomain.indexOf(e[t.colorValue]),bColor=t.colorDomain.indexOf(n[t.colorValue]),aValue=e[t.plotValue],bValue=n[t.plotValue],aColor<bColor)return-1;if(aColor>bColor)return 1;if(aColor==bColor){if(aValue<bValue)return 1;if(aValue>bValue)return-1;if(aValue==bValue)return 0}return 0}).value(function(e){return e[t.plotValue]}).startAngle(t.startAngle*(Math.PI/180)).endAngle(t.endAngle*(Math.PI/180)),t.pieCharts=t.svg.selectAll(".pieChart").data(t.data,function(t){return t.name}).enter().append("g"),t.addArcs=t.pieCharts.selectAll(".arc").data(function(e){return t.pie(e.values)}).enter().append("g").attr("class","arc"),t.addArcs.append("path").attr("d",function(e){return t.arc[e.data.arcName](e)}).style("fill",function(e){return t.color(e.data[t.colorValue])}).attr("title",function(e){return t.tooltipTemplate({d:e.data})}),$(".arc path").tooltip({html:!0,placement:"bottom"}),t.multiArcs&&t.svg.selectAll(".arcLabels").data(t.multiSort).enter().append("text").attr("class","arcLabels").attr("y",20).attr("x",function(e,n){var r=t.multiSort.length,i=Math.abs(n-r+1),a=(t.radius-t.donutHoleSize)/r;return t.donutHoleSize+a*i+a/2}).text(function(t){return t}),$(window).on("resize",_.debounce(function(e){t.update()},100)),t.trigger("baseRender:end"),this},update:function(){var t=this;t.trigger("update:start"),t.width=t.$chartEl.width()-t.margin.left-t.margin.right,t.options.height||(t.height=t.$chartEl.width()-t.margin.top-t.margin.bottom),t.options.height<10&&(t.height=t.$chartEl.width()*t.options.height-t.margin.top-t.margin.bottom,t.svgHeight=t.height),t.heightTranslate=t.height/2,t.upsideDown&&(t.heightTranslate=0),0!==t.options.donutHoleSize&&(t.svgHeight=t.height/2),t.wholePie&&(t.svgHeight=t.height),t.options.radius||(t.radius=Math.min(t.width,t.height)/2),t.options.donutHoleSize||0===t.options.donutHoleSize||(t.donutHoleSize=t.radius/2),t.options.donutHoleSize<10&&t.options.donutHoleSize>0&&(t.donutHoleSize=t.radius/t.options.donutHoleSize),0===t.options.donutHoleSize&&(t.donutHoleSize=t.radius),0===t.options.donutHoleSize&&(t.donutHoleSize=1),d3.select("#"+t.chartDiv+" svg").transition().attr({width:t.width+t.margin.left+t.margin.right,height:t.svgHeight+t.margin.top+t.margin.bottom}),t.svg.transition().attr("transform","translate("+t.width/2+","+t.heightTranslate+")"),t.multiArray.forEach(function(e,n){var r=(t.radius-t.donutHoleSize)/t.numberOfItems,i=t.radius-r*n,a=t.radius-r*(n+1);t.arc[e].outerRadius(i).innerRadius(a)}),t.addArcs.selectAll("path").transition().attr("d",function(e){return t.arc[e.data.arcName](e)}),t.multiArcs&&t.svg.selectAll(".arcLabels").transition().attr("y",20).attr("x",function(e,n){var r=t.multiSort.length,i=Math.abs(n-r+1),a=(t.radius-t.donutHoleSize)/r;return t.donutHoleSize+a*i+a/2}).text(function(t){return t}),t.trigger("update:end")}}),function(){"use strict";function t(t){t.fn.swiper=function(e){var r;return t(this).each(function(){var t=new n(this,e);r||(r=t)}),r}}var e,n=function(t,i){function a(t){return Math.floor(t)}function o(){var t=_.params.autoplay,e=_.slides.eq(_.activeIndex);e.attr("data-swiper-autoplay")&&(t=e.attr("data-swiper-autoplay")||_.params.autoplay),_.autoplayTimeoutId=setTimeout(function(){_.params.loop?(_.fixLoop(),_._slideNext(),_.emit("onAutoplay",_)):_.isEnd?i.autoplayStopOnLast?_.stopAutoplay():(_._slideTo(0),_.emit("onAutoplay",_)):(_._slideNext(),_.emit("onAutoplay",_))},t)}function s(t,n){var r=e(t.target);if(!r.is(n))if("string"==typeof n)r=r.parents(n);else if(n.nodeType){var i;return r.parents().each(function(t,e){e===n&&(i=n)}),i?n:void 0}if(0!==r.length)return r[0]}function l(t,e){e=e||{};var n=window.MutationObserver||window.WebkitMutationObserver,r=new n(function(t){t.forEach(function(t){_.onResize(!0),_.emit("onObserverUpdate",_,t)})});r.observe(t,{attributes:"undefined"==typeof e.attributes||e.attributes,childList:"undefined"==typeof e.childList||e.childList,characterData:"undefined"==typeof e.characterData||e.characterData}),_.observers.push(r)}function u(t){t.originalEvent&&(t=t.originalEvent);var e=t.keyCode||t.charCode;if(!_.params.allowSwipeToNext&&(_.isHorizontal()&&39===e||!_.isHorizontal()&&40===e))return!1;if(!_.params.allowSwipeToPrev&&(_.isHorizontal()&&37===e||!_.isHorizontal()&&38===e))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===e||39===e||38===e||40===e){var n=!1;if(_.container.parents("."+_.params.slideClass).length>0&&0===_.container.parents("."+_.params.slideActiveClass).length)return;var r={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,a=window.innerHeight,o=_.container.offset();_.rtl&&(o.left=o.left-_.container[0].scrollLeft);for(var s=[[o.left,o.top],[o.left+_.width,o.top],[o.left,o.top+_.height],[o.left+_.width,o.top+_.height]],l=0;l<s.length;l++){var u=s[l];u[0]>=r.left&&u[0]<=r.left+i&&u[1]>=r.top&&u[1]<=r.top+a&&(n=!0)}if(!n)return}_.isHorizontal()?(37!==e&&39!==e||(t.preventDefault?t.preventDefault():t.returnValue=!1),(39===e&&!_.rtl||37===e&&_.rtl)&&_.slideNext(),(37===e&&!_.rtl||39===e&&_.rtl)&&_.slidePrev()):(38!==e&&40!==e||(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&_.slideNext(),38===e&&_.slidePrev()),_.emit("onKeyPress",_,e)}}function c(){var t="onwheel",e=t in document;if(!e){var n=document.createElement("div");n.setAttribute(t,"return;"),e="function"==typeof n[t]}return!e&&document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0&&(e=document.implementation.hasFeature("Events.wheel","3.0")),e}function d(t){var e=10,n=40,r=800,i=0,a=0,o=0,s=0;return"detail"in t&&(a=t.detail),"wheelDelta"in t&&(a=-t.wheelDelta/120),"wheelDeltaY"in t&&(a=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(i=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=a,a=0),o=i*e,s=a*e,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(o=t.deltaX),(o||s)&&t.deltaMode&&(1===t.deltaMode?(o*=n,s*=n):(o*=r,s*=r)),o&&!i&&(i=o<1?-1:1),s&&!a&&(a=s<1?-1:1),{spinX:i,spinY:a,pixelX:o,pixelY:s}}function h(t){t.originalEvent&&(t=t.originalEvent);var e=0,n=_.rtl?-1:1,r=d(t);if(_.params.mousewheelForceToAxis)if(_.isHorizontal()){if(!(Math.abs(r.pixelX)>Math.abs(r.pixelY)))return;e=r.pixelX*n}else{if(!(Math.abs(r.pixelY)>Math.abs(r.pixelX)))return;e=r.pixelY}else e=Math.abs(r.pixelX)>Math.abs(r.pixelY)?-r.pixelX*n:-r.pixelY;if(0!==e){if(_.params.mousewheelInvert&&(e=-e),_.params.freeMode){var i=_.getWrapperTranslate()+e*_.params.mousewheelSensitivity,a=_.isBeginning,o=_.isEnd;if(i>=_.minTranslate()&&(i=_.minTranslate()),i<=_.maxTranslate()&&(i=_.maxTranslate()),_.setWrapperTransition(0),_.setWrapperTranslate(i),_.updateProgress(),_.updateActiveIndex(),(!a&&_.isBeginning||!o&&_.isEnd)&&_.updateClasses(),_.params.freeModeSticky?(clearTimeout(_.mousewheel.timeout),_.mousewheel.timeout=setTimeout(function(){_.slideReset()},300)):_.params.lazyLoading&&_.lazy&&_.lazy.load(),_.emit("onScroll",_,t),_.params.autoplay&&_.params.autoplayDisableOnInteraction&&_.stopAutoplay(),0===i||i===_.maxTranslate())return}else{if((new window.Date).getTime()-_.mousewheel.lastScrollTime>60)if(e<0)if(_.isEnd&&!_.params.loop||_.animating){if(_.params.mousewheelReleaseOnEdges)return!0}else _.slideNext(),_.emit("onScroll",_,t);else if(_.isBeginning&&!_.params.loop||_.animating){if(_.params.mousewheelReleaseOnEdges)return!0}else _.slidePrev(),_.emit("onScroll",_,t);_.mousewheel.lastScrollTime=(new window.Date).getTime()}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}}function f(t,n){t=e(t);var r,i,a,o=_.rtl?-1:1;r=t.attr("data-swiper-parallax")||"0",i=t.attr("data-swiper-parallax-x"),a=t.attr("data-swiper-parallax-y"),i||a?(i=i||"0",a=a||"0"):_.isHorizontal()?(i=r,a="0"):(a=r,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*n*o+"%":i*n*o+"px",a=a.indexOf("%")>=0?parseInt(a,10)*n+"%":a*n+"px",t.transform("translate3d("+i+", "+a+",0px)")}function p(t){return 0!==t.indexOf("on")&&(t=t[0]!==t[0].toUpperCase()?"on"+t[0].toUpperCase()+t.substring(1):"on"+t),t}if(!(this instanceof n))return new n(t,i);var g={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},m=i&&i.virtualTranslate;i=i||{};var v={};for(var y in i)if("object"!=typeof i[y]||null===i[y]||(i[y].nodeType||i[y]===window||i[y]===document||"undefined"!=typeof r&&i[y]instanceof r||"undefined"!=typeof jQuery&&i[y]instanceof jQuery))v[y]=i[y];else{v[y]={};for(var b in i[y])v[y][b]=i[y][b]}for(var w in g)if("undefined"==typeof i[w])i[w]=g[w];else if("object"==typeof i[w])for(var x in g[w])"undefined"==typeof i[w][x]&&(i[w][x]=g[w][x]);var _=this;if(_.params=i,_.originalParams=v,_.classNames=[],"undefined"!=typeof e&&"undefined"!=typeof r&&(e=r),("undefined"!=typeof e||(e="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r))&&(_.$=e,_.currentBreakpoint=void 0,_.getActiveBreakpoint=function(){if(!_.params.breakpoints)return!1;var t,e=!1,n=[];for(t in _.params.breakpoints)_.params.breakpoints.hasOwnProperty(t)&&n.push(t);n.sort(function(t,e){return parseInt(t,10)>parseInt(e,10)});for(var r=0;r<n.length;r++)t=n[r],t>=window.innerWidth&&!e&&(e=t);return e||"max"},_.setBreakpoint=function(){var t=_.getActiveBreakpoint();if(t&&_.currentBreakpoint!==t){var e=t in _.params.breakpoints?_.params.breakpoints[t]:_.originalParams,n=_.params.loop&&e.slidesPerView!==_.params.slidesPerView;for(var r in e)_.params[r]=e[r];_.currentBreakpoint=t,n&&_.destroyLoop&&_.reLoop(!0)}},_.params.breakpoints&&_.setBreakpoint(),_.container=e(t),0!==_.container.length)){if(_.container.length>1){var C=[];return _.container.each(function(){C.push(new n(this,i))}),C}_.container[0].swiper=_,_.container.data("swiper",_),_.classNames.push(_.params.containerModifierClass+_.params.direction),_.params.freeMode&&_.classNames.push(_.params.containerModifierClass+"free-mode"),_.support.flexbox||(_.classNames.push(_.params.containerModifierClass+"no-flexbox"),_.params.slidesPerColumn=1),_.params.autoHeight&&_.classNames.push(_.params.containerModifierClass+"autoheight"),(_.params.parallax||_.params.watchSlidesVisibility)&&(_.params.watchSlidesProgress=!0),_.params.touchReleaseOnEdges&&(_.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(_.params.effect)>=0&&(_.support.transforms3d?(_.params.watchSlidesProgress=!0,_.classNames.push(_.params.containerModifierClass+"3d")):_.params.effect="slide"),"slide"!==_.params.effect&&_.classNames.push(_.params.containerModifierClass+_.params.effect),"cube"===_.params.effect&&(_.params.resistanceRatio=0,_.params.slidesPerView=1,_.params.slidesPerColumn=1,_.params.slidesPerGroup=1,_.params.centeredSlides=!1,_.params.spaceBetween=0,_.params.virtualTranslate=!0),"fade"!==_.params.effect&&"flip"!==_.params.effect||(_.params.slidesPerView=1,_.params.slidesPerColumn=1,_.params.slidesPerGroup=1,_.params.watchSlidesProgress=!0,_.params.spaceBetween=0,"undefined"==typeof m&&(_.params.virtualTranslate=!0)),_.params.grabCursor&&_.support.touch&&(_.params.grabCursor=!1),_.wrapper=_.container.children("."+_.params.wrapperClass),_.params.pagination&&(_.paginationContainer=e(_.params.pagination),_.params.uniqueNavElements&&"string"==typeof _.params.pagination&&_.paginationContainer.length>1&&1===_.container.find(_.params.pagination).length&&(_.paginationContainer=_.container.find(_.params.pagination)),"bullets"===_.params.paginationType&&_.params.paginationClickable?_.paginationContainer.addClass(_.params.paginationModifierClass+"clickable"):_.params.paginationClickable=!1,_.paginationContainer.addClass(_.params.paginationModifierClass+_.params.paginationType)),(_.params.nextButton||_.params.prevButton)&&(_.params.nextButton&&(_.nextButton=e(_.params.nextButton),_.params.uniqueNavElements&&"string"==typeof _.params.nextButton&&_.nextButton.length>1&&1===_.container.find(_.params.nextButton).length&&(_.nextButton=_.container.find(_.params.nextButton))),_.params.prevButton&&(_.prevButton=e(_.params.prevButton),_.params.uniqueNavElements&&"string"==typeof _.params.prevButton&&_.prevButton.length>1&&1===_.container.find(_.params.prevButton).length&&(_.prevButton=_.container.find(_.params.prevButton)))),_.isHorizontal=function(){return"horizontal"===_.params.direction},_.rtl=_.isHorizontal()&&("rtl"===_.container[0].dir.toLowerCase()||"rtl"===_.container.css("direction")),_.rtl&&_.classNames.push(_.params.containerModifierClass+"rtl"),_.rtl&&(_.wrongRTL="-webkit-box"===_.wrapper.css("display")),_.params.slidesPerColumn>1&&_.classNames.push(_.params.containerModifierClass+"multirow"),_.device.android&&_.classNames.push(_.params.containerModifierClass+"android"),_.container.addClass(_.classNames.join(" ")),_.translate=0,_.progress=0,_.velocity=0,_.lockSwipeToNext=function(){_.params.allowSwipeToNext=!1,_.params.allowSwipeToPrev===!1&&_.params.grabCursor&&_.unsetGrabCursor()},_.lockSwipeToPrev=function(){_.params.allowSwipeToPrev=!1,_.params.allowSwipeToNext===!1&&_.params.grabCursor&&_.unsetGrabCursor()},_.lockSwipes=function(){_.params.allowSwipeToNext=_.params.allowSwipeToPrev=!1,_.params.grabCursor&&_.unsetGrabCursor()},_.unlockSwipeToNext=function(){_.params.allowSwipeToNext=!0,_.params.allowSwipeToPrev===!0&&_.params.grabCursor&&_.setGrabCursor()},_.unlockSwipeToPrev=function(){_.params.allowSwipeToPrev=!0,_.params.allowSwipeToNext===!0&&_.params.grabCursor&&_.setGrabCursor()},_.unlockSwipes=function(){_.params.allowSwipeToNext=_.params.allowSwipeToPrev=!0,_.params.grabCursor&&_.setGrabCursor()},_.setGrabCursor=function(t){_.container[0].style.cursor="move",_.container[0].style.cursor=t?"-webkit-grabbing":"-webkit-grab",_.container[0].style.cursor=t?"-moz-grabbin":"-moz-grab",_.container[0].style.cursor=t?"grabbing":"grab"},_.unsetGrabCursor=function(){_.container[0].style.cursor=""},_.params.grabCursor&&_.setGrabCursor(),_.imagesToLoad=[],_.imagesLoaded=0,_.loadImage=function(t,e,n,r,i,a){function o(){a&&a()}var s;t.complete&&i?o():e?(s=new window.Image,s.onload=o,s.onerror=o,r&&(s.sizes=r),n&&(s.srcset=n),e&&(s.src=e)):o()},_.preloadImages=function(){function t(){"undefined"!=typeof _&&null!==_&&_&&(void 0!==_.imagesLoaded&&_.imagesLoaded++,_.imagesLoaded===_.imagesToLoad.length&&(_.params.updateOnImagesReady&&_.update(),_.emit("onImagesReady",_)))}_.imagesToLoad=_.container.find("img");for(var e=0;e<_.imagesToLoad.length;e++)_.loadImage(_.imagesToLoad[e],_.imagesToLoad[e].currentSrc||_.imagesToLoad[e].getAttribute("src"),_.imagesToLoad[e].srcset||_.imagesToLoad[e].getAttribute("srcset"),_.imagesToLoad[e].sizes||_.imagesToLoad[e].getAttribute("sizes"),!0,t)},_.autoplayTimeoutId=void 0,_.autoplaying=!1,_.autoplayPaused=!1,_.startAutoplay=function(){return"undefined"==typeof _.autoplayTimeoutId&&(!!_.params.autoplay&&(!_.autoplaying&&(_.autoplaying=!0,_.emit("onAutoplayStart",_),void o())))},_.stopAutoplay=function(t){_.autoplayTimeoutId&&(_.autoplayTimeoutId&&clearTimeout(_.autoplayTimeoutId),_.autoplaying=!1,_.autoplayTimeoutId=void 0,_.emit("onAutoplayStop",_))},_.pauseAutoplay=function(t){_.autoplayPaused||(_.autoplayTimeoutId&&clearTimeout(_.autoplayTimeoutId),_.autoplayPaused=!0,0===t?(_.autoplayPaused=!1,o()):_.wrapper.transitionEnd(function(){_&&(_.autoplayPaused=!1,_.autoplaying?o():_.stopAutoplay())}))},_.minTranslate=function(){return-_.snapGrid[0]},_.maxTranslate=function(){return-_.snapGrid[_.snapGrid.length-1]},_.updateAutoHeight=function(){var t,e=[],n=0;if("auto"!==_.params.slidesPerView&&_.params.slidesPerView>1)for(t=0;t<Math.ceil(_.params.slidesPerView);t++){var r=_.activeIndex+t;if(r>_.slides.length)break;e.push(_.slides.eq(r)[0])}else e.push(_.slides.eq(_.activeIndex)[0]);for(t=0;t<e.length;t++)if("undefined"!=typeof e[t]){var i=e[t].offsetHeight;n=i>n?i:n}n&&_.wrapper.css("height",n+"px")},_.updateContainerSize=function(){var t,e;t="undefined"!=typeof _.params.width?_.params.width:_.container[0].clientWidth,e="undefined"!=typeof _.params.height?_.params.height:_.container[0].clientHeight,0===t&&_.isHorizontal()||0===e&&!_.isHorizontal()||(t=t-parseInt(_.container.css("padding-left"),10)-parseInt(_.container.css("padding-right"),10),e=e-parseInt(_.container.css("padding-top"),10)-parseInt(_.container.css("padding-bottom"),10),_.width=t,_.height=e,_.size=_.isHorizontal()?_.width:_.height)},_.updateSlidesSize=function(){_.slides=_.wrapper.children("."+_.params.slideClass),_.snapGrid=[],_.slidesGrid=[],_.slidesSizesGrid=[];var t,e=_.params.spaceBetween,n=-_.params.slidesOffsetBefore,r=0,i=0;if("undefined"!=typeof _.size){"string"==typeof e&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*_.size),_.virtualSize=-e,_.rtl?_.slides.css({marginLeft:"",marginTop:""}):_.slides.css({marginRight:"",marginBottom:""});var o;_.params.slidesPerColumn>1&&(o=Math.floor(_.slides.length/_.params.slidesPerColumn)===_.slides.length/_.params.slidesPerColumn?_.slides.length:Math.ceil(_.slides.length/_.params.slidesPerColumn)*_.params.slidesPerColumn,"auto"!==_.params.slidesPerView&&"row"===_.params.slidesPerColumnFill&&(o=Math.max(o,_.params.slidesPerView*_.params.slidesPerColumn)));var s,l=_.params.slidesPerColumn,u=o/l,c=u-(_.params.slidesPerColumn*u-_.slides.length);for(t=0;t<_.slides.length;t++){s=0;var d=_.slides.eq(t);if(_.params.slidesPerColumn>1){var h,f,p;"column"===_.params.slidesPerColumnFill?(f=Math.floor(t/l),p=t-f*l,(f>c||f===c&&p===l-1)&&++p>=l&&(p=0,f++),h=f+p*o/l,d.css({"-webkit-box-ordinal-group":h,"-moz-box-ordinal-group":h,"-ms-flex-order":h,"-webkit-order":h,order:h})):(p=Math.floor(t/u),f=t-p*u),d.css("margin-"+(_.isHorizontal()?"top":"left"),0!==p&&_.params.spaceBetween&&_.params.spaceBetween+"px").attr("data-swiper-column",f).attr("data-swiper-row",p)}"none"!==d.css("display")&&("auto"===_.params.slidesPerView?(s=_.isHorizontal()?d.outerWidth(!0):d.outerHeight(!0),_.params.roundLengths&&(s=a(s))):(s=(_.size-(_.params.slidesPerView-1)*e)/_.params.slidesPerView,_.params.roundLengths&&(s=a(s)),_.isHorizontal()?_.slides[t].style.width=s+"px":_.slides[t].style.height=s+"px"),_.slides[t].swiperSlideSize=s,_.slidesSizesGrid.push(s),_.params.centeredSlides?(n=n+s/2+r/2+e,0===r&&0!==t&&(n=n-_.size/2-e),0===t&&(n=n-_.size/2-e),Math.abs(n)<.001&&(n=0),i%_.params.slidesPerGroup===0&&_.snapGrid.push(n),_.slidesGrid.push(n)):(i%_.params.slidesPerGroup===0&&_.snapGrid.push(n),_.slidesGrid.push(n),n=n+s+e),_.virtualSize+=s+e,r=s,i++)}_.virtualSize=Math.max(_.virtualSize,_.size)+_.params.slidesOffsetAfter;var g;if(_.rtl&&_.wrongRTL&&("slide"===_.params.effect||"coverflow"===_.params.effect)&&_.wrapper.css({width:_.virtualSize+_.params.spaceBetween+"px"}),_.support.flexbox&&!_.params.setWrapperSize||(_.isHorizontal()?_.wrapper.css({width:_.virtualSize+_.params.spaceBetween+"px"}):_.wrapper.css({height:_.virtualSize+_.params.spaceBetween+"px"})),_.params.slidesPerColumn>1&&(_.virtualSize=(s+_.params.spaceBetween)*o,_.virtualSize=Math.ceil(_.virtualSize/_.params.slidesPerColumn)-_.params.spaceBetween,_.isHorizontal()?_.wrapper.css({width:_.virtualSize+_.params.spaceBetween+"px"}):_.wrapper.css({height:_.virtualSize+_.params.spaceBetween+"px"}),_.params.centeredSlides)){for(g=[],t=0;t<_.snapGrid.length;t++)_.snapGrid[t]<_.virtualSize+_.snapGrid[0]&&g.push(_.snapGrid[t]);_.snapGrid=g}if(!_.params.centeredSlides){for(g=[],t=0;t<_.snapGrid.length;t++)_.snapGrid[t]<=_.virtualSize-_.size&&g.push(_.snapGrid[t]);_.snapGrid=g,Math.floor(_.virtualSize-_.size)-Math.floor(_.snapGrid[_.snapGrid.length-1])>1&&_.snapGrid.push(_.virtualSize-_.size)}0===_.snapGrid.length&&(_.snapGrid=[0]),0!==_.params.spaceBetween&&(_.isHorizontal()?_.rtl?_.slides.css({marginLeft:e+"px"}):_.slides.css({marginRight:e+"px"}):_.slides.css({marginBottom:e+"px"})),_.params.watchSlidesProgress&&_.updateSlidesOffset()}},_.updateSlidesOffset=function(){for(var t=0;t<_.slides.length;t++)_.slides[t].swiperSlideOffset=_.isHorizontal()?_.slides[t].offsetLeft:_.slides[t].offsetTop;
},_.currentSlidesPerView=function(){var t,e,n=1;if(_.params.centeredSlides){var r,i=_.slides[_.activeIndex].swiperSlideSize;for(t=_.activeIndex+1;t<_.slides.length;t++)_.slides[t]&&!r&&(i+=_.slides[t].swiperSlideSize,n++,i>_.size&&(r=!0));for(e=_.activeIndex-1;e>=0;e--)_.slides[e]&&!r&&(i+=_.slides[e].swiperSlideSize,n++,i>_.size&&(r=!0))}else for(t=_.activeIndex+1;t<_.slides.length;t++)_.slidesGrid[t]-_.slidesGrid[_.activeIndex]<_.size&&n++;return n},_.updateSlidesProgress=function(t){if("undefined"==typeof t&&(t=_.translate||0),0!==_.slides.length){"undefined"==typeof _.slides[0].swiperSlideOffset&&_.updateSlidesOffset();var e=-t;_.rtl&&(e=t),_.slides.removeClass(_.params.slideVisibleClass);for(var n=0;n<_.slides.length;n++){var r=_.slides[n],i=(e+(_.params.centeredSlides?_.minTranslate():0)-r.swiperSlideOffset)/(r.swiperSlideSize+_.params.spaceBetween);if(_.params.watchSlidesVisibility){var a=-(e-r.swiperSlideOffset),o=a+_.slidesSizesGrid[n],s=a>=0&&a<_.size||o>0&&o<=_.size||a<=0&&o>=_.size;s&&_.slides.eq(n).addClass(_.params.slideVisibleClass)}r.progress=_.rtl?-i:i}}},_.updateProgress=function(t){"undefined"==typeof t&&(t=_.translate||0);var e=_.maxTranslate()-_.minTranslate(),n=_.isBeginning,r=_.isEnd;0===e?(_.progress=0,_.isBeginning=_.isEnd=!0):(_.progress=(t-_.minTranslate())/e,_.isBeginning=_.progress<=0,_.isEnd=_.progress>=1),_.isBeginning&&!n&&_.emit("onReachBeginning",_),_.isEnd&&!r&&_.emit("onReachEnd",_),_.params.watchSlidesProgress&&_.updateSlidesProgress(t),_.emit("onProgress",_,_.progress)},_.updateActiveIndex=function(){var t,e,n,r=_.rtl?_.translate:-_.translate;for(e=0;e<_.slidesGrid.length;e++)"undefined"!=typeof _.slidesGrid[e+1]?r>=_.slidesGrid[e]&&r<_.slidesGrid[e+1]-(_.slidesGrid[e+1]-_.slidesGrid[e])/2?t=e:r>=_.slidesGrid[e]&&r<_.slidesGrid[e+1]&&(t=e+1):r>=_.slidesGrid[e]&&(t=e);_.params.normalizeSlideIndex&&(t<0||"undefined"==typeof t)&&(t=0),n=Math.floor(t/_.params.slidesPerGroup),n>=_.snapGrid.length&&(n=_.snapGrid.length-1),t!==_.activeIndex&&(_.snapIndex=n,_.previousIndex=_.activeIndex,_.activeIndex=t,_.updateClasses(),_.updateRealIndex())},_.updateRealIndex=function(){_.realIndex=parseInt(_.slides.eq(_.activeIndex).attr("data-swiper-slide-index")||_.activeIndex,10)},_.updateClasses=function(){_.slides.removeClass(_.params.slideActiveClass+" "+_.params.slideNextClass+" "+_.params.slidePrevClass+" "+_.params.slideDuplicateActiveClass+" "+_.params.slideDuplicateNextClass+" "+_.params.slideDuplicatePrevClass);var t=_.slides.eq(_.activeIndex);t.addClass(_.params.slideActiveClass),i.loop&&(t.hasClass(_.params.slideDuplicateClass)?_.wrapper.children("."+_.params.slideClass+":not(."+_.params.slideDuplicateClass+')[data-swiper-slide-index="'+_.realIndex+'"]').addClass(_.params.slideDuplicateActiveClass):_.wrapper.children("."+_.params.slideClass+"."+_.params.slideDuplicateClass+'[data-swiper-slide-index="'+_.realIndex+'"]').addClass(_.params.slideDuplicateActiveClass));var n=t.next("."+_.params.slideClass).addClass(_.params.slideNextClass);_.params.loop&&0===n.length&&(n=_.slides.eq(0),n.addClass(_.params.slideNextClass));var r=t.prev("."+_.params.slideClass).addClass(_.params.slidePrevClass);if(_.params.loop&&0===r.length&&(r=_.slides.eq(-1),r.addClass(_.params.slidePrevClass)),i.loop&&(n.hasClass(_.params.slideDuplicateClass)?_.wrapper.children("."+_.params.slideClass+":not(."+_.params.slideDuplicateClass+')[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(_.params.slideDuplicateNextClass):_.wrapper.children("."+_.params.slideClass+"."+_.params.slideDuplicateClass+'[data-swiper-slide-index="'+n.attr("data-swiper-slide-index")+'"]').addClass(_.params.slideDuplicateNextClass),r.hasClass(_.params.slideDuplicateClass)?_.wrapper.children("."+_.params.slideClass+":not(."+_.params.slideDuplicateClass+')[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(_.params.slideDuplicatePrevClass):_.wrapper.children("."+_.params.slideClass+"."+_.params.slideDuplicateClass+'[data-swiper-slide-index="'+r.attr("data-swiper-slide-index")+'"]').addClass(_.params.slideDuplicatePrevClass)),_.paginationContainer&&_.paginationContainer.length>0){var a,o=_.params.loop?Math.ceil((_.slides.length-2*_.loopedSlides)/_.params.slidesPerGroup):_.snapGrid.length;if(_.params.loop?(a=Math.ceil((_.activeIndex-_.loopedSlides)/_.params.slidesPerGroup),a>_.slides.length-1-2*_.loopedSlides&&(a-=_.slides.length-2*_.loopedSlides),a>o-1&&(a-=o),a<0&&"bullets"!==_.params.paginationType&&(a=o+a)):a="undefined"!=typeof _.snapIndex?_.snapIndex:_.activeIndex||0,"bullets"===_.params.paginationType&&_.bullets&&_.bullets.length>0&&(_.bullets.removeClass(_.params.bulletActiveClass),_.paginationContainer.length>1?_.bullets.each(function(){e(this).index()===a&&e(this).addClass(_.params.bulletActiveClass)}):_.bullets.eq(a).addClass(_.params.bulletActiveClass)),"fraction"===_.params.paginationType&&(_.paginationContainer.find("."+_.params.paginationCurrentClass).text(a+1),_.paginationContainer.find("."+_.params.paginationTotalClass).text(o)),"progress"===_.params.paginationType){var s=(a+1)/o,l=s,u=1;_.isHorizontal()||(u=s,l=1),_.paginationContainer.find("."+_.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+u+")").transition(_.params.speed)}"custom"===_.params.paginationType&&_.params.paginationCustomRender&&(_.paginationContainer.html(_.params.paginationCustomRender(_,a+1,o)),_.emit("onPaginationRendered",_,_.paginationContainer[0]))}_.params.loop||(_.params.prevButton&&_.prevButton&&_.prevButton.length>0&&(_.isBeginning?(_.prevButton.addClass(_.params.buttonDisabledClass),_.params.a11y&&_.a11y&&_.a11y.disable(_.prevButton)):(_.prevButton.removeClass(_.params.buttonDisabledClass),_.params.a11y&&_.a11y&&_.a11y.enable(_.prevButton))),_.params.nextButton&&_.nextButton&&_.nextButton.length>0&&(_.isEnd?(_.nextButton.addClass(_.params.buttonDisabledClass),_.params.a11y&&_.a11y&&_.a11y.disable(_.nextButton)):(_.nextButton.removeClass(_.params.buttonDisabledClass),_.params.a11y&&_.a11y&&_.a11y.enable(_.nextButton))))},_.updatePagination=function(){if(_.params.pagination&&_.paginationContainer&&_.paginationContainer.length>0){var t="";if("bullets"===_.params.paginationType){for(var e=_.params.loop?Math.ceil((_.slides.length-2*_.loopedSlides)/_.params.slidesPerGroup):_.snapGrid.length,n=0;n<e;n++)t+=_.params.paginationBulletRender?_.params.paginationBulletRender(_,n,_.params.bulletClass):"<"+_.params.paginationElement+' class="'+_.params.bulletClass+'"></'+_.params.paginationElement+">";_.paginationContainer.html(t),_.bullets=_.paginationContainer.find("."+_.params.bulletClass),_.params.paginationClickable&&_.params.a11y&&_.a11y&&_.a11y.initPagination()}"fraction"===_.params.paginationType&&(t=_.params.paginationFractionRender?_.params.paginationFractionRender(_,_.params.paginationCurrentClass,_.params.paginationTotalClass):'<span class="'+_.params.paginationCurrentClass+'"></span> / <span class="'+_.params.paginationTotalClass+'"></span>',_.paginationContainer.html(t)),"progress"===_.params.paginationType&&(t=_.params.paginationProgressRender?_.params.paginationProgressRender(_,_.params.paginationProgressbarClass):'<span class="'+_.params.paginationProgressbarClass+'"></span>',_.paginationContainer.html(t)),"custom"!==_.params.paginationType&&_.emit("onPaginationRendered",_,_.paginationContainer[0])}},_.update=function(t){function e(){_.rtl?-_.translate:_.translate;n=Math.min(Math.max(_.translate,_.maxTranslate()),_.minTranslate()),_.setWrapperTranslate(n),_.updateActiveIndex(),_.updateClasses()}if(_){_.updateContainerSize(),_.updateSlidesSize(),_.updateProgress(),_.updatePagination(),_.updateClasses(),_.params.scrollbar&&_.scrollbar&&_.scrollbar.set();var n;if(t){var r;_.controller&&_.controller.spline&&(_.controller.spline=void 0),_.params.freeMode?(e(),_.params.autoHeight&&_.updateAutoHeight()):(r=("auto"===_.params.slidesPerView||_.params.slidesPerView>1)&&_.isEnd&&!_.params.centeredSlides?_.slideTo(_.slides.length-1,0,!1,!0):_.slideTo(_.activeIndex,0,!1,!0),r||e())}else _.params.autoHeight&&_.updateAutoHeight()}},_.onResize=function(t){_.params.onBeforeResize&&_.params.onBeforeResize(_),_.params.breakpoints&&_.setBreakpoint();var e=_.params.allowSwipeToPrev,n=_.params.allowSwipeToNext;_.params.allowSwipeToPrev=_.params.allowSwipeToNext=!0,_.updateContainerSize(),_.updateSlidesSize(),("auto"===_.params.slidesPerView||_.params.freeMode||t)&&_.updatePagination(),_.params.scrollbar&&_.scrollbar&&_.scrollbar.set(),_.controller&&_.controller.spline&&(_.controller.spline=void 0);var r=!1;if(_.params.freeMode){var i=Math.min(Math.max(_.translate,_.maxTranslate()),_.minTranslate());_.setWrapperTranslate(i),_.updateActiveIndex(),_.updateClasses(),_.params.autoHeight&&_.updateAutoHeight()}else _.updateClasses(),r=("auto"===_.params.slidesPerView||_.params.slidesPerView>1)&&_.isEnd&&!_.params.centeredSlides?_.slideTo(_.slides.length-1,0,!1,!0):_.slideTo(_.activeIndex,0,!1,!0);_.params.lazyLoading&&!r&&_.lazy&&_.lazy.load(),_.params.allowSwipeToPrev=e,_.params.allowSwipeToNext=n,_.params.onAfterResize&&_.params.onAfterResize(_)},_.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?_.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(_.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),_.touchEvents={start:_.support.touch||!_.params.simulateTouch?"touchstart":_.touchEventsDesktop.start,move:_.support.touch||!_.params.simulateTouch?"touchmove":_.touchEventsDesktop.move,end:_.support.touch||!_.params.simulateTouch?"touchend":_.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===_.params.touchEventsTarget?_.container:_.wrapper).addClass("swiper-wp8-"+_.params.direction),_.initEvents=function(t){var e=t?"off":"on",n=t?"removeEventListener":"addEventListener",r="container"===_.params.touchEventsTarget?_.container[0]:_.wrapper[0],a=_.support.touch?r:document,o=!!_.params.nested;if(_.browser.ie)r[n](_.touchEvents.start,_.onTouchStart,!1),a[n](_.touchEvents.move,_.onTouchMove,o),a[n](_.touchEvents.end,_.onTouchEnd,!1);else{if(_.support.touch){var s=!("touchstart"!==_.touchEvents.start||!_.support.passiveListener||!_.params.passiveListeners)&&{passive:!0,capture:!1};r[n](_.touchEvents.start,_.onTouchStart,s),r[n](_.touchEvents.move,_.onTouchMove,o),r[n](_.touchEvents.end,_.onTouchEnd,s)}(i.simulateTouch&&!_.device.ios&&!_.device.android||i.simulateTouch&&!_.support.touch&&_.device.ios)&&(r[n]("mousedown",_.onTouchStart,!1),document[n]("mousemove",_.onTouchMove,o),document[n]("mouseup",_.onTouchEnd,!1))}window[n]("resize",_.onResize),_.params.nextButton&&_.nextButton&&_.nextButton.length>0&&(_.nextButton[e]("click",_.onClickNext),_.params.a11y&&_.a11y&&_.nextButton[e]("keydown",_.a11y.onEnterKey)),_.params.prevButton&&_.prevButton&&_.prevButton.length>0&&(_.prevButton[e]("click",_.onClickPrev),_.params.a11y&&_.a11y&&_.prevButton[e]("keydown",_.a11y.onEnterKey)),_.params.pagination&&_.params.paginationClickable&&(_.paginationContainer[e]("click","."+_.params.bulletClass,_.onClickIndex),_.params.a11y&&_.a11y&&_.paginationContainer[e]("keydown","."+_.params.bulletClass,_.a11y.onEnterKey)),(_.params.preventClicks||_.params.preventClicksPropagation)&&r[n]("click",_.preventClicks,!0)},_.attachEvents=function(){_.initEvents()},_.detachEvents=function(){_.initEvents(!0)},_.allowClick=!0,_.preventClicks=function(t){_.allowClick||(_.params.preventClicks&&t.preventDefault(),_.params.preventClicksPropagation&&_.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))},_.onClickNext=function(t){t.preventDefault(),_.isEnd&&!_.params.loop||_.slideNext()},_.onClickPrev=function(t){t.preventDefault(),_.isBeginning&&!_.params.loop||_.slidePrev()},_.onClickIndex=function(t){t.preventDefault();var n=e(this).index()*_.params.slidesPerGroup;_.params.loop&&(n+=_.loopedSlides),_.slideTo(n)},_.updateClickedSlide=function(t){var n=s(t,"."+_.params.slideClass),r=!1;if(n)for(var i=0;i<_.slides.length;i++)_.slides[i]===n&&(r=!0);if(!n||!r)return _.clickedSlide=void 0,void(_.clickedIndex=void 0);if(_.clickedSlide=n,_.clickedIndex=e(n).index(),_.params.slideToClickedSlide&&void 0!==_.clickedIndex&&_.clickedIndex!==_.activeIndex){var a,o=_.clickedIndex,l="auto"===_.params.slidesPerView?_.currentSlidesPerView():_.params.slidesPerView;if(_.params.loop){if(_.animating)return;a=parseInt(e(_.clickedSlide).attr("data-swiper-slide-index"),10),_.params.centeredSlides?o<_.loopedSlides-l/2||o>_.slides.length-_.loopedSlides+l/2?(_.fixLoop(),o=_.wrapper.children("."+_.params.slideClass+'[data-swiper-slide-index="'+a+'"]:not(.'+_.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){_.slideTo(o)},0)):_.slideTo(o):o>_.slides.length-l?(_.fixLoop(),o=_.wrapper.children("."+_.params.slideClass+'[data-swiper-slide-index="'+a+'"]:not(.'+_.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){_.slideTo(o)},0)):_.slideTo(o)}else _.slideTo(o)}};var S,T,E,M,D,k,A,O,R,L,N="input, select, textarea, button, video",P=Date.now(),I=[];_.animating=!1,_.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var z,j;_.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),z="touchstart"===t.type,z||!("which"in t)||3!==t.which){if(_.params.noSwiping&&s(t,"."+_.params.noSwipingClass))return void(_.allowClick=!0);if(!_.params.swipeHandler||s(t,_.params.swipeHandler)){var n=_.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r=_.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(_.device.ios&&_.params.iOSEdgeSwipeDetection&&n<=_.params.iOSEdgeSwipeThreshold)){if(S=!0,T=!1,E=!0,D=void 0,j=void 0,_.touches.startX=n,_.touches.startY=r,M=Date.now(),_.allowClick=!0,_.updateContainerSize(),_.swipeDirection=void 0,_.params.threshold>0&&(O=!1),"touchstart"!==t.type){var i=!0;e(t.target).is(N)&&(i=!1),document.activeElement&&e(document.activeElement).is(N)&&document.activeElement.blur(),i&&t.preventDefault()}_.emit("onTouchStart",_,t)}}}},_.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!z||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return _.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(_.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(_.params.onlyExternal)return _.allowClick=!1,void(S&&(_.touches.startX=_.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,_.touches.startY=_.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,M=Date.now()));if(z&&_.params.touchReleaseOnEdges&&!_.params.loop)if(_.isHorizontal()){if(_.touches.currentX<_.touches.startX&&_.translate<=_.maxTranslate()||_.touches.currentX>_.touches.startX&&_.translate>=_.minTranslate())return}else if(_.touches.currentY<_.touches.startY&&_.translate<=_.maxTranslate()||_.touches.currentY>_.touches.startY&&_.translate>=_.minTranslate())return;if(z&&document.activeElement&&t.target===document.activeElement&&e(t.target).is(N))return T=!0,void(_.allowClick=!1);if(E&&_.emit("onTouchMove",_,t),!(t.targetTouches&&t.targetTouches.length>1)){if(_.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,_.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,"undefined"==typeof D){var n;_.isHorizontal()&&_.touches.currentY===_.touches.startY||!_.isHorizontal()&&_.touches.currentX===_.touches.startX?D=!1:(n=180*Math.atan2(Math.abs(_.touches.currentY-_.touches.startY),Math.abs(_.touches.currentX-_.touches.startX))/Math.PI,D=_.isHorizontal()?n>_.params.touchAngle:90-n>_.params.touchAngle)}if(D&&_.emit("onTouchMoveOpposite",_,t),"undefined"==typeof j&&(_.touches.currentX===_.touches.startX&&_.touches.currentY===_.touches.startY||(j=!0)),S){if(D)return void(S=!1);if(j){_.allowClick=!1,_.emit("onSliderMove",_,t),t.preventDefault(),_.params.touchMoveStopPropagation&&!_.params.nested&&t.stopPropagation(),T||(i.loop&&_.fixLoop(),A=_.getWrapperTranslate(),_.setWrapperTransition(0),_.animating&&_.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),_.params.autoplay&&_.autoplaying&&(_.params.autoplayDisableOnInteraction?_.stopAutoplay():_.pauseAutoplay()),L=!1,!_.params.grabCursor||_.params.allowSwipeToNext!==!0&&_.params.allowSwipeToPrev!==!0||_.setGrabCursor(!0)),T=!0;var r=_.touches.diff=_.isHorizontal()?_.touches.currentX-_.touches.startX:_.touches.currentY-_.touches.startY;r*=_.params.touchRatio,_.rtl&&(r=-r),_.swipeDirection=r>0?"prev":"next",k=r+A;var a=!0;if(r>0&&k>_.minTranslate()?(a=!1,_.params.resistance&&(k=_.minTranslate()-1+Math.pow(-_.minTranslate()+A+r,_.params.resistanceRatio))):r<0&&k<_.maxTranslate()&&(a=!1,_.params.resistance&&(k=_.maxTranslate()+1-Math.pow(_.maxTranslate()-A-r,_.params.resistanceRatio))),a&&(t.preventedByNestedSwiper=!0),!_.params.allowSwipeToNext&&"next"===_.swipeDirection&&k<A&&(k=A),!_.params.allowSwipeToPrev&&"prev"===_.swipeDirection&&k>A&&(k=A),_.params.threshold>0){if(!(Math.abs(r)>_.params.threshold||O))return void(k=A);if(!O)return O=!0,_.touches.startX=_.touches.currentX,_.touches.startY=_.touches.currentY,k=A,void(_.touches.diff=_.isHorizontal()?_.touches.currentX-_.touches.startX:_.touches.currentY-_.touches.startY)}_.params.followFinger&&((_.params.freeMode||_.params.watchSlidesProgress)&&_.updateActiveIndex(),_.params.freeMode&&(0===I.length&&I.push({position:_.touches[_.isHorizontal()?"startX":"startY"],time:M}),I.push({position:_.touches[_.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),_.updateProgress(k),_.setWrapperTranslate(k))}}}}},_.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),E&&_.emit("onTouchEnd",_,t),E=!1,S){_.params.grabCursor&&T&&S&&(_.params.allowSwipeToNext===!0||_.params.allowSwipeToPrev===!0)&&_.setGrabCursor(!1);var n=Date.now(),r=n-M;if(_.allowClick&&(_.updateClickedSlide(t),_.emit("onTap",_,t),r<300&&n-P>300&&(R&&clearTimeout(R),R=setTimeout(function(){_&&(_.params.paginationHide&&_.paginationContainer.length>0&&!e(t.target).hasClass(_.params.bulletClass)&&_.paginationContainer.toggleClass(_.params.paginationHiddenClass),_.emit("onClick",_,t))},300)),r<300&&n-P<300&&(R&&clearTimeout(R),_.emit("onDoubleTap",_,t))),P=Date.now(),setTimeout(function(){_&&(_.allowClick=!0)},0),!S||!T||!_.swipeDirection||0===_.touches.diff||k===A)return void(S=T=!1);S=T=!1;var i;if(i=_.params.followFinger?_.rtl?_.translate:-_.translate:-k,_.params.freeMode){if(i<-_.minTranslate())return void _.slideTo(_.activeIndex);if(i>-_.maxTranslate())return void(_.slides.length<_.snapGrid.length?_.slideTo(_.snapGrid.length-1):_.slideTo(_.slides.length-1));if(_.params.freeModeMomentum){if(I.length>1){var a=I.pop(),o=I.pop(),s=a.position-o.position,l=a.time-o.time;_.velocity=s/l,_.velocity=_.velocity/2,Math.abs(_.velocity)<_.params.freeModeMinimumVelocity&&(_.velocity=0),(l>150||(new window.Date).getTime()-a.time>300)&&(_.velocity=0)}else _.velocity=0;_.velocity=_.velocity*_.params.freeModeMomentumVelocityRatio,I.length=0;var u=1e3*_.params.freeModeMomentumRatio,c=_.velocity*u,d=_.translate+c;_.rtl&&(d=-d);var h,f=!1,p=20*Math.abs(_.velocity)*_.params.freeModeMomentumBounceRatio;if(d<_.maxTranslate())_.params.freeModeMomentumBounce?(d+_.maxTranslate()<-p&&(d=_.maxTranslate()-p),h=_.maxTranslate(),f=!0,L=!0):d=_.maxTranslate();else if(d>_.minTranslate())_.params.freeModeMomentumBounce?(d-_.minTranslate()>p&&(d=_.minTranslate()+p),h=_.minTranslate(),f=!0,L=!0):d=_.minTranslate();else if(_.params.freeModeSticky){var g,m=0;for(m=0;m<_.snapGrid.length;m+=1)if(_.snapGrid[m]>-d){g=m;break}d=Math.abs(_.snapGrid[g]-d)<Math.abs(_.snapGrid[g-1]-d)||"next"===_.swipeDirection?_.snapGrid[g]:_.snapGrid[g-1],_.rtl||(d=-d)}if(0!==_.velocity)u=_.rtl?Math.abs((-d-_.translate)/_.velocity):Math.abs((d-_.translate)/_.velocity);else if(_.params.freeModeSticky)return void _.slideReset();_.params.freeModeMomentumBounce&&f?(_.updateProgress(h),_.setWrapperTransition(u),_.setWrapperTranslate(d),_.onTransitionStart(),_.animating=!0,_.wrapper.transitionEnd(function(){_&&L&&(_.emit("onMomentumBounce",_),_.setWrapperTransition(_.params.speed),_.setWrapperTranslate(h),_.wrapper.transitionEnd(function(){_&&_.onTransitionEnd()}))})):_.velocity?(_.updateProgress(d),_.setWrapperTransition(u),_.setWrapperTranslate(d),_.onTransitionStart(),_.animating||(_.animating=!0,_.wrapper.transitionEnd(function(){_&&_.onTransitionEnd()}))):_.updateProgress(d),_.updateActiveIndex()}return void((!_.params.freeModeMomentum||r>=_.params.longSwipesMs)&&(_.updateProgress(),_.updateActiveIndex()))}var v,y=0,b=_.slidesSizesGrid[0];for(v=0;v<_.slidesGrid.length;v+=_.params.slidesPerGroup)"undefined"!=typeof _.slidesGrid[v+_.params.slidesPerGroup]?i>=_.slidesGrid[v]&&i<_.slidesGrid[v+_.params.slidesPerGroup]&&(y=v,b=_.slidesGrid[v+_.params.slidesPerGroup]-_.slidesGrid[v]):i>=_.slidesGrid[v]&&(y=v,b=_.slidesGrid[_.slidesGrid.length-1]-_.slidesGrid[_.slidesGrid.length-2]);var w=(i-_.slidesGrid[y])/b;if(r>_.params.longSwipesMs){if(!_.params.longSwipes)return void _.slideTo(_.activeIndex);"next"===_.swipeDirection&&(w>=_.params.longSwipesRatio?_.slideTo(y+_.params.slidesPerGroup):_.slideTo(y)),"prev"===_.swipeDirection&&(w>1-_.params.longSwipesRatio?_.slideTo(y+_.params.slidesPerGroup):_.slideTo(y))}else{if(!_.params.shortSwipes)return void _.slideTo(_.activeIndex);"next"===_.swipeDirection&&_.slideTo(y+_.params.slidesPerGroup),"prev"===_.swipeDirection&&_.slideTo(y)}}},_._slideTo=function(t,e){return _.slideTo(t,e,!0,!0)},_.slideTo=function(t,e,n,r){"undefined"==typeof n&&(n=!0),"undefined"==typeof t&&(t=0),t<0&&(t=0),_.snapIndex=Math.floor(t/_.params.slidesPerGroup),_.snapIndex>=_.snapGrid.length&&(_.snapIndex=_.snapGrid.length-1);var i=-_.snapGrid[_.snapIndex];if(_.params.autoplay&&_.autoplaying&&(r||!_.params.autoplayDisableOnInteraction?_.pauseAutoplay(e):_.stopAutoplay()),_.updateProgress(i),_.params.normalizeSlideIndex)for(var a=0;a<_.slidesGrid.length;a++)-Math.floor(100*i)>=Math.floor(100*_.slidesGrid[a])&&(t=a);return!(!_.params.allowSwipeToNext&&i<_.translate&&i<_.minTranslate())&&(!(!_.params.allowSwipeToPrev&&i>_.translate&&i>_.maxTranslate()&&(_.activeIndex||0)!==t)&&("undefined"==typeof e&&(e=_.params.speed),_.previousIndex=_.activeIndex||0,_.activeIndex=t,_.updateRealIndex(),_.rtl&&-i===_.translate||!_.rtl&&i===_.translate?(_.params.autoHeight&&_.updateAutoHeight(),_.updateClasses(),"slide"!==_.params.effect&&_.setWrapperTranslate(i),!1):(_.updateClasses(),_.onTransitionStart(n),0===e||_.browser.lteIE9?(_.setWrapperTranslate(i),_.setWrapperTransition(0),_.onTransitionEnd(n)):(_.setWrapperTranslate(i),_.setWrapperTransition(e),_.animating||(_.animating=!0,_.wrapper.transitionEnd(function(){_&&_.onTransitionEnd(n)}))),!0)))},_.onTransitionStart=function(t){"undefined"==typeof t&&(t=!0),_.params.autoHeight&&_.updateAutoHeight(),_.lazy&&_.lazy.onTransitionStart(),t&&(_.emit("onTransitionStart",_),_.activeIndex!==_.previousIndex&&(_.emit("onSlideChangeStart",_),_.activeIndex>_.previousIndex?_.emit("onSlideNextStart",_):_.emit("onSlidePrevStart",_)))},_.onTransitionEnd=function(t){_.animating=!1,_.setWrapperTransition(0),"undefined"==typeof t&&(t=!0),_.lazy&&_.lazy.onTransitionEnd(),t&&(_.emit("onTransitionEnd",_),_.activeIndex!==_.previousIndex&&(_.emit("onSlideChangeEnd",_),_.activeIndex>_.previousIndex?_.emit("onSlideNextEnd",_):_.emit("onSlidePrevEnd",_))),_.params.history&&_.history&&_.history.setHistory(_.params.history,_.activeIndex),_.params.hashnav&&_.hashnav&&_.hashnav.setHash()},_.slideNext=function(t,e,n){if(_.params.loop){if(_.animating)return!1;_.fixLoop();_.container[0].clientLeft;return _.slideTo(_.activeIndex+_.params.slidesPerGroup,e,t,n)}return _.slideTo(_.activeIndex+_.params.slidesPerGroup,e,t,n)},_._slideNext=function(t){return _.slideNext(!0,t,!0)},_.slidePrev=function(t,e,n){if(_.params.loop){if(_.animating)return!1;_.fixLoop();_.container[0].clientLeft;return _.slideTo(_.activeIndex-1,e,t,n)}return _.slideTo(_.activeIndex-1,e,t,n)},_._slidePrev=function(t){return _.slidePrev(!0,t,!0)},_.slideReset=function(t,e,n){return _.slideTo(_.activeIndex,e,t)},_.disableTouchControl=function(){return _.params.onlyExternal=!0,!0},_.enableTouchControl=function(){return _.params.onlyExternal=!1,!0},_.setWrapperTransition=function(t,e){_.wrapper.transition(t),"slide"!==_.params.effect&&_.effects[_.params.effect]&&_.effects[_.params.effect].setTransition(t),_.params.parallax&&_.parallax&&_.parallax.setTransition(t),_.params.scrollbar&&_.scrollbar&&_.scrollbar.setTransition(t),_.params.control&&_.controller&&_.controller.setTransition(t,e),_.emit("onSetTransition",_,t)},_.setWrapperTranslate=function(t,e,n){var r=0,i=0,o=0;_.isHorizontal()?r=_.rtl?-t:t:i=t,_.params.roundLengths&&(r=a(r),i=a(i)),_.params.virtualTranslate||(_.support.transforms3d?_.wrapper.transform("translate3d("+r+"px, "+i+"px, "+o+"px)"):_.wrapper.transform("translate("+r+"px, "+i+"px)")),_.translate=_.isHorizontal()?r:i;var s,l=_.maxTranslate()-_.minTranslate();s=0===l?0:(t-_.minTranslate())/l,s!==_.progress&&_.updateProgress(t),e&&_.updateActiveIndex(),"slide"!==_.params.effect&&_.effects[_.params.effect]&&_.effects[_.params.effect].setTranslate(_.translate),_.params.parallax&&_.parallax&&_.parallax.setTranslate(_.translate),_.params.scrollbar&&_.scrollbar&&_.scrollbar.setTranslate(_.translate),_.params.control&&_.controller&&_.controller.setTranslate(_.translate,n),_.emit("onSetTranslate",_,_.translate)},_.getTranslate=function(t,e){var n,r,i,a;return"undefined"==typeof e&&(e="x"),_.params.virtualTranslate?_.rtl?-_.translate:_.translate:(i=window.getComputedStyle(t,null),window.WebKitCSSMatrix?(r=i.transform||i.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),a=new window.WebKitCSSMatrix("none"===r?"":r)):(a=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),"x"===e&&(r=window.WebKitCSSMatrix?a.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(r=window.WebKitCSSMatrix?a.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),_.rtl&&r&&(r=-r),r||0)},_.getWrapperTranslate=function(t){return"undefined"==typeof t&&(t=_.isHorizontal()?"x":"y"),_.getTranslate(_.wrapper[0],t)},_.observers=[],_.initObservers=function(){if(_.params.observeParents)for(var t=_.container.parents(),e=0;e<t.length;e++)l(t[e]);l(_.container[0],{childList:!1}),l(_.wrapper[0],{attributes:!1})},_.disconnectObservers=function(){for(var t=0;t<_.observers.length;t++)_.observers[t].disconnect();_.observers=[]},_.createLoop=function(){_.wrapper.children("."+_.params.slideClass+"."+_.params.slideDuplicateClass).remove();var t=_.wrapper.children("."+_.params.slideClass);"auto"!==_.params.slidesPerView||_.params.loopedSlides||(_.params.loopedSlides=t.length),_.loopedSlides=parseInt(_.params.loopedSlides||_.params.slidesPerView,10),_.loopedSlides=_.loopedSlides+_.params.loopAdditionalSlides,_.loopedSlides>t.length&&(_.loopedSlides=t.length);var n,r=[],i=[];for(t.each(function(n,a){var o=e(this);n<_.loopedSlides&&i.push(a),n<t.length&&n>=t.length-_.loopedSlides&&r.push(a),o.attr("data-swiper-slide-index",n)}),n=0;n<i.length;n++)_.wrapper.append(e(i[n].cloneNode(!0)).addClass(_.params.slideDuplicateClass));for(n=r.length-1;n>=0;n--)_.wrapper.prepend(e(r[n].cloneNode(!0)).addClass(_.params.slideDuplicateClass))},_.destroyLoop=function(){_.wrapper.children("."+_.params.slideClass+"."+_.params.slideDuplicateClass).remove(),_.slides.removeAttr("data-swiper-slide-index")},_.reLoop=function(t){var e=_.activeIndex-_.loopedSlides;_.destroyLoop(),_.createLoop(),_.updateSlidesSize(),t&&_.slideTo(e+_.loopedSlides,0,!1)},_.fixLoop=function(){var t;_.activeIndex<_.loopedSlides?(t=_.slides.length-3*_.loopedSlides+_.activeIndex,t+=_.loopedSlides,_.slideTo(t,0,!1,!0)):("auto"===_.params.slidesPerView&&_.activeIndex>=2*_.loopedSlides||_.activeIndex>_.slides.length-2*_.params.slidesPerView)&&(t=-_.slides.length+_.activeIndex+_.loopedSlides,t+=_.loopedSlides,_.slideTo(t,0,!1,!0))},_.appendSlide=function(t){if(_.params.loop&&_.destroyLoop(),"object"==typeof t&&t.length)for(var e=0;e<t.length;e++)t[e]&&_.wrapper.append(t[e]);else _.wrapper.append(t);_.params.loop&&_.createLoop(),_.params.observer&&_.support.observer||_.update(!0)},_.prependSlide=function(t){_.params.loop&&_.destroyLoop();var e=_.activeIndex+1;if("object"==typeof t&&t.length){for(var n=0;n<t.length;n++)t[n]&&_.wrapper.prepend(t[n]);e=_.activeIndex+t.length}else _.wrapper.prepend(t);_.params.loop&&_.createLoop(),_.params.observer&&_.support.observer||_.update(!0),_.slideTo(e,0,!1)},_.removeSlide=function(t){_.params.loop&&(_.destroyLoop(),_.slides=_.wrapper.children("."+_.params.slideClass));var e,n=_.activeIndex;if("object"==typeof t&&t.length){for(var r=0;r<t.length;r++)e=t[r],_.slides[e]&&_.slides.eq(e).remove(),e<n&&n--;n=Math.max(n,0)}else e=t,_.slides[e]&&_.slides.eq(e).remove(),e<n&&n--,n=Math.max(n,0);_.params.loop&&_.createLoop(),_.params.observer&&_.support.observer||_.update(!0),_.params.loop?_.slideTo(n+_.loopedSlides,0,!1):_.slideTo(n,0,!1)},_.removeAllSlides=function(){for(var t=[],e=0;e<_.slides.length;e++)t.push(e);_.removeSlide(t)},_.effects={fade:{setTranslate:function(){for(var t=0;t<_.slides.length;t++){var e=_.slides.eq(t),n=e[0].swiperSlideOffset,r=-n;_.params.virtualTranslate||(r-=_.translate);var i=0;_.isHorizontal()||(i=r,r=0);var a=_.params.fade.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:a}).transform("translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(t){if(_.slides.transition(t),_.params.virtualTranslate&&0!==t){var e=!1;_.slides.transitionEnd(function(){if(!e&&_){e=!0,_.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=0;n<t.length;n++)_.wrapper.trigger(t[n])}})}}},flip:{setTranslate:function(){for(var t=0;t<_.slides.length;t++){var n=_.slides.eq(t),r=n[0].progress;_.params.flip.limitRotation&&(r=Math.max(Math.min(n[0].progress,1),-1));var i=n[0].swiperSlideOffset,a=-180*r,o=a,s=0,l=-i,u=0;if(_.isHorizontal()?_.rtl&&(o=-o):(u=l,l=0,s=-o,o=0),n[0].style.zIndex=-Math.abs(Math.round(r))+_.slides.length,_.params.flip.slideShadows){var c=_.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),d=_.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===c.length&&(c=e('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"left":"top")+'"></div>'),n.append(c)),0===d.length&&(d=e('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"right":"bottom")+'"></div>'),n.append(d)),c.length&&(c[0].style.opacity=Math.max(-r,0)),d.length&&(d[0].style.opacity=Math.max(r,0))}n.transform("translate3d("+l+"px, "+u+"px, 0px) rotateX("+s+"deg) rotateY("+o+"deg)")}},setTransition:function(t){if(_.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),_.params.virtualTranslate&&0!==t){var n=!1;_.slides.eq(_.activeIndex).transitionEnd(function(){if(!n&&_&&e(this).hasClass(_.params.slideActiveClass)){n=!0,_.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=0;r<t.length;r++)_.wrapper.trigger(t[r])}})}}},cube:{setTranslate:function(){var t,n=0;_.params.cube.shadow&&(_.isHorizontal()?(t=_.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),_.wrapper.append(t)),t.css({height:_.width+"px"})):(t=_.container.find(".swiper-cube-shadow"),0===t.length&&(t=e('<div class="swiper-cube-shadow"></div>'),_.container.append(t))));for(var r=0;r<_.slides.length;r++){var i=_.slides.eq(r),a=90*r,o=Math.floor(a/360);_.rtl&&(a=-a,
o=Math.floor(-a/360));var s=Math.max(Math.min(i[0].progress,1),-1),l=0,u=0,c=0;r%4===0?(l=4*-o*_.size,c=0):(r-1)%4===0?(l=0,c=4*-o*_.size):(r-2)%4===0?(l=_.size+4*o*_.size,c=_.size):(r-3)%4===0&&(l=-_.size,c=3*_.size+4*_.size*o),_.rtl&&(l=-l),_.isHorizontal()||(u=l,l=0);var d="rotateX("+(_.isHorizontal()?0:-a)+"deg) rotateY("+(_.isHorizontal()?a:0)+"deg) translate3d("+l+"px, "+u+"px, "+c+"px)";if(s<=1&&s>-1&&(n=90*r+90*s,_.rtl&&(n=90*-r-90*s)),i.transform(d),_.params.cube.slideShadows){var h=_.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),f=_.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===h.length&&(h=e('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"left":"top")+'"></div>'),i.append(h)),0===f.length&&(f=e('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"right":"bottom")+'"></div>'),i.append(f)),h.length&&(h[0].style.opacity=Math.max(-s,0)),f.length&&(f[0].style.opacity=Math.max(s,0))}}if(_.wrapper.css({"-webkit-transform-origin":"50% 50% -"+_.size/2+"px","-moz-transform-origin":"50% 50% -"+_.size/2+"px","-ms-transform-origin":"50% 50% -"+_.size/2+"px","transform-origin":"50% 50% -"+_.size/2+"px"}),_.params.cube.shadow)if(_.isHorizontal())t.transform("translate3d(0px, "+(_.width/2+_.params.cube.shadowOffset)+"px, "+-_.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+_.params.cube.shadowScale+")");else{var p=Math.abs(n)-90*Math.floor(Math.abs(n)/90),g=1.5-(Math.sin(2*p*Math.PI/360)/2+Math.cos(2*p*Math.PI/360)/2),m=_.params.cube.shadowScale,v=_.params.cube.shadowScale/g,y=_.params.cube.shadowOffset;t.transform("scale3d("+m+", 1, "+v+") translate3d(0px, "+(_.height/2+y)+"px, "+-_.height/2/v+"px) rotateX(-90deg)")}var b=_.isSafari||_.isUiWebView?-_.size/2:0;_.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(_.isHorizontal()?0:n)+"deg) rotateY("+(_.isHorizontal()?-n:0)+"deg)")},setTransition:function(t){_.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),_.params.cube.shadow&&!_.isHorizontal()&&_.container.find(".swiper-cube-shadow").transition(t)}},coverflow:{setTranslate:function(){for(var t=_.translate,n=_.isHorizontal()?-t+_.width/2:-t+_.height/2,r=_.isHorizontal()?_.params.coverflow.rotate:-_.params.coverflow.rotate,i=_.params.coverflow.depth,a=0,o=_.slides.length;a<o;a++){var s=_.slides.eq(a),l=_.slidesSizesGrid[a],u=s[0].swiperSlideOffset,c=(n-u-l/2)/l*_.params.coverflow.modifier,d=_.isHorizontal()?r*c:0,h=_.isHorizontal()?0:r*c,f=-i*Math.abs(c),p=_.isHorizontal()?0:_.params.coverflow.stretch*c,g=_.isHorizontal()?_.params.coverflow.stretch*c:0;Math.abs(g)<.001&&(g=0),Math.abs(p)<.001&&(p=0),Math.abs(f)<.001&&(f=0),Math.abs(d)<.001&&(d=0),Math.abs(h)<.001&&(h=0);var m="translate3d("+g+"px,"+p+"px,"+f+"px)  rotateX("+h+"deg) rotateY("+d+"deg)";if(s.transform(m),s[0].style.zIndex=-Math.abs(Math.round(c))+1,_.params.coverflow.slideShadows){var v=_.isHorizontal()?s.find(".swiper-slide-shadow-left"):s.find(".swiper-slide-shadow-top"),y=_.isHorizontal()?s.find(".swiper-slide-shadow-right"):s.find(".swiper-slide-shadow-bottom");0===v.length&&(v=e('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"left":"top")+'"></div>'),s.append(v)),0===y.length&&(y=e('<div class="swiper-slide-shadow-'+(_.isHorizontal()?"right":"bottom")+'"></div>'),s.append(y)),v.length&&(v[0].style.opacity=c>0?c:0),y.length&&(y[0].style.opacity=-c>0?-c:0)}}if(_.browser.ie){var b=_.wrapper[0].style;b.perspectiveOrigin=n+"px 50%"}},setTransition:function(t){_.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}}},_.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,n){if("undefined"!=typeof t&&("undefined"==typeof n&&(n=!0),0!==_.slides.length)){var r=_.slides.eq(t),i=r.find("."+_.params.lazyLoadingClass+":not(."+_.params.lazyStatusLoadedClass+"):not(."+_.params.lazyStatusLoadingClass+")");!r.hasClass(_.params.lazyLoadingClass)||r.hasClass(_.params.lazyStatusLoadedClass)||r.hasClass(_.params.lazyStatusLoadingClass)||(i=i.add(r[0])),0!==i.length&&i.each(function(){var t=e(this);t.addClass(_.params.lazyStatusLoadingClass);var i=t.attr("data-background"),a=t.attr("data-src"),o=t.attr("data-srcset"),s=t.attr("data-sizes");_.loadImage(t[0],a||i,o,s,!1,function(){if("undefined"!=typeof _&&null!==_&&_){if(i?(t.css("background-image",'url("'+i+'")'),t.removeAttr("data-background")):(o&&(t.attr("srcset",o),t.removeAttr("data-srcset")),s&&(t.attr("sizes",s),t.removeAttr("data-sizes")),a&&(t.attr("src",a),t.removeAttr("data-src"))),t.addClass(_.params.lazyStatusLoadedClass).removeClass(_.params.lazyStatusLoadingClass),r.find("."+_.params.lazyPreloaderClass+", ."+_.params.preloaderClass).remove(),_.params.loop&&n){var e=r.attr("data-swiper-slide-index");if(r.hasClass(_.params.slideDuplicateClass)){var l=_.wrapper.children('[data-swiper-slide-index="'+e+'"]:not(.'+_.params.slideDuplicateClass+")");_.lazy.loadImageInSlide(l.index(),!1)}else{var u=_.wrapper.children("."+_.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');_.lazy.loadImageInSlide(u.index(),!1)}}_.emit("onLazyImageReady",_,r[0],t[0])}}),_.emit("onLazyImageLoad",_,r[0],t[0])})}},load:function(){var t,n=_.params.slidesPerView;if("auto"===n&&(n=0),_.lazy.initialImageLoaded||(_.lazy.initialImageLoaded=!0),_.params.watchSlidesVisibility)_.wrapper.children("."+_.params.slideVisibleClass).each(function(){_.lazy.loadImageInSlide(e(this).index())});else if(n>1)for(t=_.activeIndex;t<_.activeIndex+n;t++)_.slides[t]&&_.lazy.loadImageInSlide(t);else _.lazy.loadImageInSlide(_.activeIndex);if(_.params.lazyLoadingInPrevNext)if(n>1||_.params.lazyLoadingInPrevNextAmount&&_.params.lazyLoadingInPrevNextAmount>1){var r=_.params.lazyLoadingInPrevNextAmount,i=n,a=Math.min(_.activeIndex+i+Math.max(r,i),_.slides.length),o=Math.max(_.activeIndex-Math.max(i,r),0);for(t=_.activeIndex+n;t<a;t++)_.slides[t]&&_.lazy.loadImageInSlide(t);for(t=o;t<_.activeIndex;t++)_.slides[t]&&_.lazy.loadImageInSlide(t)}else{var s=_.wrapper.children("."+_.params.slideNextClass);s.length>0&&_.lazy.loadImageInSlide(s.index());var l=_.wrapper.children("."+_.params.slidePrevClass);l.length>0&&_.lazy.loadImageInSlide(l.index())}},onTransitionStart:function(){_.params.lazyLoading&&(_.params.lazyLoadingOnTransitionStart||!_.params.lazyLoadingOnTransitionStart&&!_.lazy.initialImageLoaded)&&_.lazy.load()},onTransitionEnd:function(){_.params.lazyLoading&&!_.params.lazyLoadingOnTransitionStart&&_.lazy.load()}},_.scrollbar={isTouched:!1,setDragPosition:function(t){var e=_.scrollbar,n=_.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY,r=n-e.track.offset()[_.isHorizontal()?"left":"top"]-e.dragSize/2,i=-_.minTranslate()*e.moveDivider,a=-_.maxTranslate()*e.moveDivider;r<i?r=i:r>a&&(r=a),r=-r/e.moveDivider,_.updateProgress(r),_.setWrapperTranslate(r,!0)},dragStart:function(t){var e=_.scrollbar;e.isTouched=!0,t.preventDefault(),t.stopPropagation(),e.setDragPosition(t),clearTimeout(e.dragTimeout),e.track.transition(0),_.params.scrollbarHide&&e.track.css("opacity",1),_.wrapper.transition(100),e.drag.transition(100),_.emit("onScrollbarDragStart",_)},dragMove:function(t){var e=_.scrollbar;e.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),_.wrapper.transition(0),e.track.transition(0),e.drag.transition(0),_.emit("onScrollbarDragMove",_))},dragEnd:function(t){var e=_.scrollbar;e.isTouched&&(e.isTouched=!1,_.params.scrollbarHide&&(clearTimeout(e.dragTimeout),e.dragTimeout=setTimeout(function(){e.track.css("opacity",0),e.track.transition(400)},1e3)),_.emit("onScrollbarDragEnd",_),_.params.scrollbarSnapOnRelease&&_.slideReset())},draggableEvents:function(){return _.params.simulateTouch!==!1||_.support.touch?_.touchEvents:_.touchEventsDesktop}(),enableDraggable:function(){var t=_.scrollbar,n=_.support.touch?t.track:document;e(t.track).on(t.draggableEvents.start,t.dragStart),e(n).on(t.draggableEvents.move,t.dragMove),e(n).on(t.draggableEvents.end,t.dragEnd)},disableDraggable:function(){var t=_.scrollbar,n=_.support.touch?t.track:document;e(t.track).off(t.draggableEvents.start,t.dragStart),e(n).off(t.draggableEvents.move,t.dragMove),e(n).off(t.draggableEvents.end,t.dragEnd)},set:function(){if(_.params.scrollbar){var t=_.scrollbar;t.track=e(_.params.scrollbar),_.params.uniqueNavElements&&"string"==typeof _.params.scrollbar&&t.track.length>1&&1===_.container.find(_.params.scrollbar).length&&(t.track=_.container.find(_.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=e('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=_.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=_.size/_.virtualSize,t.moveDivider=t.divider*(t.trackSize/_.size),t.dragSize=t.trackSize*t.divider,_.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",t.divider>=1?t.track[0].style.display="none":t.track[0].style.display="",_.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(_.params.scrollbar){var t,e=_.scrollbar,n=(_.translate||0,e.dragSize);t=(e.trackSize-e.dragSize)*_.progress,_.rtl&&_.isHorizontal()?(t=-t,t>0?(n=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(n=e.trackSize+t)):t<0?(n=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(n=e.trackSize-t),_.isHorizontal()?(_.support.transforms3d?e.drag.transform("translate3d("+t+"px, 0, 0)"):e.drag.transform("translateX("+t+"px)"),e.drag[0].style.width=n+"px"):(_.support.transforms3d?e.drag.transform("translate3d(0px, "+t+"px, 0)"):e.drag.transform("translateY("+t+"px)"),e.drag[0].style.height=n+"px"),_.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))}},setTransition:function(t){_.params.scrollbar&&_.scrollbar.drag.transition(t)}},_.controller={LinearSpline:function(t,e){var n=function(){var t,e,n;return function(r,i){for(e=-1,t=r.length;t-e>1;)r[n=t+e>>1]<=i?e=n:t=n;return t}}();this.x=t,this.y=e,this.lastIndex=t.length-1;var r,i;this.x.length;this.interpolate=function(t){return t?(i=n(this.x,t),r=i-1,(t-this.x[r])*(this.y[i]-this.y[r])/(this.x[i]-this.x[r])+this.y[r]):0}},getInterpolateFunction:function(t){_.controller.spline||(_.controller.spline=_.params.loop?new _.controller.LinearSpline(_.slidesGrid,t.slidesGrid):new _.controller.LinearSpline(_.snapGrid,t.snapGrid))},setTranslate:function(t,e){function r(e){t=e.rtl&&"horizontal"===e.params.direction?-_.translate:_.translate,"slide"===_.params.controlBy&&(_.controller.getInterpolateFunction(e),a=-_.controller.spline.interpolate(-t)),a&&"container"!==_.params.controlBy||(i=(e.maxTranslate()-e.minTranslate())/(_.maxTranslate()-_.minTranslate()),a=(t-_.minTranslate())*i+e.minTranslate()),_.params.controlInverse&&(a=e.maxTranslate()-a),e.updateProgress(a),e.setWrapperTranslate(a,!1,_),e.updateActiveIndex()}var i,a,o=_.params.control;if(Array.isArray(o))for(var s=0;s<o.length;s++)o[s]!==e&&o[s]instanceof n&&r(o[s]);else o instanceof n&&e!==o&&r(o)},setTransition:function(t,e){function r(e){e.setWrapperTransition(t,_),0!==t&&(e.onTransitionStart(),e.wrapper.transitionEnd(function(){a&&(e.params.loop&&"slide"===_.params.controlBy&&e.fixLoop(),e.onTransitionEnd())}))}var i,a=_.params.control;if(Array.isArray(a))for(i=0;i<a.length;i++)a[i]!==e&&a[i]instanceof n&&r(a[i]);else a instanceof n&&e!==a&&r(a)}},_.hashnav={onHashCange:function(t,e){var n=document.location.hash.replace("#",""),r=_.slides.eq(_.activeIndex).attr("data-hash");n!==r&&_.slideTo(_.wrapper.children("."+_.params.slideClass+'[data-hash="'+n+'"]').index())},attachEvents:function(t){var n=t?"off":"on";e(window)[n]("hashchange",_.hashnav.onHashCange)},setHash:function(){if(_.hashnav.initialized&&_.params.hashnav)if(_.params.replaceState&&window.history&&window.history.replaceState)window.history.replaceState(null,null,"#"+_.slides.eq(_.activeIndex).attr("data-hash")||"");else{var t=_.slides.eq(_.activeIndex),e=t.attr("data-hash")||t.attr("data-history");document.location.hash=e||""}},init:function(){if(_.params.hashnav&&!_.params.history){_.hashnav.initialized=!0;var t=document.location.hash.replace("#","");if(t)for(var e=0,n=0,r=_.slides.length;n<r;n++){var i=_.slides.eq(n),a=i.attr("data-hash")||i.attr("data-history");if(a===t&&!i.hasClass(_.params.slideDuplicateClass)){var o=i.index();_.slideTo(o,e,_.params.runCallbacksOnInit,!0)}}_.params.hashnavWatchState&&_.hashnav.attachEvents()}},destroy:function(){_.params.hashnavWatchState&&_.hashnav.attachEvents(!0)}},_.history={init:function(){if(_.params.history){if(!window.history||!window.history.pushState)return _.params.history=!1,void(_.params.hashnav=!0);_.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,_.params.runCallbacksOnInit),_.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){_.history.paths=_.history.getPathValues(),_.history.scrollToSlide(_.params.speed,_.history.paths.value,!1)},getPathValues:function(){var t=window.location.pathname.slice(1).split("/"),e=t.length,n=t[e-2],r=t[e-1];return{key:n,value:r}},setHistory:function(t,e){if(_.history.initialized&&_.params.history){var n=_.slides.eq(e),r=this.slugify(n.attr("data-history"));window.location.pathname.includes(t)||(r=t+"/"+r),_.params.replaceState?window.history.replaceState(null,null,r):window.history.pushState(null,null,r)}},slugify:function(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(t,e,n){if(e)for(var r=0,i=_.slides.length;r<i;r++){var a=_.slides.eq(r),o=this.slugify(a.attr("data-history"));if(o===e&&!a.hasClass(_.params.slideDuplicateClass)){var s=a.index();_.slideTo(s,t,n)}}else _.slideTo(0,t,n)}},_.disableKeyboardControl=function(){_.params.keyboardControl=!1,e(document).off("keydown",u)},_.enableKeyboardControl=function(){_.params.keyboardControl=!0,e(document).on("keydown",u)},_.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},_.params.mousewheelControl&&(_.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":c()?"wheel":"mousewheel"),_.disableMousewheelControl=function(){if(!_.mousewheel.event)return!1;var t=_.container;return"container"!==_.params.mousewheelEventsTarged&&(t=e(_.params.mousewheelEventsTarged)),t.off(_.mousewheel.event,h),_.params.mousewheelControl=!1,!0},_.enableMousewheelControl=function(){if(!_.mousewheel.event)return!1;var t=_.container;return"container"!==_.params.mousewheelEventsTarged&&(t=e(_.params.mousewheelEventsTarged)),t.on(_.mousewheel.event,h),_.params.mousewheelControl=!0,!0},_.parallax={setTranslate:function(){_.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){f(this,_.progress)}),_.slides.each(function(){var t=e(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var e=Math.min(Math.max(t[0].progress,-1),1);f(this,e)})})},setTransition:function(t){"undefined"==typeof t&&(t=_.params.speed),_.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var n=e(this),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||t;0===t&&(r=0),n.transition(r)})}},_.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:_.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,n=t.targetTouches[0].pageY,r=t.targetTouches[1].pageX,i=t.targetTouches[1].pageY,a=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2));return a},onGestureStart:function(t){var n=_.zoom;if(!_.support.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;n.gesture.scaleStart=n.getDistanceBetweenTouches(t)}return n.gesture.slide&&n.gesture.slide.length||(n.gesture.slide=e(this),0===n.gesture.slide.length&&(n.gesture.slide=_.slides.eq(_.activeIndex)),n.gesture.image=n.gesture.slide.find("img, svg, canvas"),n.gesture.imageWrap=n.gesture.image.parent("."+_.params.zoomContainerClass),n.gesture.zoomMax=n.gesture.imageWrap.attr("data-swiper-zoom")||_.params.zoomMax,0!==n.gesture.imageWrap.length)?(n.gesture.image.transition(0),void(n.isScaling=!0)):void(n.gesture.image=void 0)},onGestureChange:function(t){var e=_.zoom;if(!_.support.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;e.gesture.scaleMove=e.getDistanceBetweenTouches(t)}e.gesture.image&&0!==e.gesture.image.length&&(_.support.gestures?e.scale=t.scale*e.currentScale:e.scale=e.gesture.scaleMove/e.gesture.scaleStart*e.currentScale,e.scale>e.gesture.zoomMax&&(e.scale=e.gesture.zoomMax-1+Math.pow(e.scale-e.gesture.zoomMax+1,.5)),e.scale<_.params.zoomMin&&(e.scale=_.params.zoomMin+1-Math.pow(_.params.zoomMin-e.scale+1,.5)),e.gesture.image.transform("translate3d(0,0,0) scale("+e.scale+")"))},onGestureEnd:function(t){var e=_.zoom;!_.support.gestures&&("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2)||e.gesture.image&&0!==e.gesture.image.length&&(e.scale=Math.max(Math.min(e.scale,e.gesture.zoomMax),_.params.zoomMin),e.gesture.image.transition(_.params.speed).transform("translate3d(0,0,0) scale("+e.scale+")"),e.currentScale=e.scale,e.isScaling=!1,1===e.scale&&(e.gesture.slide=void 0))},onTouchStart:function(t,e){var n=t.zoom;n.gesture.image&&0!==n.gesture.image.length&&(n.image.isTouched||("android"===t.device.os&&e.preventDefault(),n.image.isTouched=!0,n.image.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,n.image.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(t){var e=_.zoom;if(e.gesture.image&&0!==e.gesture.image.length&&(_.allowClick=!1,e.image.isTouched&&e.gesture.slide)){e.image.isMoved||(e.image.width=e.gesture.image[0].offsetWidth,e.image.height=e.gesture.image[0].offsetHeight,e.image.startX=_.getTranslate(e.gesture.imageWrap[0],"x")||0,e.image.startY=_.getTranslate(e.gesture.imageWrap[0],"y")||0,e.gesture.slideWidth=e.gesture.slide[0].offsetWidth,e.gesture.slideHeight=e.gesture.slide[0].offsetHeight,e.gesture.imageWrap.transition(0),_.rtl&&(e.image.startX=-e.image.startX),_.rtl&&(e.image.startY=-e.image.startY));var n=e.image.width*e.scale,r=e.image.height*e.scale;if(!(n<e.gesture.slideWidth&&r<e.gesture.slideHeight)){if(e.image.minX=Math.min(e.gesture.slideWidth/2-n/2,0),e.image.maxX=-e.image.minX,e.image.minY=Math.min(e.gesture.slideHeight/2-r/2,0),e.image.maxY=-e.image.minY,e.image.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,e.image.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!e.image.isMoved&&!e.isScaling){if(_.isHorizontal()&&Math.floor(e.image.minX)===Math.floor(e.image.startX)&&e.image.touchesCurrent.x<e.image.touchesStart.x||Math.floor(e.image.maxX)===Math.floor(e.image.startX)&&e.image.touchesCurrent.x>e.image.touchesStart.x)return void(e.image.isTouched=!1);if(!_.isHorizontal()&&Math.floor(e.image.minY)===Math.floor(e.image.startY)&&e.image.touchesCurrent.y<e.image.touchesStart.y||Math.floor(e.image.maxY)===Math.floor(e.image.startY)&&e.image.touchesCurrent.y>e.image.touchesStart.y)return void(e.image.isTouched=!1)}t.preventDefault(),t.stopPropagation(),e.image.isMoved=!0,e.image.currentX=e.image.touchesCurrent.x-e.image.touchesStart.x+e.image.startX,e.image.currentY=e.image.touchesCurrent.y-e.image.touchesStart.y+e.image.startY,e.image.currentX<e.image.minX&&(e.image.currentX=e.image.minX+1-Math.pow(e.image.minX-e.image.currentX+1,.8)),e.image.currentX>e.image.maxX&&(e.image.currentX=e.image.maxX-1+Math.pow(e.image.currentX-e.image.maxX+1,.8)),e.image.currentY<e.image.minY&&(e.image.currentY=e.image.minY+1-Math.pow(e.image.minY-e.image.currentY+1,.8)),e.image.currentY>e.image.maxY&&(e.image.currentY=e.image.maxY-1+Math.pow(e.image.currentY-e.image.maxY+1,.8)),e.velocity.prevPositionX||(e.velocity.prevPositionX=e.image.touchesCurrent.x),e.velocity.prevPositionY||(e.velocity.prevPositionY=e.image.touchesCurrent.y),e.velocity.prevTime||(e.velocity.prevTime=Date.now()),e.velocity.x=(e.image.touchesCurrent.x-e.velocity.prevPositionX)/(Date.now()-e.velocity.prevTime)/2,e.velocity.y=(e.image.touchesCurrent.y-e.velocity.prevPositionY)/(Date.now()-e.velocity.prevTime)/2,Math.abs(e.image.touchesCurrent.x-e.velocity.prevPositionX)<2&&(e.velocity.x=0),Math.abs(e.image.touchesCurrent.y-e.velocity.prevPositionY)<2&&(e.velocity.y=0),e.velocity.prevPositionX=e.image.touchesCurrent.x,e.velocity.prevPositionY=e.image.touchesCurrent.y,e.velocity.prevTime=Date.now(),e.gesture.imageWrap.transform("translate3d("+e.image.currentX+"px, "+e.image.currentY+"px,0)")}}},onTouchEnd:function(t,e){var n=t.zoom;if(n.gesture.image&&0!==n.gesture.image.length){if(!n.image.isTouched||!n.image.isMoved)return n.image.isTouched=!1,void(n.image.isMoved=!1);n.image.isTouched=!1,n.image.isMoved=!1;var r=300,i=300,a=n.velocity.x*r,o=n.image.currentX+a,s=n.velocity.y*i,l=n.image.currentY+s;0!==n.velocity.x&&(r=Math.abs((o-n.image.currentX)/n.velocity.x)),0!==n.velocity.y&&(i=Math.abs((l-n.image.currentY)/n.velocity.y));var u=Math.max(r,i);n.image.currentX=o,n.image.currentY=l;var c=n.image.width*n.scale,d=n.image.height*n.scale;n.image.minX=Math.min(n.gesture.slideWidth/2-c/2,0),n.image.maxX=-n.image.minX,n.image.minY=Math.min(n.gesture.slideHeight/2-d/2,0),n.image.maxY=-n.image.minY,n.image.currentX=Math.max(Math.min(n.image.currentX,n.image.maxX),n.image.minX),n.image.currentY=Math.max(Math.min(n.image.currentY,n.image.maxY),n.image.minY),n.gesture.imageWrap.transition(u).transform("translate3d("+n.image.currentX+"px, "+n.image.currentY+"px,0)")}},onTransitionEnd:function(t){var e=t.zoom;e.gesture.slide&&t.previousIndex!==t.activeIndex&&(e.gesture.image.transform("translate3d(0,0,0) scale(1)"),e.gesture.imageWrap.transform("translate3d(0,0,0)"),e.gesture.slide=e.gesture.image=e.gesture.imageWrap=void 0,e.scale=e.currentScale=1)},toggleZoom:function(t,n){var r=t.zoom;if(r.gesture.slide||(r.gesture.slide=t.clickedSlide?e(t.clickedSlide):t.slides.eq(t.activeIndex),r.gesture.image=r.gesture.slide.find("img, svg, canvas"),r.gesture.imageWrap=r.gesture.image.parent("."+t.params.zoomContainerClass)),r.gesture.image&&0!==r.gesture.image.length){var i,a,o,s,l,u,c,d,h,f,p,g,m,v,y,b,w,x;"undefined"==typeof r.image.touchesStart.x&&n?(i="touchend"===n.type?n.changedTouches[0].pageX:n.pageX,a="touchend"===n.type?n.changedTouches[0].pageY:n.pageY):(i=r.image.touchesStart.x,a=r.image.touchesStart.y),r.scale&&1!==r.scale?(r.scale=r.currentScale=1,r.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),r.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),r.gesture.slide=void 0):(r.scale=r.currentScale=r.gesture.imageWrap.attr("data-swiper-zoom")||t.params.zoomMax,n?(w=r.gesture.slide[0].offsetWidth,x=r.gesture.slide[0].offsetHeight,o=r.gesture.slide.offset().left,s=r.gesture.slide.offset().top,l=o+w/2-i,u=s+x/2-a,h=r.gesture.image[0].offsetWidth,f=r.gesture.image[0].offsetHeight,p=h*r.scale,g=f*r.scale,m=Math.min(w/2-p/2,0),v=Math.min(x/2-g/2,0),y=-m,b=-v,c=l*r.scale,d=u*r.scale,c<m&&(c=m),c>y&&(c=y),d<v&&(d=v),d>b&&(d=b)):(c=0,d=0),r.gesture.imageWrap.transition(300).transform("translate3d("+c+"px, "+d+"px,0)"),r.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+r.scale+")"))}},attachEvents:function(t){var n=t?"off":"on";if(_.params.zoom){var r=(_.slides,!("touchstart"!==_.touchEvents.start||!_.support.passiveListener||!_.params.passiveListeners)&&{passive:!0,capture:!1});_.support.gestures?(_.slides[n]("gesturestart",_.zoom.onGestureStart,r),_.slides[n]("gesturechange",_.zoom.onGestureChange,r),_.slides[n]("gestureend",_.zoom.onGestureEnd,r)):"touchstart"===_.touchEvents.start&&(_.slides[n](_.touchEvents.start,_.zoom.onGestureStart,r),_.slides[n](_.touchEvents.move,_.zoom.onGestureChange,r),_.slides[n](_.touchEvents.end,_.zoom.onGestureEnd,r)),_[n]("touchStart",_.zoom.onTouchStart),_.slides.each(function(t,r){e(r).find("."+_.params.zoomContainerClass).length>0&&e(r)[n](_.touchEvents.move,_.zoom.onTouchMove)}),_[n]("touchEnd",_.zoom.onTouchEnd),_[n]("transitionEnd",_.zoom.onTransitionEnd),_.params.zoomToggle&&_.on("doubleTap",_.zoom.toggleZoom)}},init:function(){_.zoom.attachEvents()},destroy:function(){_.zoom.attachEvents(!0)}},_._plugins=[];for(var H in _.plugins){var F=_.plugins[H](_,_.params[H]);F&&_._plugins.push(F)}return _.callPlugins=function(t){for(var e=0;e<_._plugins.length;e++)t in _._plugins[e]&&_._plugins[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},_.emitterEventListeners={},_.emit=function(t){_.params[t]&&_.params[t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var e;if(_.emitterEventListeners[t])for(e=0;e<_.emitterEventListeners[t].length;e++)_.emitterEventListeners[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);_.callPlugins&&_.callPlugins(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},_.on=function(t,e){return t=p(t),_.emitterEventListeners[t]||(_.emitterEventListeners[t]=[]),_.emitterEventListeners[t].push(e),_},_.off=function(t,e){var n;if(t=p(t),"undefined"==typeof e)return _.emitterEventListeners[t]=[],_;if(_.emitterEventListeners[t]&&0!==_.emitterEventListeners[t].length){for(n=0;n<_.emitterEventListeners[t].length;n++)_.emitterEventListeners[t][n]===e&&_.emitterEventListeners[t].splice(n,1);return _}},_.once=function(t,e){t=p(t);var n=function(){e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),_.off(t,n)};return _.on(t,n),_},_.a11y={makeFocusable:function(t){return t.attr("tabIndex","0"),t},addRole:function(t,e){return t.attr("role",e),t},addLabel:function(t,e){return t.attr("aria-label",e),t},disable:function(t){return t.attr("aria-disabled",!0),t},enable:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){13===t.keyCode&&(e(t.target).is(_.params.nextButton)?(_.onClickNext(t),_.isEnd?_.a11y.notify(_.params.lastSlideMessage):_.a11y.notify(_.params.nextSlideMessage)):e(t.target).is(_.params.prevButton)&&(_.onClickPrev(t),_.isBeginning?_.a11y.notify(_.params.firstSlideMessage):_.a11y.notify(_.params.prevSlideMessage)),e(t.target).is("."+_.params.bulletClass)&&e(t.target)[0].click())},liveRegion:e('<span class="'+_.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(t){var e=_.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},init:function(){_.params.nextButton&&_.nextButton&&_.nextButton.length>0&&(_.a11y.makeFocusable(_.nextButton),_.a11y.addRole(_.nextButton,"button"),_.a11y.addLabel(_.nextButton,_.params.nextSlideMessage)),_.params.prevButton&&_.prevButton&&_.prevButton.length>0&&(_.a11y.makeFocusable(_.prevButton),_.a11y.addRole(_.prevButton,"button"),_.a11y.addLabel(_.prevButton,_.params.prevSlideMessage)),e(_.container).append(_.a11y.liveRegion)},initPagination:function(){_.params.pagination&&_.params.paginationClickable&&_.bullets&&_.bullets.length&&_.bullets.each(function(){var t=e(this);_.a11y.makeFocusable(t),_.a11y.addRole(t,"button"),_.a11y.addLabel(t,_.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){_.a11y.liveRegion&&_.a11y.liveRegion.length>0&&_.a11y.liveRegion.remove()}},_.init=function(){_.params.loop&&_.createLoop(),_.updateContainerSize(),_.updateSlidesSize(),_.updatePagination(),_.params.scrollbar&&_.scrollbar&&(_.scrollbar.set(),_.params.scrollbarDraggable&&_.scrollbar.enableDraggable()),"slide"!==_.params.effect&&_.effects[_.params.effect]&&(_.params.loop||_.updateProgress(),_.effects[_.params.effect].setTranslate()),_.params.loop?_.slideTo(_.params.initialSlide+_.loopedSlides,0,_.params.runCallbacksOnInit):(_.slideTo(_.params.initialSlide,0,_.params.runCallbacksOnInit),0===_.params.initialSlide&&(_.parallax&&_.params.parallax&&_.parallax.setTranslate(),_.lazy&&_.params.lazyLoading&&(_.lazy.load(),_.lazy.initialImageLoaded=!0))),_.attachEvents(),_.params.observer&&_.support.observer&&_.initObservers(),_.params.preloadImages&&!_.params.lazyLoading&&_.preloadImages(),_.params.zoom&&_.zoom&&_.zoom.init(),_.params.autoplay&&_.startAutoplay(),_.params.keyboardControl&&_.enableKeyboardControl&&_.enableKeyboardControl(),_.params.mousewheelControl&&_.enableMousewheelControl&&_.enableMousewheelControl(),_.params.hashnavReplaceState&&(_.params.replaceState=_.params.hashnavReplaceState),_.params.history&&_.history&&_.history.init(),_.params.hashnav&&_.hashnav&&_.hashnav.init(),_.params.a11y&&_.a11y&&_.a11y.init(),_.emit("onInit",_)},_.cleanupStyles=function(){_.container.removeClass(_.classNames.join(" ")).removeAttr("style"),_.wrapper.removeAttr("style"),_.slides&&_.slides.length&&_.slides.removeClass([_.params.slideVisibleClass,_.params.slideActiveClass,_.params.slideNextClass,_.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),_.paginationContainer&&_.paginationContainer.length&&_.paginationContainer.removeClass(_.params.paginationHiddenClass),_.bullets&&_.bullets.length&&_.bullets.removeClass(_.params.bulletActiveClass),_.params.prevButton&&e(_.params.prevButton).removeClass(_.params.buttonDisabledClass),_.params.nextButton&&e(_.params.nextButton).removeClass(_.params.buttonDisabledClass),_.params.scrollbar&&_.scrollbar&&(_.scrollbar.track&&_.scrollbar.track.length&&_.scrollbar.track.removeAttr("style"),_.scrollbar.drag&&_.scrollbar.drag.length&&_.scrollbar.drag.removeAttr("style"))},_.destroy=function(t,e){_.detachEvents(),_.stopAutoplay(),_.params.scrollbar&&_.scrollbar&&_.params.scrollbarDraggable&&_.scrollbar.disableDraggable(),_.params.loop&&_.destroyLoop(),e&&_.cleanupStyles(),_.disconnectObservers(),_.params.zoom&&_.zoom&&_.zoom.destroy(),_.params.keyboardControl&&_.disableKeyboardControl&&_.disableKeyboardControl(),_.params.mousewheelControl&&_.disableMousewheelControl&&_.disableMousewheelControl(),_.params.a11y&&_.a11y&&_.a11y.destroy(),_.params.history&&!_.params.replaceState&&window.removeEventListener("popstate",_.history.setHistoryPopState),_.params.hashnav&&_.hashnav&&_.hashnav.destroy(),_.emit("onDestroy"),t!==!1&&(_=null)},_.init(),_}};n.prototype={isSafari:function(){var t=window.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var t=document.createElement("div");return t.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1===t.getElementsByTagName("i").length}()},device:function(){var t=window.navigator.userAgent,e=t.match(/(Android);?[\s\/]+([\d.]+)?/),n=t.match(/(iPad).*OS\s([\d_]+)/),r=t.match(/(iPod)(.*OS\s([\d_]+))?/),i=!n&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/);return{ios:n||i||r,android:e}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){
return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var t=document.createElement("div").style;return"webkitPerspective"in t||"MozPerspective"in t||"OPerspective"in t||"MsPerspective"in t||"perspective"in t}(),flexbox:function(){for(var t=document.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),n=0;n<e.length;n++)if(e[n]in t)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}(),passiveListener:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveListener",null,e)}catch(n){}return t}(),gestures:function(){return"ongesturestart"in window}()},plugins:{}};for(var r=(function(){var t=function(t){var e=this,n=0;for(n=0;n<t.length;n++)e[n]=t[n];return e.length=t.length,this},e=function(e,n){var r=[],i=0;if(e&&!n&&e instanceof t)return e;if(e)if("string"==typeof e){var a,o,s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";for(0===s.indexOf("<li")&&(l="ul"),0===s.indexOf("<tr")&&(l="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(l="tr"),0===s.indexOf("<tbody")&&(l="table"),0===s.indexOf("<option")&&(l="select"),o=document.createElement(l),o.innerHTML=e,i=0;i<o.childNodes.length;i++)r.push(o.childNodes[i])}else for(a=n||"#"!==e[0]||e.match(/[ .<>:~]/)?(n||document).querySelectorAll(e):[document.getElementById(e.split("#")[1])],i=0;i<a.length;i++)a[i]&&r.push(a[i])}else if(e.nodeType||e===window||e===document)r.push(e);else if(e.length>0&&e[0].nodeType)for(i=0;i<e.length;i++)r.push(e[i]);return new t(r)};return t.prototype={addClass:function(t){if("undefined"==typeof t)return this;for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.add(e[n]);return this},removeClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.remove(e[n]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),n=0;n<e.length;n++)for(var r=0;r<this.length;r++)this[r].classList.toggle(e[n]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(t,e);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function(t){for(var e=0;e<this.length;e++)this[e].removeAttribute(t);return this},data:function(t,e){if("undefined"!=typeof e){for(var n=0;n<this.length;n++){var r=this[n];r.dom7ElementDataStorage||(r.dom7ElementDataStorage={}),r.dom7ElementDataStorage[t]=e}return this}if(this[0]){var i=this[0].getAttribute("data-"+t);return i?i:this[0].dom7ElementDataStorage&&t in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[t]:void 0}},transform:function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this},on:function(t,n,r,i){function a(t){var i=t.target;if(e(i).is(n))r.call(i,t);else for(var a=e(i).parents(),o=0;o<a.length;o++)e(a[o]).is(n)&&r.call(a[o],t)}var o,s,l=t.split(" ");for(o=0;o<this.length;o++)if("function"==typeof n||n===!1)for("function"==typeof n&&(r=arguments[1],i=arguments[2]||!1),s=0;s<l.length;s++)this[o].addEventListener(l[s],r,i);else for(s=0;s<l.length;s++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:r,liveListener:a}),this[o].addEventListener(l[s],a,i);return this},off:function(t,e,n,r){for(var i=t.split(" "),a=0;a<i.length;a++)for(var o=0;o<this.length;o++)if("function"==typeof e||e===!1)"function"==typeof e&&(n=arguments[1],r=arguments[2]||!1),this[o].removeEventListener(i[a],n,r);else if(this[o].dom7LiveListeners)for(var s=0;s<this[o].dom7LiveListeners.length;s++)this[o].dom7LiveListeners[s].listener===n&&this[o].removeEventListener(i[a],this[o].dom7LiveListeners[s].liveListener,r);return this},once:function(t,e,n,r){function i(o){n(o),a.off(t,e,i,r)}var a=this;"function"==typeof e&&(e=!1,n=arguments[1],r=arguments[2]),a.on(t,e,i,r)},trigger:function(t,e){for(var n=0;n<this.length;n++){var r;try{r=new window.CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0})}catch(i){r=document.createEvent("Event"),r.initEvent(t,!0,!0),r.detail=e}this[n].dispatchEvent(r)}return this},transitionEnd:function(t){function e(a){if(a.target===this)for(t.call(this,a),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(t){return this.length>0?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(t){return this.length>0?t?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var t=this[0],e=t.getBoundingClientRect(),n=document.body,r=t.clientTop||n.clientTop||0,i=t.clientLeft||n.clientLeft||0,a=window.pageYOffset||t.scrollTop,o=window.pageXOffset||t.scrollLeft;return{top:e.top+a-r,left:e.left+o-i}}return null},css:function(t,e){var n;if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n++)for(var r in t)this[n].style[r]=t[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n++)this[n].style[t]=e;return this}return this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],e,this[e]);return this},html:function(t){if("undefined"==typeof t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this},text:function(t){if("undefined"==typeof t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e++)this[e].textContent=t;return this},is:function(n){if(!this[0])return!1;var r,i;if("string"==typeof n){var a=this[0];if(a===document)return n===document;if(a===window)return n===window;if(a.matches)return a.matches(n);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector)return a.mozMatchesSelector(n);if(a.msMatchesSelector)return a.msMatchesSelector(n);for(r=e(n),i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}if(n===document)return this[0]===document;if(n===window)return this[0]===window;if(n.nodeType||n instanceof t){for(r=n.nodeType?[n]:n,i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var t=this[0],e=0;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e}},eq:function(e){if("undefined"==typeof e)return this;var n,r=this.length;return e>r-1?new t([]):e<0?(n=r+e,new t(n<0?[]:[this[n]])):new t([this[e]])},append:function(e){var n,r;for(n=0;n<this.length;n++)if("string"==typeof e){var i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)this[n].appendChild(i.firstChild)}else if(e instanceof t)for(r=0;r<e.length;r++)this[n].appendChild(e[r]);else this[n].appendChild(e);return this},prepend:function(e){var n,r;for(n=0;n<this.length;n++)if("string"==typeof e){var i=document.createElement("div");for(i.innerHTML=e,r=i.childNodes.length-1;r>=0;r--)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(e instanceof t)for(r=0;r<e.length;r++)this[n].insertBefore(e[r],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},insertBefore:function(t){for(var n=e(t),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0]);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i])},insertAfter:function(t){for(var n=e(t),r=0;r<this.length;r++)if(1===n.length)n[0].parentNode.insertBefore(this[r],n[0].nextSibling);else if(n.length>1)for(var i=0;i<n.length;i++)n[i].parentNode.insertBefore(this[r].cloneNode(!0),n[i].nextSibling)},next:function(n){return new t(this.length>0?n?this[0].nextElementSibling&&e(this[0].nextElementSibling).is(n)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(n){var r=[],i=this[0];if(!i)return new t([]);for(;i.nextElementSibling;){var a=i.nextElementSibling;n?e(a).is(n)&&r.push(a):r.push(a),i=a}return new t(r)},prev:function(n){return new t(this.length>0?n?this[0].previousElementSibling&&e(this[0].previousElementSibling).is(n)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(n){var r=[],i=this[0];if(!i)return new t([]);for(;i.previousElementSibling;){var a=i.previousElementSibling;n?e(a).is(n)&&r.push(a):r.push(a),i=a}return new t(r)},parent:function(t){for(var n=[],r=0;r<this.length;r++)t?e(this[r].parentNode).is(t)&&n.push(this[r].parentNode):n.push(this[r].parentNode);return e(e.unique(n))},parents:function(t){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].parentNode;i;)t?e(i).is(t)&&n.push(i):n.push(i),i=i.parentNode;return e(e.unique(n))},find:function(e){for(var n=[],r=0;r<this.length;r++)for(var i=this[r].querySelectorAll(e),a=0;a<i.length;a++)n.push(i[a]);return new t(n)},children:function(n){for(var r=[],i=0;i<this.length;i++)for(var a=this[i].childNodes,o=0;o<a.length;o++)n?1===a[o].nodeType&&e(a[o]).is(n)&&r.push(a[o]):1===a[o].nodeType&&r.push(a[o]);return new t(e.unique(r))},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){var t,n,r=this;for(t=0;t<arguments.length;t++){var i=e(arguments[t]);for(n=0;n<i.length;n++)r[r.length]=i[n],r.length++}return r}},e.fn=t.prototype,e.unique=function(t){for(var e=[],n=0;n<t.length;n++)e.indexOf(t[n])===-1&&e.push(t[n]);return e},e}()),i=["jQuery","Zepto","Dom7"],a=0;a<i.length;a++)window[i[a]]&&t(window[i[a]]);var o;o="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r,o&&("transitionEnd"in o.fn||(o.fn.transitionEnd=function(t){function e(a){if(a.target===this)for(t.call(this,a),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this}),"transform"in o.fn||(o.fn.transform=function(t){for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=t}return this}),"transition"in o.fn||(o.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var n=this[e].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=t}return this}),"outerWidth"in o.fn||(o.fn.outerWidth=function(t){return this.length>0?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=n}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.slideshowCharter=window.Reuters.Graphics.slideshowCharter||{},window.Reuters.Graphics.slideshowCharter.Template=window.Reuters.Graphics.slideshowCharter.Template||{},window.Reuters.Graphics.slideshowCharter.Template.gallery=function(t){var e,n="";Array.prototype.join;return n+='\n\n<!-- Slider main container -->\n<div class="swiper-container">\n    <!-- Additional required wrapper -->\n    <div class="swiper-wrapper">\n        <!-- Slides -->\n        ',t.data.forEach(function(t){n+='\n            <div class="swiper-slide">\n                <div class="pic">\n                    <img src="images/'+(null==(e=t.url)?"":e)+'" />\n                </div>\n            </div>\n        '}),n+='\n    </div>\n\n    <!-- If we need navigation buttons -->\n    <div class="swiper-button-prev">\n        <i class="fa fa-angle-left"></i>\n    </div>\n    <div class="swiper-button-next">\n        <i class="fa fa-angle-right visible"></i>\n    </div>\n\n    <!-- If we need pagination -->\n    <div class="swiper-pagination"></div>\n    \n    <div class="caption-container">\n        ',t.data.forEach(function(t,r){n+="\n            ",n+=0==r?'<p class="caption visible" id="caption'+(null==(e=r)?"":e)+'">':'<p class="caption" id="caption'+(null==(e=r)?"":e)+'">',n+='\n            <span class="bold-caption">'+(null==(e=t.boldcaption)?"":e)+'</span> <span class="pipe">&nbsp;&#8214;&nbsp;</span> '+(null==(e=t.caption)?"":e)+' <span class="photo-byline">'+(null==(e="Photo by ")?"":e)+(null==(e=t.byline)?"":e)+"</span>\n        </p>\n        "}),n+="\n    </div>\n\n\n</div>\n"}}(),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.ImageGallery=Backbone.View.extend({black:!1,initialize:function(t){var e=this;this.options=t,_.each(t,function(t,n){e[n]=t}),d3.json(e.dataURL,function(t){e.getImages(t)})},events:{"click span.swiper-pagination-bullet":"slideJump"},template:Reuters.Graphics.slideshowCharter.Template.gallery,getImages:function(t){var e=this;e.data=t,e.$el.append(e.template({data:e.data,self:e})),e.buildGallery()},buildGallery:function(){var t=this;t.swiper=new Swiper(".swiper-container",{direction:"horizontal",loop:!1,keyboardControl:!0,pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",speed:400,onSlideChangeStart:function(e){t.slideChange(e)}})},slideChange:function(t){var e=t.realIndex;$("p.caption").removeClass("visible"),$("p.caption#caption"+e).delay(1e3).addClass("visible")},slideJump:function(t){var e=this,n=$(t.target).index();e.swiper.slideTo(n,400)}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return function(t){"use strict";var e=t.tablesorter={version:"2.24.6",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,widgetClass:"widget-{name}",initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},dates:{},instanceMethods:{},setup:function(n,r){if(!n||!n.tHead||0===n.tBodies.length||n.hasInitialized===!0)return void(r.debug&&(n.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody")));var i="",a=t(n),o=t.metadata;n.hasInitialized=!1,n.isProcessing=!0,n.config=r,t.data(n,"tablesorter",r),r.debug&&(console[console.group?"group":"log"]("Initializing tablesorter"),t.data(n,"startoveralltimer",new Date)),r.supportsDataObject=function(t){return t[0]=parseInt(t[0],10),t[0]>1||1===t[0]&&parseInt(t[1],10)>=4}(t.fn.jquery.split(".")),r.emptyTo=r.emptyTo.toLowerCase(),r.stringTo=r.stringTo.toLowerCase(),r.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(a.attr("class"))||(i=""!==r.theme?" tablesorter-"+r.theme:""),r.table=n,r.$table=a.addClass(e.css.table+" "+r.tableClass+i).attr("role","grid"),r.$headers=a.find(r.selectorHeaders),r.namespace?r.namespace="."+r.namespace.replace(e.regex.nonWord,""):r.namespace=".tablesorter"+Math.random().toString(16).slice(2),r.$table.children().children("tr").attr("role","row"),r.$tbodies=a.children("tbody:not(."+r.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),r.$table.children("caption").length&&(i=r.$table.children("caption")[0],i.id||(i.id=r.namespace.slice(1)+"caption"),r.$table.attr("aria-labelledby",i.id)),r.widgetInit={},r.textExtraction=r.$table.attr("data-text-extraction")||r.textExtraction||"basic",e.buildHeaders(r),e.fixColumnWidth(n),e.addWidgetFromClass(n),e.applyWidgetOptions(n),e.setupParsers(r),r.totalRows=0,r.delayInit||e.buildCache(r),e.bindEvents(n,r.$headers,!0),e.bindMethods(r),r.supportsDataObject&&"undefined"!=typeof a.data().sortlist?r.sortList=a.data().sortlist:o&&a.metadata()&&a.metadata().sortlist&&(r.sortList=a.metadata().sortlist),e.applyWidget(n,!0),r.sortList.length>0?e.sortOn(r,r.sortList,{},!r.initWidgets):(e.setHeadersCss(r),r.initWidgets&&e.applyWidget(n,!1)),r.showProcessing&&a.unbind("sortBegin"+r.namespace+" sortEnd"+r.namespace).bind("sortBegin"+r.namespace+" sortEnd"+r.namespace,function(t){clearTimeout(r.timerProcessing),e.isProcessing(n),"sortBegin"===t.type&&(r.timerProcessing=setTimeout(function(){e.isProcessing(n,!0)},500))}),n.hasInitialized=!0,n.isProcessing=!1,r.debug&&(console.log("Overall initialization time: "+e.benchmark(t.data(n,"startoveralltimer"))),r.debug&&console.groupEnd&&console.groupEnd()),a.trigger("tablesorter-initialized",n),"function"==typeof r.initialized&&r.initialized(n)},bindMethods:function(n){var r=n.$table,i=n.namespace,a="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(i+" ");r.unbind(a.replace(e.regex.spaces," ")).bind("sortReset"+i,function(t,n){t.stopPropagation(),e.sortReset(this.config,n)}).bind("updateAll"+i,function(t,n,r){t.stopPropagation(),e.updateAll(this.config,n,r)}).bind("update"+i+" updateRows"+i,function(t,n,r){t.stopPropagation(),e.update(this.config,n,r)}).bind("updateHeaders"+i,function(t,n){t.stopPropagation(),e.updateHeaders(this.config,n)}).bind("updateCell"+i,function(t,n,r,i){t.stopPropagation(),e.updateCell(this.config,n,r,i)}).bind("addRows"+i,function(t,n,r,i){t.stopPropagation(),e.addRows(this.config,n,r,i)}).bind("updateComplete"+i,function(){this.isUpdating=!1}).bind("sorton"+i,function(t,n,r,i){t.stopPropagation(),e.sortOn(this.config,n,r,i)}).bind("appendCache"+i,function(n,r,i){n.stopPropagation(),e.appendCache(this.config,i),t.isFunction(r)&&r(this)}).bind("updateCache"+i,function(t,n,r){t.stopPropagation(),e.updateCache(this.config,n,r)}).bind("applyWidgetId"+i,function(t,n){t.stopPropagation(),e.getWidgetById(n).format(this,this.config,this.config.widgetOptions)}).bind("applyWidgets"+i,function(t,n){t.stopPropagation(),e.applyWidget(this,n)}).bind("refreshWidgets"+i,function(t,n,r){t.stopPropagation(),e.refreshWidgets(this,n,r)}).bind("destroy"+i,function(t,n,r){t.stopPropagation(),e.destroy(this,n,r)}).bind("resetToLoadState"+i,function(r){r.stopPropagation(),e.removeWidget(this,!0,!1),n=t.extend(!0,e.defaults,n.originalSettings),this.hasInitialized=!1,e.setup(this,n)})},bindEvents:function(n,r,i){n=t(n)[0];var a,o=n.config,s=o.namespace,l=null;i!==!0&&(r.addClass(s.slice(1)+"_extra_headers"),a=t.fn.closest?r.closest("table")[0]:r.parents("table")[0],a&&"TABLE"===a.nodeName&&a!==n&&t(a).addClass(s.slice(1)+"_extra_table")),a=(o.pointerDown+" "+o.pointerUp+" "+o.pointerClick+" sort keyup ").replace(e.regex.spaces," ").split(" ").join(s+" "),r.find(o.selectorSort).add(r.filter(o.selectorSort)).unbind(a).bind(a,function(n,i){var a,s,u,c=t(n.target),d=" "+n.type+" ";if(!(1!==(n.which||n.button)&&!d.match(" "+o.pointerClick+" | sort | keyup ")||" keyup "===d&&13!==n.which||d.match(" "+o.pointerClick+" ")&&"undefined"!=typeof n.which||d.match(" "+o.pointerUp+" ")&&l!==n.target&&i!==!0)){if(d.match(" "+o.pointerDown+" "))return l=n.target,u=c.jquery.split("."),void("1"===u[0]&&u[1]<4&&n.preventDefault());if(l=null,e.regex.formElements.test(n.target.nodeName)||c.hasClass(o.cssNoSort)||c.parents("."+o.cssNoSort).length>0||c.parents("button").length>0)return!o.cancelSelection;o.delayInit&&e.isEmptyObject(o.cache)&&e.buildCache(o),a=t.fn.closest?t(this).closest("th, td"):/TH|TD/.test(this.nodeName)?t(this):t(this).parents("th, td"),u=r.index(a),o.last.clickedIndex=u<0?a.attr("data-column"):u,s=o.$headers[o.last.clickedIndex],s&&!s.sortDisabled&&e.initSort(o,s,n)}}),o.cancelSelection&&r.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(n){var r,i,a,o;for(n.headerList=[],n.headerContent=[],n.sortVars=[],n.debug&&(a=new Date),n.columns=e.computeColumnIndex(n.$table.children("thead, tfoot").children("tr")),i=n.cssIcon?'<i class="'+(n.cssIcon===e.css.icon?e.css.icon:n.cssIcon+" "+e.css.icon)+'"></i>':"",n.$headers=t(t.map(n.$table.find(n.selectorHeaders),function(r,a){var o,s,l,u,c,d=t(r);if(!d.parent().hasClass(n.cssIgnoreRow))return o=e.getColumnData(n.table,n.headers,a,!0),n.headerContent[a]=d.html(),""===n.headerTemplate||d.find("."+e.css.headerIn).length||(u=n.headerTemplate.replace(e.regex.templateContent,d.html()).replace(e.regex.templateIcon,d.find("."+e.css.icon).length?"":i),n.onRenderTemplate&&(s=n.onRenderTemplate.apply(d,[a,u]),s&&"string"==typeof s&&(u=s)),d.html('<div class="'+e.css.headerIn+'">'+u+"</div>")),n.onRenderHeader&&n.onRenderHeader.apply(d,[a,n,n.$table]),l=parseInt(d.attr("data-column"),10),r.column=l,c=e.getData(d,o,"sortInitialOrder")||n.sortInitialOrder,n.sortVars[l]={count:-1,order:e.formatSortingOrder(c)?[1,0,2]:[0,1,2],lockedOrder:!1},c=e.getData(d,o,"lockedOrder")||!1,"undefined"!=typeof c&&c!==!1&&(n.sortVars[l].lockedOrder=!0,n.sortVars[l].order=e.formatSortingOrder(c)?[1,1,1]:[0,0,0]),n.headerList[a]=r,d.addClass(e.css.header+" "+n.cssHeader).parent().addClass(e.css.headerRow+" "+n.cssHeaderRow).attr("role","row"),n.tabIndex&&d.attr("tabindex",0),r})),n.$headerIndexed=[],o=0;o<n.columns;o++)e.isEmptyObject(n.sortVars[o])&&(n.sortVars[o]={}),r=n.$headers.filter('[data-column="'+o+'"]'),n.$headerIndexed[o]=r.length?r.not(".sorter-false").length?r.not(".sorter-false").filter(":last"):r.filter(":last"):t();n.$table.find(n.selectorHeaders).attr({scope:"col",role:"columnheader"}),e.updateHeader(n),n.debug&&(console.log("Built headers:"+e.benchmark(a)),console.log(n.$headers))},addInstanceMethods:function(n){t.extend(e.instanceMethods,n)},setupParsers:function(t,n){var r,i,a,o,s,l,u,c,d,h,f,p,g,m,v=t.table,y=0,b={};if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),g="undefined"==typeof n?t.$tbodies:n,m=g.length,0===m)return t.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(t.debug&&(p=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),i={extractors:[],parsers:[]};y<m;){if(r=g[y].rows,r.length)for(s=0,o=t.columns,l=0;l<o;l++)u=t.$headerIndexed[s],u&&u.length&&(c=e.getColumnData(v,t.headers,s),f=e.getParserById(e.getData(u,c,"extractor")),h=e.getParserById(e.getData(u,c,"sorter")),d="false"===e.getData(u,c,"parser"),t.empties[s]=(e.getData(u,c,"empty")||t.emptyTo||(t.emptyToBottom?"bottom":"top")).toLowerCase(),t.strings[s]=(e.getData(u,c,"string")||t.stringTo||"max").toLowerCase(),d&&(h=e.getParserById("no-parser")),f||(f=!1),h||(h=e.detectParserForColumn(t,r,-1,s)),t.debug&&(b["("+s+") "+u.text()]={parser:h.id,extractor:f?f.id:"none",string:t.strings[s],empty:t.empties[s]}),i.parsers[s]=h,i.extractors[s]=f,a=u[0].colSpan-1,a>0&&(s+=a,o+=a)),s++;y+=i.parsers.length?m:1}t.debug&&(e.isEmptyObject(b)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](b),console.log("Completed detecting parsers"+e.benchmark(p)),console.groupEnd&&console.groupEnd()),t.parsers=i.parsers,t.extractors=i.extractors},addParser:function(t){var n,r=e.parsers.length,i=!0;for(n=0;n<r;n++)e.parsers[n].id.toLowerCase()===t.id.toLowerCase()&&(i=!1);i&&e.parsers.push(t)},getParserById:function(t){if("false"==t)return!1;var n,r=e.parsers.length;for(n=0;n<r;n++)if(e.parsers[n].id.toLowerCase()===t.toString().toLowerCase())return e.parsers[n];return!1},detectParserForColumn:function(n,r,i,a){for(var o,s,l,u=e.parsers.length,c=!1,d="",h=!0;""===d&&h;)i++,l=r[i],l&&i<50?l.className.indexOf(e.cssIgnoreRow)<0&&(c=r[i].cells[a],d=e.getElementText(n,c,a),s=t(c),n.debug&&console.log("Checking if value was empty on row "+i+", column: "+a+': "'+d+'"')):h=!1;for(;--u>=0;)if(o=e.parsers[u],o&&"text"!==o.id&&o.is&&o.is(d,n.table,c,s))return o;return e.getParserById("text")},getElementText:function(n,r,i){if(!r)return"";var a,o=n.textExtraction||"",s=r.jquery?r:t(r);return"string"==typeof o?"basic"===o&&"undefined"!=typeof(a=s.attr(n.textAttribute))?t.trim(a):t.trim(r.textContent||s.text()):"function"==typeof o?t.trim(o(s[0],n.table,i)):"function"==typeof(a=e.getColumnData(n.table,o,i))?t.trim(a(s[0],n.table,i)):t.trim(s[0].textContent||s.text())},getParsedText:function(t,n,r,i){"undefined"==typeof i&&(i=e.getElementText(t,n,r));var a=""+i,o=t.parsers[r],s=t.extractors[r];return o&&(s&&"function"==typeof s.format&&(i=s.format(i,t.table,n,r)),a="no-parser"===o.id?"":o.format(""+i,t.table,n,r),t.ignoreCase&&"string"==typeof a&&(a=a.toLowerCase())),a},buildCache:function(n,r,i){var a,o,s,l,u,c,d,h,f,p,g,m,v,y,b,w,x,_,C,S,T=n.table,E=n.parsers;if(n.$tbodies=n.$table.children("tbody:not(."+n.cssInfoBlock+")"),d="undefined"==typeof i?n.$tbodies:i,n.cache={},n.totalRows=0,!E)return n.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(n.debug&&(m=new Date),n.showProcessing&&e.isProcessing(T,!0),c=0;c<d.length;c++){for(w=[],a=n.cache[c]={normalized:[]},v=d[c]&&d[c].rows.length||0,l=0;l<v;++l)if(y={child:[],raw:[]},h=t(d[c].rows[l]),f=[],h.hasClass(n.cssChildRow)&&0!==l)for(S=a.normalized.length-1,b=a.normalized[S][n.columns],b.$row=b.$row.add(h),h.prev().hasClass(n.cssChildRow)||h.prev().addClass(e.css.cssHasChild),p=h.children("th, td"),S=b.child.length,b.child[S]=[],_=0,C=n.columns,u=0;u<C;u++)g=p[u],g&&(b.child[S][u]=e.getParsedText(n,g,u),x=p[u].colSpan-1,x>0&&(_+=x,C+=x)),_++;else{for(y.$row=h,y.order=l,_=0,C=n.columns,u=0;u<C;++u)g=h[0].cells[u],"undefined"==typeof E[_]?n.debug&&console.warn("No parser found for column "+u+"; cell:",g,"does it have a header?"):g&&(o=e.getElementText(n,g,_),y.raw[_]=o,s=e.getParsedText(n,g,_,o),f[_]=s,"numeric"===(E[_].type||"").toLowerCase()&&(w[_]=Math.max(Math.abs(s)||0,w[_]||0)),x=g.colSpan-1,x>0&&(_+=x,C+=x)),_++;f[n.columns]=y,a.normalized.push(f)}a.colMax=w,n.totalRows+=a.normalized.length}n.showProcessing&&e.isProcessing(T),n.debug&&console.log("Building cache for "+v+" rows"+e.benchmark(m)),t.isFunction(r)&&r(T)},getColumnText:function(n,r,i,a){n=t(n)[0];var o,s,l,u,c,d,h,f,p,g,m="function"==typeof i,v="all"===r,y={raw:[],parsed:[],$cell:[]},b=n.config;if(!e.isEmptyObject(b)){for(c=b.$tbodies.length,o=0;o<c;o++)for(l=b.cache[o].normalized,d=l.length,s=0;s<d;s++)u=l[s],a&&!u[b.columns].$row.is(a)||(g=!0,f=v?u.slice(0,b.columns):u[r],u=u[b.columns],h=v?u.raw:u.raw[r],p=v?u.$row.children():u.$row.children().eq(r),m&&(g=i({tbodyIndex:o,rowIndex:s,parsed:f,raw:h,$row:u.$row,$cell:p})),g!==!1&&(y.parsed.push(f),y.raw.push(h),y.$cell.push(p)));return y}b.debug&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(n){var r,i,a,o=n.sortList,s=o.length,l=e.css.sortNone+" "+n.cssNone,u=[e.css.sortAsc+" "+n.cssAsc,e.css.sortDesc+" "+n.cssDesc],c=[n.cssIconAsc,n.cssIconDesc,n.cssIconNone],d=["ascending","descending"],h=n.$table.find("tfoot tr").children().add(t(n.namespace+"_extra_headers")).removeClass(u.join(" "));for(n.$headers.removeClass(u.join(" ")).addClass(l).attr("aria-sort","none").find("."+e.css.icon).removeClass(c.join(" ")).addClass(c[2]),i=0;i<s;i++)if(2!==o[i][1]&&(r=n.$headers.filter(function(t){for(var r=!0,i=n.$headers.eq(t),a=parseInt(i.attr("data-column"),10),o=a+n.$headers[t].colSpan;a<o;a++)r=!!r&&e.isValueInArray(a,n.sortList)>-1;return r}),r=r.not(".sorter-false").filter('[data-column="'+o[i][0]+'"]'+(1===s?":last":"")),r.length)){for(a=0;a<r.length;a++)r[a].sortDisabled||r.eq(a).removeClass(l).addClass(u[o[i][1]]).attr("aria-sort",d[o[i][1]]).find("."+e.css.icon).removeClass(c[2]).addClass(c[o[i][1]]);h.length&&h.filter('[data-column="'+o[i][0]+'"]').removeClass(l).addClass(u[o[i][1]])}for(s=n.$headers.length,i=0;i<s;i++)e.setColumnAriaLabel(n,n.$headers.eq(i))},setColumnAriaLabel:function(n,r,i){if(r.length){var a=parseInt(r.attr("data-column"),10),o=r.hasClass(e.css.sortAsc)?"sortAsc":r.hasClass(e.css.sortDesc)?"sortDesc":"sortNone",s=t.trim(r.text())+": "+e.language[o];r.hasClass("sorter-false")||i===!1?s+=e.language.sortDisabled:(i=n.sortVars[a].order[(n.sortVars[a].count+1)%(n.sortReset?3:2)],s+=e.language[0===i?"nextAsc":1===i?"nextDesc":"nextNone"]),r.attr("aria-label",s)}},updateHeader:function(t){var n,r,i,a,o=t.table,s=t.$headers.length;for(n=0;n<s;n++)i=t.$headers.eq(n),a=e.getColumnData(o,t.headers,n,!0),r="false"===e.getData(i,a,"sorter")||"false"===e.getData(i,a,"parser"),e.setColumnSort(t,i,r)},setColumnSort:function(t,e,n){var r=t.table.id;e[0].sortDisabled=n,e[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),t.tabIndex&&(n?e.removeAttr("tabindex"):e.attr("tabindex","0")),r&&(n?e.removeAttr("aria-controls"):e.attr("aria-controls",r))},updateHeaderSortCount:function(e,n){var r,i,a,o,s,l,u,c,d=n||e.sortList,h=d.length;for(e.sortList=[],o=0;o<h;o++)if(u=d[o],r=parseInt(u[0],10),r<e.columns){switch(c=e.sortVars[r].order,i=(""+u[1]).match(/^(1|d|s|o|n)/),i=i?i[0]:""){
case"1":case"d":i=1;break;case"s":i=s||0;break;case"o":l=c[(s||0)%(e.sortReset?3:2)],i=0===l?1:1===l?0:2;break;case"n":i=c[++e.sortVars[r].count%(e.sortReset?3:2)];break;default:i=0}s=0===o?i:s,a=[r,parseInt(i,10)||0],e.sortList.push(a),i=t.inArray(a[1],c),e.sortVars[r].count=i>=0?i:a[1]%(e.sortReset?3:2)}},updateAll:function(t,n,r){var i=t.table;i.isUpdating=!0,e.refreshWidgets(i,!0,!0),e.buildHeaders(t),e.bindEvents(i,t.$headers,!0),e.bindMethods(t),e.commonUpdate(t,n,r)},update:function(t,n,r){var i=t.table;i.isUpdating=!0,e.updateHeader(t),e.commonUpdate(t,n,r)},updateHeaders:function(t,n){t.table.isUpdating=!0,e.buildHeaders(t),e.bindEvents(t.table,t.$headers,!0),e.resortComplete(t,n)},updateCell:function(n,r,i,a){n.table.isUpdating=!0,n.$table.find(n.selectorRemove).remove();var o,s,l,u,c,d,h=n.$tbodies,f=t(r),p=h.index(t.fn.closest?f.closest("tbody"):f.parents("tbody").filter(":first")),g=n.cache[p],m=t.fn.closest?f.closest("tr"):f.parents("tr").filter(":first");if(r=f[0],h.length&&p>=0){if(l=h.eq(p).find("tr").index(m),c=g.normalized[l],d=m[0].cells.length,d!==n.columns)for(u=0,o=!1,s=0;s<d;s++)o||m[0].cells[s]===r?o=!0:u+=m[0].cells[s].colSpan;else u=f.index();o=e.getElementText(n,r,u),c[n.columns].raw[u]=o,o=e.getParsedText(n,r,u,o),c[u]=o,c[n.columns].$row=m,"numeric"===(n.parsers[u].type||"").toLowerCase()&&(g.colMax[u]=Math.max(Math.abs(o)||0,g.colMax[u]||0)),o="undefined"!==i?i:n.resort,o!==!1?e.checkResort(n,o,a):e.resortComplete(n,a)}},addRows:function(n,r,i,a){var o,s,l,u,c,d,h,f,p,g,m,v,y="string"==typeof r&&1===n.$tbodies.length&&/<tr/.test(r||""),b=n.table;if(y)r=t(r),n.$tbodies.append(r);else if(!(r&&r instanceof jQuery&&(t.fn.closest?r.closest("table")[0]:r.parents("table")[0])===n.table))return n.debug&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(b.isUpdating=!0,e.isEmptyObject(n.cache))e.updateHeader(n),e.commonUpdate(n,i,a);else{for(c=r.filter("tr").attr("role","row").length,l=n.$tbodies.index(r.parents("tbody").filter(":first")),n.parsers&&n.parsers.length||e.setupParsers(n),u=0;u<c;u++){for(f=0,h=r[u].cells.length,g=[],p={child:[],raw:[],$row:r.eq(u),order:n.cache[l].normalized.length},d=0;d<h;d++)m=r[u].cells[d],o=e.getElementText(n,m,f),p.raw[f]=o,s=e.getParsedText(n,m,f,o),g[f]=s,"numeric"===(n.parsers[f].type||"").toLowerCase()&&(n.cache[l].colMax[f]=Math.max(Math.abs(s)||0,n.cache[l].colMax[f]||0)),v=m.colSpan-1,v>0&&(f+=v),f++;g[n.columns]=p,n.cache[l].normalized.push(g)}e.checkResort(n,i,a)}},updateCache:function(t,n,r){t.parsers&&t.parsers.length||e.setupParsers(t,r),e.buildCache(t,n,r)},appendCache:function(t,n){var r,i,a,o,s,l,u,c=t.table,d=t.widgetOptions,h=t.$tbodies,f=[],p=t.cache;if(e.isEmptyObject(p))return t.appender?t.appender(c,f):c.isUpdating?t.$table.trigger("updateComplete",c):"";for(t.debug&&(u=new Date),l=0;l<h.length;l++)if(a=h.eq(l),a.length){for(o=e.processTbody(c,a,!0),r=p[l].normalized,i=r.length,s=0;s<i;s++)f.push(r[s][t.columns].$row),t.appender&&(!t.pager||t.pager.removeRows&&d.pager_removeRows||t.pager.ajax)||o.append(r[s][t.columns].$row);e.processTbody(c,o,!1)}t.appender&&t.appender(c,f),t.debug&&console.log("Rebuilt table"+e.benchmark(u)),n||t.appender||e.applyWidget(c),c.isUpdating&&t.$table.trigger("updateComplete",c)},commonUpdate:function(t,n,r){t.$table.find(t.selectorRemove).remove(),e.setupParsers(t),e.buildCache(t),e.checkResort(t,n,r)},initSort:function(n,r,i){if(n.table.isUpdating)return setTimeout(function(){e.initSort(n,r,i)},50);var a,o,s,l,u,c,d,h=!i[n.sortMultiSortKey],f=n.table,p=n.$headers.length,g=parseInt(t(r).attr("data-column"),10),m=n.sortVars[g].order;if(n.$table.trigger("sortStart",f),n.sortVars[g].count=i[n.sortResetKey]?2:(n.sortVars[g].count+1)%(n.sortReset?3:2),n.sortRestart)for(s=0;s<p;s++)d=n.$headers.eq(s),c=parseInt(d.attr("data-column"),10),g!==c&&(h||d.hasClass(e.css.sortNone))&&(n.sortVars[c].count=-1);if(h){if(n.sortList=[],n.last.sortList=[],null!==n.sortForce)for(a=n.sortForce,o=0;o<a.length;o++)a[o][0]!==g&&n.sortList.push(a[o]);if(l=m[n.sortVars[g].count],l<2&&(n.sortList.push([g,l]),r.colSpan>1))for(o=1;o<r.colSpan;o++)n.sortList.push([g+o,l]),n.sortVars[g+o].count=t.inArray(l,m)}else if(n.sortList=t.extend([],n.last.sortList),e.isValueInArray(g,n.sortList)>=0)for(o=0;o<n.sortList.length;o++)c=n.sortList[o],c[0]===g&&(c[1]=m[n.sortVars[g].count],2===c[1]&&(n.sortList.splice(o,1),n.sortVars[g].count=-1));else if(l=m[n.sortVars[g].count],l<2&&(n.sortList.push([g,l]),r.colSpan>1))for(o=1;o<r.colSpan;o++)n.sortList.push([g+o,l]),n.sortVars[g+o].count=t.inArray(l,m);if(n.last.sortList=t.extend([],n.sortList),n.sortList.length&&n.sortAppend&&(a=t.isArray(n.sortAppend)?n.sortAppend:n.sortAppend[n.sortList[0][0]],!e.isEmptyObject(a)))for(o=0;o<a.length;o++)if(a[o][0]!==g&&e.isValueInArray(a[o][0],n.sortList)<0){if(l=a[o][1],u=(""+l).match(/^(a|d|s|o|n)/))switch(c=n.sortList[0][1],u[0]){case"d":l=1;break;case"s":l=c;break;case"o":l=0===c?1:0;break;case"n":l=(c+1)%(n.sortReset?3:2);break;default:l=0}n.sortList.push([a[o][0],l])}n.$table.trigger("sortBegin",f),setTimeout(function(){e.setHeadersCss(n),e.multisort(n),e.appendCache(n),n.$table.trigger("sortEnd",f)},1)},multisort:function(t){var n,r,i,a,o=t.table,s=0,l=t.textSorter||"",u=t.sortList,c=u.length,d=t.$tbodies.length;if(!t.serverSideSorting&&!e.isEmptyObject(t.cache)){for(t.debug&&(r=new Date),n=0;n<d;n++)i=t.cache[n].colMax,a=t.cache[n].normalized,a.sort(function(n,r){var a,d,h,f,p,g,m;for(a=0;a<c;a++){if(h=u[a][0],f=u[a][1],s=0===f,t.sortStable&&n[h]===r[h]&&1===c)return n[t.columns].order-r[t.columns].order;if(d=/n/i.test(e.getSortType(t.parsers,h)),d&&t.strings[h]?(d="boolean"==typeof e.string[t.strings[h]]?(s?1:-1)*(e.string[t.strings[h]]?-1:1):t.strings[h]?e.string[t.strings[h]]||0:0,p=t.numberSorter?t.numberSorter(n[h],r[h],s,i[h],o):e["sortNumeric"+(s?"Asc":"Desc")](n[h],r[h],d,i[h],h,t)):(g=s?n:r,m=s?r:n,p="function"==typeof l?l(g[h],m[h],s,h,o):"object"==typeof l&&l.hasOwnProperty(h)?l[h](g[h],m[h],s,h,o):e["sortNatural"+(s?"Asc":"Desc")](n[h],r[h],h,t)),p)return p}return n[t.columns].order-r[t.columns].order});t.debug&&console.log("Applying sort "+u.toString()+e.benchmark(r))}},resortComplete:function(e,n){e.table.isUpdating&&e.$table.trigger("updateComplete",e.table),t.isFunction(n)&&n(e.table)},checkResort:function(n,r,i){var a=t.isArray(r)?r:n.sortList,o="undefined"==typeof r?n.resort:r;o===!1||n.serverSideSorting||n.table.isProcessing?(e.resortComplete(n,i),e.applyWidget(n.table,!1)):a.length?e.sortOn(n,a,function(){e.resortComplete(n,i)},!0):e.sortReset(n,function(){e.resortComplete(n,i),e.applyWidget(n.table,!1)})},sortOn:function(n,r,i,a){var o=n.table;n.$table.trigger("sortStart",o),e.updateHeaderSortCount(n,r),e.setHeadersCss(n),n.delayInit&&e.isEmptyObject(n.cache)&&e.buildCache(n),n.$table.trigger("sortBegin",o),e.multisort(n),e.appendCache(n,a),n.$table.trigger("sortEnd",o),e.applyWidget(o),t.isFunction(i)&&i(o)},sortReset:function(n,r){n.sortList=[],e.setHeadersCss(n),e.multisort(n),e.appendCache(n),t.isFunction(r)&&r(n.table)},getSortType:function(t,e){return t&&t[e]?t[e].type||"":""},formatSortingOrder:function(t){return/^d/i.test(t)||1===t},sortNatural:function(t,n){if(t===n)return 0;var r,i,a,o,s,l,u=e.regex;if(u.hex.test(n)){if(r=parseInt(t.match(u.hex),16),i=parseInt(n.match(u.hex),16),r<i)return-1;if(r>i)return 1}for(r=t.replace(u.chunk,"\\0$1\\0").replace(u.chunks,"").split("\\0"),i=n.replace(u.chunk,"\\0$1\\0").replace(u.chunks,"").split("\\0"),l=Math.max(r.length,i.length),s=0;s<l;s++){if(a=isNaN(r[s])?r[s]||0:parseFloat(r[s])||0,o=isNaN(i[s])?i[s]||0:parseFloat(i[s])||0,isNaN(a)!==isNaN(o))return isNaN(a)?1:-1;if(typeof a!=typeof o&&(a+="",o+=""),a<o)return-1;if(a>o)return 1}return 0},sortNaturalAsc:function(t,n,r,i){if(t===n)return 0;var a=e.string[i.empties[r]||i.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===n&&0!==a?"boolean"==typeof a?a?1:-1:a||1:e.sortNatural(t,n)},sortNaturalDesc:function(t,n,r,i){if(t===n)return 0;var a=e.string[i.empties[r]||i.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===n&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:e.sortNatural(n,t)},sortText:function(t,e){return t>e?1:t<e?-1:0},getTextValue:function(t,e,n){if(n){var r,i=t?t.length:0,a=n+e;for(r=0;r<i;r++)a+=t.charCodeAt(r);return e*a}return 0},sortNumericAsc:function(t,n,r,i,a,o){if(t===n)return 0;var s=e.string[o.empties[a]||o.emptyTo];return""===t&&0!==s?"boolean"==typeof s?s?-1:1:-s||-1:""===n&&0!==s?"boolean"==typeof s?s?1:-1:s||1:(isNaN(t)&&(t=e.getTextValue(t,r,i)),isNaN(n)&&(n=e.getTextValue(n,r,i)),t-n)},sortNumericDesc:function(t,n,r,i,a,o){if(t===n)return 0;var s=e.string[o.empties[a]||o.emptyTo];return""===t&&0!==s?"boolean"==typeof s?s?-1:1:s||1:""===n&&0!==s?"boolean"==typeof s?s?1:-1:-s||-1:(isNaN(t)&&(t=e.getTextValue(t,r,i)),isNaN(n)&&(n=e.getTextValue(n,r,i)),n-t)},sortNumeric:function(t,e){return t-e},addWidget:function(t){e.widgets.push(t)},hasWidget:function(e,n){return e=t(e),e.length&&e[0].config&&e[0].config.widgetInit[n]||!1},getWidgetById:function(t){var n,r,i=e.widgets.length;for(n=0;n<i;n++)if(r=e.widgets[n],r&&r.id&&r.id.toLowerCase()===t.toLowerCase())return r},applyWidgetOptions:function(n){var r,i,a=n.config,o=a.widgets.length;if(o)for(r=0;r<o;r++)i=e.getWidgetById(a.widgets[r]),i&&i.options&&(a.widgetOptions=t.extend(!0,{},i.options,a.widgetOptions))},addWidgetFromClass:function(t){var n,r,i=t.config,a="\\s"+i.widgetClass.replace(e.regex.templateName,"([\\w-]+)")+"\\s",o=new RegExp(a,"g"),s=(" "+i.table.className+" ").match(o);if(s)for(n=s.length,r=0;r<n;r++)i.widgets.push(s[r].replace(o,"$1"))},applyWidget:function(n,r,i){n=t(n)[0];var a,o,s,l,u,c,d,h,f=n.config,p=[];if(r===!1||!n.hasInitialized||!n.isApplyingWidgets&&!n.isUpdating){if(f.debug&&(d=new Date),e.addWidgetFromClass(n),clearTimeout(f.timerReady),f.widgets.length){for(n.isApplyingWidgets=!0,f.widgets=t.grep(f.widgets,function(e,n){return t.inArray(e,f.widgets)===n}),s=f.widgets||[],o=s.length,a=0;a<o;a++)l=e.getWidgetById(s[a]),l&&l.id&&(l.priority||(l.priority=10),p[a]=l);for(p.sort(function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1}),o=p.length,f.debug&&console[console.group?"group":"log"]("Start "+(r?"initializing":"applying")+" widgets"),a=0;a<o;a++)l=p[a],l&&(u=l.id,c=!1,f.debug&&(h=new Date),!r&&f.widgetInit[u]||(f.widgetInit[u]=!0,n.hasInitialized&&e.applyWidgetOptions(n),"function"==typeof l.init&&(c=!0,f.debug&&console[console.group?"group":"log"]("Initializing "+u+" widget"),l.init(n,l,n.config,n.config.widgetOptions))),r||"function"!=typeof l.format||(c=!0,f.debug&&console[console.group?"group":"log"]("Updating "+u+" widget"),l.format(n,n.config,n.config.widgetOptions,!1)),f.debug&&c&&(console.log("Completed "+(r?"initializing ":"applying ")+u+" widget"+e.benchmark(h)),console.groupEnd&&console.groupEnd()));f.debug&&console.groupEnd&&console.groupEnd(),r||"function"!=typeof i||i(n)}f.timerReady=setTimeout(function(){n.isApplyingWidgets=!1,t.data(n,"lastWidgetApplication",new Date),f.$table.trigger("tablesorter-ready")},10),f.debug&&(l=f.widgets.length,console.log("Completed "+(r===!0?"initializing ":"applying ")+l+" widget"+(1!==l?"s":"")+e.benchmark(d)))}},removeWidget:function(n,r,i){n=t(n)[0];var a,o,s,l,u=n.config;if(r===!0)for(r=[],l=e.widgets.length,s=0;s<l;s++)o=e.widgets[s],o&&o.id&&r.push(o.id);else r=(t.isArray(r)?r.join(","):r||"").toLowerCase().split(/[\s,]+/);for(l=r.length,a=0;a<l;a++)o=e.getWidgetById(r[a]),s=t.inArray(r[a],u.widgets),o&&o.remove&&(u.debug&&console.log((i?"Refreshing":"Removing")+' "'+r[a]+'" widget'),o.remove(n,u,u.widgetOptions,i),u.widgetInit[r[a]]=!1),s>=0&&i!==!0&&u.widgets.splice(s,1)},refreshWidgets:function(n,r,i){n=t(n)[0];var a,o,s=n.config,l=s.widgets,u=e.widgets,c=u.length,d=[],h=function(e){t(e).trigger("refreshComplete")};for(a=0;a<c;a++)o=u[a],o&&o.id&&(r||t.inArray(o.id,l)<0)&&d.push(o.id);e.removeWidget(n,d.join(","),!0),i!==!0?(e.applyWidget(n,r||!1,h),r&&e.applyWidget(n,!1,h)):h(n)},benchmark:function(t){return" ( "+((new Date).getTime()-t.getTime())+"ms )"},log:function(){console.log(arguments)},isEmptyObject:function(t){for(var e in t)return!1;return!0},isValueInArray:function(t,e){var n,r=e&&e.length||0;for(n=0;n<r;n++)if(e[n][0]===t)return n;return-1},formatFloat:function(n,r){if("string"!=typeof n||""===n)return n;var i,a=r&&r.config?r.config.usNumberFormat!==!1:"undefined"==typeof r||r;return n=a?n.replace(e.regex.comma,""):n.replace(e.regex.digitNonUS,"").replace(e.regex.comma,"."),e.regex.digitNegativeTest.test(n)&&(n=n.replace(e.regex.digitNegativeReplace,"-$1")),i=parseFloat(n),isNaN(i)?t.trim(n):i},isDigit:function(t){return isNaN(t)?e.regex.digitTest.test(t.toString().replace(e.regex.digitReplace,"")):""!==t},computeColumnIndex:function(e){var n,r,i,a,o,s,l,u,c,d,h,f,p=[],g=[];for(n=0;n<e.length;n++)for(l=e[n].cells,r=0;r<l.length;r++){for(s=l[r],o=t(s),u=s.parentNode.rowIndex,c=u+"-"+o.index(),d=s.rowSpan||1,h=s.colSpan||1,"undefined"==typeof p[u]&&(p[u]=[]),i=0;i<p[u].length+1;i++)if("undefined"==typeof p[u][i]){f=i;break}for(s.setAttribute?s.setAttribute("data-column",f):o.attr("data-column",f),i=u;i<u+d;i++)for("undefined"==typeof p[i]&&(p[i]=[]),g=p[i],a=f;a<f+h;a++)g[a]="x"}return g.length},fixColumnWidth:function(n){n=t(n)[0];var r,i,a,o,s,l=n.config,u=l.$table.children("colgroup");if(u.length&&u.hasClass(e.css.colgroup)&&u.remove(),l.widthFixed&&0===l.$table.children("colgroup").length){for(u=t('<colgroup class="'+e.css.colgroup+'">'),r=l.$table.width(),a=l.$tbodies.find("tr:first").children(":visible"),o=a.length,s=0;s<o;s++)i=parseInt(a.eq(s).width()/r*1e3,10)/10+"%",u.append(t("<col>").css("width",i));l.$table.prepend(u)}},getData:function(e,n,r){var i,a,o="",s=t(e);return s.length?(i=!!t.metadata&&s.metadata(),a=" "+(s.attr("class")||""),"undefined"!=typeof s.data(r)||"undefined"!=typeof s.data(r.toLowerCase())?o+=s.data(r)||s.data(r.toLowerCase()):i&&"undefined"!=typeof i[r]?o+=i[r]:n&&"undefined"!=typeof n[r]?o+=n[r]:" "!==a&&a.match(" "+r+"-")&&(o=a.match(new RegExp("\\s"+r+"-([\\w-]+)"))[1]||""),t.trim(o)):""},getColumnData:function(e,n,r,i,a){if("undefined"!=typeof n&&null!==n){e=t(e)[0];var o,s,l=e.config,u=a||l.$headers,c=l.$headerIndexed&&l.$headerIndexed[r]||u.filter('[data-column="'+r+'"]:last');if(n[r])return i?n[r]:n[u.index(c)];for(s in n)if("string"==typeof s&&(o=c.filter(s).add(c.find(s)),o.length))return n[s]}},isProcessing:function(n,r,i){n=t(n);var a=n[0].config,o=i||n.find("."+e.css.header);r?("undefined"!=typeof i&&a.sortList.length>0&&(o=o.filter(function(){return!this.sortDisabled&&e.isValueInArray(parseFloat(t(this).attr("data-column")),a.sortList)>=0})),n.add(o).addClass(e.css.processing+" "+a.cssProcessing)):n.add(o).removeClass(e.css.processing+" "+a.cssProcessing)},processTbody:function(e,n,r){if(e=t(e)[0],r)return e.isProcessing=!0,n.before('<colgroup class="tablesorter-savemyplace"/>'),t.fn.detach?n.detach():n.remove();var i=t(e).find("colgroup.tablesorter-savemyplace");n.insertAfter(i),i.remove(),e.isProcessing=!1},clearTableBody:function(e){t(e)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"Ã¡Ã Ã¢Ã£Ã¤ÄÃ¥",A:"ÃÃÃÃÃÄÃ",c:"Ã§ÄÄ",C:"ÃÄÄ",e:"Ã©Ã¨ÃªÃ«ÄÄ",E:"ÃÃÃÃÄÄ",i:"Ã­Ã¬Ä°Ã®Ã¯Ä±",I:"ÃÃÄ°ÃÃ",o:"Ã³Ã²Ã´ÃµÃ¶Å",O:"ÃÃÃÃÃÅ",ss:"Ã",SS:"áº",u:"ÃºÃ¹Ã»Ã¼Å¯",U:"ÃÃÃÃÅ®"},replaceAccents:function(t){var n,r="[",i=e.characterEquivalents;if(!e.characterRegex){e.characterRegexArray={};for(n in i)"string"==typeof n&&(r+=i[n],e.characterRegexArray[n]=new RegExp("["+i[n]+"]","g"));e.characterRegex=new RegExp(r+"]")}if(e.characterRegex.test(t))for(n in i)"string"==typeof n&&(t=t.replace(e.characterRegexArray[n],n));return t},restoreHeaders:function(n){var r,i,a=t(n)[0].config,o=a.$table.find(a.selectorHeaders),s=o.length;for(r=0;r<s;r++)i=o.eq(r),i.find("."+e.css.headerIn).length&&i.html(a.headerContent[r])},destroy:function(n,r,i){if(n=t(n)[0],n.hasInitialized){e.removeWidget(n,!0,!1);var a,o=t(n),s=n.config,l=s.debug,u=o.find("thead:first"),c=u.find("tr."+e.css.headerRow).removeClass(e.css.headerRow+" "+s.cssHeaderRow),d=o.find("tfoot:first > tr").children("th, td");r===!1&&t.inArray("uitheme",s.widgets)>=0&&(o.trigger("applyWidgetId",["uitheme"]),o.trigger("applyWidgetId",["zebra"])),u.find("tr").not(c).remove(),a="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress "+"sortBegin sortEnd resetToLoadState ".split(" ").join(s.namespace+" "),o.removeData("tablesorter").unbind(a.replace(e.regex.spaces," ")),s.$headers.add(d).removeClass([e.css.header,s.cssHeader,s.cssAsc,s.cssDesc,e.css.sortAsc,e.css.sortDesc,e.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),c.find(s.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(s.namespace+" ").replace(e.regex.spaces," ")),e.restoreHeaders(n),o.toggleClass(e.css.table+" "+s.tableClass+" tablesorter-"+s.theme,r===!1),n.hasInitialized=!1,delete n.config.cache,"function"==typeof i&&i(n),l&&console.log("tablesorter has been removed")}}};t.fn.tablesorter=function(n){return this.each(function(){var r=this,i=t.extend(!0,{},e.defaults,n,e.instanceMethods);i.originalSettings=n,!r.hasInitialized&&e.buildTable&&"TABLE"!==this.nodeName?e.buildTable(r,i):e.setup(r,i)})},window.console&&window.console.log||(e.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var t=arguments.length>1?arguments:arguments[0];e.logs.push({date:Date.now(),log:t})}),e.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),e.addParser({id:"text",is:function(){return!0},format:function(n,r){var i=r.config;return n&&(n=t.trim(i.ignoreCase?n.toLocaleLowerCase():n),n=i.sortLocaleCompare?e.replaceAccents(n):n),n},type:"text"}),e.regex.nondigit=/[^\w,. \-()]/g,e.addParser({id:"digit",is:function(t){return e.isDigit(t)},format:function(n,r){var i=e.formatFloat((n||"").replace(e.regex.nondigit,""),r);return n&&"number"==typeof i?i:n?t.trim(n&&r.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),e.regex.currencyReplace=/[+\-,. ]/g,e.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,e.addParser({id:"currency",is:function(t){return t=(t||"").replace(e.regex.currencyReplace,""),e.regex.currencyTest.test(t)},format:function(n,r){var i=e.formatFloat((n||"").replace(e.regex.nondigit,""),r);return n&&"number"==typeof i?i:n?t.trim(n&&r.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),e.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,e.regex.urlProtocolReplace=/(https?|ftp|file):\/\//,e.addParser({id:"url",is:function(t){return e.regex.urlProtocolTest.test(t)},format:function(n){return n?t.trim(n.replace(e.regex.urlProtocolReplace,"")):n},parsed:!0,type:"text"}),e.regex.dash=/-/g,e.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,e.addParser({id:"isoDate",is:function(t){return e.regex.isoDate.test(t)},format:function(t,n){var r=t?new Date(t.replace(e.regex.dash,"/")):t;return r instanceof Date&&isFinite(r)?r.getTime():t},type:"numeric"}),e.regex.percent=/%/g,e.regex.percentTest=/(\d\s*?%|%\s*?\d)/,e.addParser({id:"percent",is:function(t){return e.regex.percentTest.test(t)&&t.length<15},format:function(t,n){return t?e.formatFloat(t.replace(e.regex.percent,""),n):t},type:"numeric"}),e.addParser({id:"image",is:function(t,e,n,r){return r.find("img").length>0},format:function(e,n,r){return t(r).find("img").attr(n.config.imgAttr||"alt")||e},parsed:!0,type:"text"}),e.regex.dateReplace=/(\S)([AP]M)$/i,e.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,e.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,e.addParser({id:"usLongDate",is:function(t){return e.regex.usLongDateTest1.test(t)||e.regex.usLongDateTest2.test(t)},format:function(t,n){var r=t?new Date(t.replace(e.regex.dateReplace,"$1 $2")):t;return r instanceof Date&&isFinite(r)?r.getTime():t},type:"numeric"}),e.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,e.regex.shortDateReplace=/[\-.,]/g,e.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,e.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,e.convertFormat=function(t,n){t=(t||"").replace(e.regex.spaces," ").replace(e.regex.shortDateReplace,"/"),"mmddyyyy"===n?t=t.replace(e.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===n?t=t.replace(e.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===n&&(t=t.replace(e.regex.shortDateYMD,"$1/$2/$3"));var r=new Date(t);return r instanceof Date&&isFinite(r)?r.getTime():""},e.addParser({id:"shortDate",is:function(t){return t=(t||"").replace(e.regex.spaces," ").replace(e.regex.shortDateReplace,"/"),e.regex.shortDateTest.test(t)},format:function(t,n,r,i){if(t){var a=n.config,o=a.$headerIndexed[i],s=o.length&&o.data("dateFormat")||e.getData(o,e.getColumnData(n,a.headers,i),"dateFormat")||a.dateFormat;return o.length&&o.data("dateFormat",s),e.convertFormat(t,s)||t}return t},type:"numeric"}),e.regex.timeTest=/^([1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)$/i,e.regex.timeMatch=/([1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,e.addParser({id:"time",is:function(t){return e.regex.timeTest.test(t)},format:function(t,n){var r,i=(t||"").match(e.regex.timeMatch),a=new Date(t),o=t&&(null!==i?i[0]:"00:00 AM"),s=o?new Date("2000/01/01 "+o.replace(e.regex.dateReplace,"$1 $2")):o;return s instanceof Date&&isFinite(s)?(r=a instanceof Date&&isFinite(a)?a.getTime():0,r?parseFloat(s.getTime()+"."+a.getTime()):s.getTime()):t},type:"numeric"}),e.addParser({id:"metadata",is:function(){return!1},format:function(e,n,r){var i=n.config,a=i.parserMetadataName?i.parserMetadataName:"sortValue";return t(r).metadata()[a]},type:"numeric"}),e.addWidget({id:"zebra",priority:90,format:function(e,n,r){var i,a,o,s,l,u,c,d=new RegExp(n.cssChildRow,"i"),h=n.$tbodies.add(t(n.namespace+"_extra_table").children("tbody:not(."+n.cssInfoBlock+")"));for(l=0;l<h.length;l++)for(o=0,i=h.eq(l).children("tr:visible").not(n.selectorRemove),c=i.length,u=0;u<c;u++)a=i.eq(u),d.test(a[0].className)||o++,s=o%2===0,a.removeClass(r.zebra[s?1:0]).addClass(r.zebra[s?0:1])},remove:function(t,n,r,i){if(!i){var a,o,s=n.$tbodies,l=(r.zebra||["even","odd"]).join(" ");for(a=0;a<s.length;a++)o=e.processTbody(t,s.eq(a),!0),o.children().removeClass(l),e.processTbody(t,o,!1)}}})}(jQuery),function(t,e,n){"use strict";var r=t.tablesorter||{};r.storage=function(r,i,a,o){r=t(r)[0];var s,l,u,c=!1,d={},h=r.config,f=h&&h.widgetOptions,p=o&&o.useSessionStorage||f&&f.storage_useSessionStorage?"sessionStorage":"localStorage",g=t(r),m=o&&o.id||g.attr(o&&o.group||f&&f.storage_group||"data-table-group")||f&&f.storage_tableId||r.id||t(".tablesorter").index(g),v=o&&o.url||g.attr(o&&o.page||f&&f.storage_page||"data-table-page")||f&&f.storage_fixedUrl||h&&h.fixedUrl||e.location.pathname;if(p in e)try{e[p].setItem("_tmptest","temp"),c=!0,e[p].removeItem("_tmptest")}catch(y){h&&h.debug&&console.warn(p+" is not supported in this browser")}return t.parseJSON&&(c?d=t.parseJSON(e[p][i]||"null")||{}:(l=n.cookie.split(/[;\s|=]/),s=t.inArray(i,l)+1,d=0!==s?t.parseJSON(l[s]||"null")||{}:{})),(a||""===a)&&e.JSON&&JSON.hasOwnProperty("stringify")?(d[v]||(d[v]={}),d[v][m]=a,c?e[p][i]=JSON.stringify(d):(u=new Date,u.setTime(u.getTime()+31536e6),n.cookie=i+"="+JSON.stringify(d).replace(/\"/g,'"')+"; expires="+u.toGMTString()+"; path=/"),void 0):d&&d[v]?d[v][m]:""}}(jQuery,window,document),function(t){"use strict";var e=t.tablesorter||{};e.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",iconSortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s",iconSortAsc:"ui-icon-carat-1-n",iconSortDesc:"ui-icon-carat-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},t.extend(e.css,{wrapper:"tablesorter-wrapper"}),e.addWidget({id:"uitheme",priority:10,format:function(n,r,i){var a,o,s,l,u,c,d,h,f,p,g,m,v=e.themes,y=r.$table.add(t(r.namespace+"_extra_table")),b=r.$headers.add(t(r.namespace+"_extra_headers")),w=r.theme||"jui",x=v[w]||{},_=t.trim([x.sortNone,x.sortDesc,x.sortAsc,x.active].join(" ")),C=t.trim([x.iconSortNone,x.iconSortDesc,x.iconSortAsc].join(" "));for(r.debug&&(l=new Date),y.hasClass("tablesorter-"+w)&&r.theme===r.appliedTheme&&i.uitheme_applied||(i.uitheme_applied=!0,f=v[r.appliedTheme]||{},m=!t.isEmptyObject(f),p=m?[f.sortNone,f.sortDesc,f.sortAsc,f.active].join(" "):"",g=m?[f.iconSortNone,f.iconSortDesc,f.iconSortAsc].join(" "):"",m&&(i.zebra[0]=t.trim(" "+i.zebra[0].replace(" "+f.even,"")),i.zebra[1]=t.trim(" "+i.zebra[1].replace(" "+f.odd,"")),r.$tbodies.children().removeClass([f.even,f.odd].join(" "))),x.even&&(i.zebra[0]+=" "+x.even),x.odd&&(i.zebra[1]+=" "+x.odd),y.children("caption").removeClass(f.caption||"").addClass(x.caption),d=y.removeClass((r.appliedTheme?"tablesorter-"+(r.appliedTheme||""):"")+" "+(f.table||"")).addClass("tablesorter-"+w+" "+(x.table||"")).children("tfoot"),r.appliedTheme=r.theme,d.length&&d.children("tr").removeClass(f.footerRow||"").addClass(x.footerRow).children("th, td").removeClass(f.footerCells||"").addClass(x.footerCells),b.removeClass((m?[f.header,f.hover,p].join(" "):"")||"").addClass(x.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(e){t(this)["mouseenter"===e.type?"addClass":"removeClass"](x.hover||"")}),b.each(function(){var n=t(this);n.find("."+e.css.wrapper).length||n.wrapInner('<div class="'+e.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),r.cssIcon&&b.find("."+e.css.icon).removeClass(m?[f.icons,g].join(" "):"").addClass(x.icons||""),y.hasClass("hasFilters")&&y.children("thead").children("."+e.css.filterRow).removeClass(m?f.filterRow||"":"").addClass(x.filterRow||"")),a=0;a<r.columns;a++)u=r.$headers.add(t(r.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+a+'"]'),c=e.css.icon?u.find("."+e.css.icon):t(),h=b.not(".sorter-false").filter('[data-column="'+a+'"]:last'),h.length&&(u.removeClass(_),c.removeClass(C),h[0].sortDisabled?c.removeClass(x.icons||""):(o=x.sortNone,s=x.iconSortNone,h.hasClass(e.css.sortAsc)?(o=[x.sortAsc,x.active].join(" "),s=x.iconSortAsc):h.hasClass(e.css.sortDesc)&&(o=[x.sortDesc,x.active].join(" "),s=x.iconSortDesc),u.addClass(o),c.addClass(s||"")));r.debug&&console.log("Applying "+w+" theme"+e.benchmark(l))},remove:function(t,n,r,i){if(r.uitheme_applied){var a=n.$table,o=n.appliedTheme||"jui",s=e.themes[o]||e.themes.jui,l=a.children("thead").children(),u=s.sortNone+" "+s.sortDesc+" "+s.sortAsc,c=s.iconSortNone+" "+s.iconSortDesc+" "+s.iconSortAsc;a.removeClass("tablesorter-"+o+" "+s.table),r.uitheme_applied=!1,i||(a.find(e.css.header).removeClass(s.header),l.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(s.hover+" "+u+" "+s.active).filter("."+e.css.filterRow).removeClass(s.filterRow),l.find("."+e.css.icon).removeClass(s.icons+" "+c))}}})}(jQuery),function(t){"use strict";var e=t.tablesorter||{};e.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(n,r,i){var a,o,s,l,u,c,d,h,f=r.$table,p=r.$tbodies,g=r.sortList,m=g.length,v=i&&i.columns||["primary","secondary","tertiary"],y=v.length-1;for(d=v.join(" "),o=0;o<p.length;o++)a=e.processTbody(n,p.eq(o),!0),s=a.children("tr"),s.each(function(){if(u=t(this),"none"!==this.style.display&&(c=u.children().removeClass(d),g&&g[0]&&(c.eq(g[0][0]).addClass(v[0]),m>1)))for(h=1;h<m;h++)c.eq(g[h][0]).addClass(v[h]||v[y])}),e.processTbody(n,a,!1);if(l=i.columns_thead!==!1?["thead tr"]:[],i.columns_tfoot!==!1&&l.push("tfoot tr"),l.length&&(s=f.find(l.join(",")).children().removeClass(d),m))for(h=0;h<m;h++)s.filter('[data-column="'+g[h][0]+'"]').addClass(v[h]||v[y])},remove:function(n,r,i){var a,o,s=r.$tbodies,l=(i.columns||["primary","secondary","tertiary"]).join(" ");for(r.$headers.removeClass(l),r.$table.children("tfoot").children("tr").children("th, td").removeClass(l),a=0;a<s.length;a++)o=e.processTbody(n,s.eq(a),!0),o.children("tr").each(function(){t(this).children().removeClass(l)}),e.processTbody(n,o,!1)}})}(jQuery),function(t){"use strict";var e,n,r=t.tablesorter||{},i=r.css;t.extend(i,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),r.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnFilters:!0,filter_columnAnyMatch:!0,filter_cellFilter:"",filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(t,n,r){n.$table.hasClass("hasFilters")||e.init(t,n,r)},remove:function(e,n,a,o){var s,l,u=n.$table,c=n.$tbodies,d="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(n.namespace+"filter ");if(u.removeClass("hasFilters").unbind(d.replace(r.regex.spaces," ")).find("."+i.filterRow).remove(),!o){for(s=0;s<c.length;s++)l=r.processTbody(e,c.eq(s),!0),l.children().removeClass(a.filter_filteredRow).show(),r.processTbody(e,l,!1);a.filter_reset&&t(document).undelegate(a.filter_reset,"click"+n.namespace+"filter")}}}),e=r.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(r,i,a){if((n.orTest.test(i.iFilter)||n.orSplit.test(i.filter))&&!n.regex.test(i.filter)){var o,s,l,u,c=t.extend({},i),d=i.filter.split(n.orSplit),h=i.iFilter.split(n.orSplit),f=d.length;for(o=0;o<f;o++){c.nestedFilters=!0,c.filter=""+(e.parseFilter(r,d[o],i)||""),c.iFilter=""+(e.parseFilter(r,h[o],i)||""),l="("+(e.parseFilter(r,c.filter,i)||"")+")";try{if(u=new RegExp(i.isMatch?l:"^"+l+"$",r.widgetOptions.filter_ignoreCase?"i":""),s=u.test(c.exact)||e.processTypes(r,c,a))return s}catch(p){return null}}return s||!1}return null},and:function(r,i,a){if(n.andTest.test(i.filter)){var o,s,l,u,c,d=t.extend({},i),h=i.filter.split(n.andSplit),f=i.iFilter.split(n.andSplit),p=h.length;for(o=0;o<p;o++){d.nestedFilters=!0,d.filter=""+(e.parseFilter(r,h[o],i)||""),d.iFilter=""+(e.parseFilter(r,f[o],i)||""),u=("("+(e.parseFilter(r,d.filter,i)||"")+")").replace(n.wild01,"\\S{1}").replace(n.wild0More,"\\S*");try{c=new RegExp(i.isMatch?u:"^"+u+"$",r.widgetOptions.filter_ignoreCase?"i":""),l=c.test(d.exact)||e.processTypes(r,d,a),s=0===o?l:s&&l}catch(g){return null}}return s||!1}return null},regex:function(t,e){if(n.regex.test(e.filter)){var r,i=e.filter_regexCache[e.index]||n.regex.exec(e.filter),a=i instanceof RegExp;
try{a||(e.filter_regexCache[e.index]=i=new RegExp(i[1],i[2])),r=i.test(e.exact)}catch(o){r=!1}return r}return null},operators:function(i,a){if(n.operTest.test(a.iFilter)&&""!==a.iExact){var o,s,l,u=i.table,c=a.parsed[a.index],d=r.formatFloat(a.iFilter.replace(n.operators,""),u),h=i.parsers[a.index],f=d;return(c||"numeric"===h.type)&&(l=t.trim(""+a.iFilter.replace(n.operators,"")),s=e.parseFilter(i,l,a,!0),d="number"!=typeof s||""===s||isNaN(s)?d:s),!c&&"numeric"!==h.type||isNaN(d)||"undefined"==typeof a.cache?(l=isNaN(a.iExact)?a.iExact.replace(r.regex.nondigit,""):a.iExact,o=r.formatFloat(l,u)):o=a.cache,n.gtTest.test(a.iFilter)?s=n.gteTest.test(a.iFilter)?o>=d:o>d:n.ltTest.test(a.iFilter)&&(s=n.lteTest.test(a.iFilter)?o<=d:o<d),s||""!==f||(s=!0),s}return null},notMatch:function(r,i){if(n.notTest.test(i.iFilter)){var a,o=i.iFilter.replace("!",""),s=e.parseFilter(r,o,i)||"";return n.exact.test(s)?(s=s.replace(n.exact,""),""===s||t.trim(s)!==i.iExact):(a=i.iExact.search(t.trim(s)),""===s||!(r.widgetOptions.filter_startsWith?0===a:a>=0))}return null},exact:function(r,i){if(n.exact.test(i.iFilter)){var a=i.iFilter.replace(n.exact,""),o=e.parseFilter(r,a,i)||"";return i.anyMatch?t.inArray(o,i.rowArray)>=0:o==i.iExact}return null},range:function(t,i){if(n.toTest.test(i.iFilter)){var a,o,s,l,u=t.table,c=i.index,d=i.parsed[c],h=i.iFilter.split(n.toSplit);return o=h[0].replace(r.regex.nondigit,"")||"",s=r.formatFloat(e.parseFilter(t,o,i),u),o=h[1].replace(r.regex.nondigit,"")||"",l=r.formatFloat(e.parseFilter(t,o,i),u),(d||"numeric"===t.parsers[c].type)&&(a=t.parsers[c].format(""+h[0],u,t.$headers.eq(c),c),s=""===a||isNaN(a)?s:a,a=t.parsers[c].format(""+h[1],u,t.$headers.eq(c),c),l=""===a||isNaN(a)?l:a),!d&&"numeric"!==t.parsers[c].type||isNaN(s)||isNaN(l)?(o=isNaN(i.iExact)?i.iExact.replace(r.regex.nondigit,""):i.iExact,a=r.formatFloat(o,u)):a=i.cache,s>l&&(o=s,s=l,l=o),a>=s&&a<=l||""===s||""===l}return null},wild:function(t,r){if(n.wildOrTest.test(r.iFilter)){var i=""+(e.parseFilter(t,r.iFilter,r)||"");!n.wildTest.test(i)&&r.nestedFilters&&(i=r.isMatch?i:"^("+i+")$");try{return new RegExp(i.replace(n.wild01,"\\S{1}").replace(n.wild0More,"\\S*"),t.widgetOptions.filter_ignoreCase?"i":"").test(r.exact)}catch(a){return null}}return null},fuzzy:function(t,r){if(n.fuzzyTest.test(r.iFilter)){var i,a=0,o=r.iExact.length,s=r.iFilter.slice(1),l=e.parseFilter(t,s,r)||"";for(i=0;i<o;i++)r.iExact[i]===l[a]&&(a+=1);return a===l.length}return null}},init:function(a,o,s){r.language=t.extend(!0,{},{to:"to",or:"or",and:"and"},r.language);var l,u,c,d,h,f,p,g,m;if(o.$table.addClass("hasFilters"),s.filter_searchTimer=null,s.filter_initTimer=null,s.filter_formatterCount=0,s.filter_formatterInit=[],s.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',s.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',p="\\{"+n.query+"\\}",t.extend(n,{child:new RegExp(o.cssChildRow),filtered:new RegExp(s.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+r.language.or+"|-|"+r.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+r.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+r.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+r.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+r.language.and+"|&&)\\s+)","gi"),orTest:/\|/,orSplit:new RegExp("(?:\\s+(?:"+r.language.or+")\\s+|\\|)","gi"),iQuery:new RegExp(p,"i"),igQuery:new RegExp(p,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),p=o.$headers.filter(".filter-false, .parser-false").length,s.filter_columnFilters!==!1&&p!==o.$headers.length&&e.buildRow(a,o,s),c="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(o.namespace+"filter "),o.$table.bind(c,function(n,r){return p=s.filter_hideEmpty&&t.isEmptyObject(o.cache)&&!(o.delayInit&&"appendCache"===n.type),o.$table.find("."+i.filterRow).toggleClass(s.filter_filteredRow,p),/(search|filter)/.test(n.type)||(n.stopPropagation(),e.buildDefault(a,!0)),"filterReset"===n.type?(o.$table.find("."+i.filter).add(s.filter_$externalFilters).val(""),e.searching(a,[])):"filterEnd"===n.type?e.buildDefault(a,!0):(r="search"===n.type?r:"updateComplete"===n.type?o.$table.data("lastSearch"):"",/(update|add)/.test(n.type)&&"updateComplete"!==n.type&&(o.lastCombinedFilter=null,o.lastSearch=[]),e.searching(a,r,!0)),!1}),s.filter_reset&&(s.filter_reset instanceof t?s.filter_reset.click(function(){o.$table.trigger("filterReset")}):t(s.filter_reset).length&&t(document).undelegate(s.filter_reset,"click"+o.namespace+"filter").delegate(s.filter_reset,"click"+o.namespace+"filter",function(){o.$table.trigger("filterReset")})),s.filter_functions)for(h=0;h<o.columns;h++)if(g=r.getColumnData(a,s.filter_functions,h))if(d=o.$headerIndexed[h].removeClass("filter-select"),m=!(d.hasClass("filter-false")||d.hasClass("parser-false")),l="",g===!0&&m)e.buildSelect(a,h);else if("object"==typeof g&&m){for(u in g)"string"==typeof u&&(l+=""===l?'<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||s.filter_placeholder.select||"")+"</option>":"",p=u,c=u,u.indexOf(s.filter_selectSourceSeparator)>=0&&(p=u.split(s.filter_selectSourceSeparator),c=p[1],p=p[0]),l+="<option "+(c===p?"":'data-function-name="'+u+'" ')+'value="'+p+'">'+c+"</option>");o.$table.find("thead").find("select."+i.filter+'[data-column="'+h+'"]').append(l),c=s.filter_selectSource,g="function"==typeof c||r.getColumnData(a,c,h),g&&e.buildSelect(o.table,h,"",!0,d.hasClass(s.filter_onlyAvail))}e.buildDefault(a,!0),e.bindSearch(a,o.$table.find("."+i.filter),!0),s.filter_external&&e.bindSearch(a,s.filter_external),s.filter_hideFilters&&e.hideFilters(o),o.showProcessing&&(c="filterStart filterEnd ".split(" ").join(o.namespace+"filter "),o.$table.unbind(c.replace(r.regex.spaces," ")).bind(c,function(e,n){d=n?o.$table.find("."+i.header).filter("[data-column]").filter(function(){return""!==n[t(this).data("column")]}):"",r.isProcessing(a,"filterStart"===e.type,n?d:"")})),o.filteredRows=o.totalRows,c="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(o.namespace+"filter "),o.$table.unbind(c.replace(r.regex.spaces," ")).bind(c,function(){var t=this.config.widgetOptions;f=e.setDefaults(a,o,t)||[],f.length&&(o.delayInit&&""===f.join("")||r.setFilters(a,f,!0)),o.$table.trigger("filterFomatterUpdate"),setTimeout(function(){t.filter_initialized||e.filterInitComplete(o)},100)}),o.pager&&o.pager.initialized&&!s.filter_initialized&&(o.$table.trigger("filterFomatterUpdate"),setTimeout(function(){e.filterInitComplete(o)},100))},formatterUpdated:function(t,e){var n=t&&t.closest("table")[0].config.widgetOptions;n&&!n.filter_initialized&&(n.filter_formatterInit[e]=1)},filterInitComplete:function(n){var r,i,a=n.widgetOptions,o=0,s=function(){a.filter_initialized=!0,n.$table.trigger("filterInit",n),e.findRows(n.table,n.$table.data("lastSearch")||[])};if(t.isEmptyObject(a.filter_formatter))s();else{for(i=a.filter_formatterInit.length,r=0;r<i;r++)1===a.filter_formatterInit[r]&&o++;clearTimeout(a.filter_initTimer),a.filter_initialized||o!==a.filter_formatterCount?a.filter_initialized||(a.filter_initTimer=setTimeout(function(){s()},500)):s()}},processFilters:function(t,e){var n,r=e?encodeURIComponent:decodeURIComponent,i=t.length;for(n=0;n<i;n++)t[n]=r(t[n]);return t},setDefaults:function(n,i,a){var o,s,l,u,c,d=r.getFilters(n)||[];if(a.filter_saveFilters&&r.storage&&(s=r.storage(n,"tablesorter-filters")||[],o=t.isArray(s),o&&""===s.join("")||!o||(d=e.processFilters(s))),""===d.join(""))for(c=i.$headers.add(a.filter_$externalFilters).filter("["+a.filter_defaultAttrib+"]"),l=0;l<=i.columns;l++)u=l===i.columns?"all":l,d[l]=c.filter('[data-column="'+u+'"]').attr(a.filter_defaultAttrib)||d[l]||"";return i.$table.data("lastSearch",d),d},parseFilter:function(t,e,n,r){return r||n.parsed[n.index]?t.parsers[n.index].format(e,t.table,[],n.index):e},buildRow:function(e,n,a){var o,s,l,u,c,d,h,f,p,g=a.filter_cellFilter,m=n.columns,v=t.isArray(g),y='<tr role="row" class="'+i.filterRow+" "+n.cssIgnoreRow+'">';for(l=0;l<m;l++)n.$headerIndexed[l].length&&(y+='<td data-column="'+l+'"',p=n.$headerIndexed[l]&&n.$headerIndexed[l][0].colSpan||0,p>1&&(y+=' colspan="'+p+'"'),y+=v?g[l]?' class="'+g[l]+'"':"":""!==g?' class="'+g+'"':"",y+="></td>");for(n.$filters=t(y+="</tr>").appendTo(n.$table.children("thead").eq(0)).children("td"),l=0;l<m;l++)d=!1,u=n.$headerIndexed[l],u&&u.length&&(o=n.$filters.filter('[data-column="'+l+'"]'),f=r.getColumnData(e,a.filter_functions,l),c=a.filter_functions&&f&&"function"!=typeof f||u.hasClass("filter-select"),s=r.getColumnData(e,n.headers,l),d="false"===r.getData(u[0],s,"filter")||"false"===r.getData(u[0],s,"parser"),c?y=t("<select>").appendTo(o):(f=r.getColumnData(e,a.filter_formatter,l),f?(a.filter_formatterCount++,y=f(o,l),y&&0===y.length&&(y=o.children("input")),y&&(0===y.parent().length||y.parent().length&&y.parent()[0]!==o[0])&&o.append(y)):y=t('<input type="search">').appendTo(o),y&&(p=u.data("placeholder")||u.attr("data-placeholder")||a.filter_placeholder.search||"",y.attr("placeholder",p))),y&&(h=(t.isArray(a.filter_cssFilter)?"undefined"!=typeof a.filter_cssFilter[l]?a.filter_cssFilter[l]||"":"":a.filter_cssFilter)||"",y.addClass(i.filter+" "+h).attr("data-column",l),d&&(y.attr("placeholder","").addClass(i.filterDisabled)[0].disabled=!0)))},bindSearch:function(n,i,a){if(n=t(n)[0],i=t(i),i.length){var o,s=n.config,l=s.widgetOptions,u=s.namespace+"filter",c=l.filter_$externalFilters;a!==!0&&(o=l.filter_anyColumnSelector+","+l.filter_multipleColumnSelector,l.filter_$anyMatch=i.filter(o),c&&c.length?l.filter_$externalFilters=l.filter_$externalFilters.add(i):l.filter_$externalFilters=i,r.setFilters(n,s.$table.data("lastSearch")||[],a===!1)),o="keypress keyup search change ".split(" ").join(u+" "),i.attr("data-lastSearchTime",(new Date).getTime()).unbind(o.replace(r.regex.spaces," ")).bind("keyup"+u,function(r){if(t(this).attr("data-lastSearchTime",(new Date).getTime()),27===r.which)this.value="";else{if(l.filter_liveSearch===!1)return;if(""!==this.value&&("number"==typeof l.filter_liveSearch&&this.value.length<l.filter_liveSearch||13!==r.which&&8!==r.which&&(r.which<32||r.which>=37&&r.which<=40)))return}e.searching(n,!0,!0)}).bind("search change keypress ".split(" ").join(u+" "),function(r){var i=parseInt(t(this).attr("data-column"),10);l.filter_initialized&&(13===r.which||"search"===r.type||"change"===r.type&&this.value!==s.lastSearch[i])&&(r.preventDefault(),t(this).attr("data-lastSearchTime",(new Date).getTime()),e.searching(n,!1,!0))})}},searching:function(t,n,r){var i=t.config.widgetOptions;clearTimeout(i.filter_searchTimer),"undefined"==typeof n||n===!0?i.filter_searchTimer=setTimeout(function(){e.checkFilters(t,n,r)},i.filter_liveSearch?i.filter_searchDelay:10):e.checkFilters(t,n,r)},checkFilters:function(n,a,o){var s=n.config,l=s.widgetOptions,u=t.isArray(a),c=u?a:r.getFilters(n,!0),d=(c||[]).join("");return t.isEmptyObject(s.cache)?void(s.delayInit&&s.pager&&s.pager.initialized&&r.updateCache(s,function(){e.checkFilters(n,!1,o)})):(u&&(r.setFilters(n,c,!1,o!==!0),l.filter_initialized||(s.lastCombinedFilter="")),l.filter_hideFilters&&s.$table.find("."+i.filterRow).trigger(""===d?"mouseleave":"mouseenter"),s.lastCombinedFilter!==d||a===!1?(a===!1&&(s.lastCombinedFilter=null,s.lastSearch=[]),c=Array.prototype.map?c.map(String):c.join("\0").split("\0"),l.filter_initialized&&s.$table.trigger("filterStart",[c]),s.showProcessing?void setTimeout(function(){return e.findRows(n,c,d),!1},30):(e.findRows(n,c,d),!1)):void 0)},hideFilters:function(e,n){var a,o=(n||e.$table).find("."+i.filterRow).addClass(i.filterRowHide);o.bind("mouseenter mouseleave",function(n){var r=n,o=t(this);clearTimeout(a),a=setTimeout(function(){/enter|over/.test(r.type)?o.removeClass(i.filterRowHide):t(document.activeElement).closest("tr")[0]!==o[0]&&""===e.lastCombinedFilter&&o.addClass(i.filterRowHide)},200)}).find("input, select").bind("focus blur",function(n){var o=n,s=t(this).closest("tr");clearTimeout(a),a=setTimeout(function(){clearTimeout(a),""===r.getFilters(e.$table).join("")&&s.toggleClass(i.filterRowHide,"focus"!==o.type)},200)})},defaultFilter:function(e,r){if(""===e)return e;var i=n.iQuery,a=r.match(n.igQuery).length,o=a>1?t.trim(e).split(/\s/):[t.trim(e)],s=o.length-1,l=0,u=r;for(s<1&&a>1&&(o[1]=o[0]);i.test(u);)u=u.replace(i,o[l++]||""),i.test(u)&&l<s&&""!==(o[l]||"")&&(u=r.replace(i,u));return u},getLatestSearch:function(e){return e?e.sort(function(e,n){return t(n).attr("data-lastSearchTime")-t(e).attr("data-lastSearchTime")}):e||t()},multipleColumns:function(n,r){var i,a,o,s,l,u,c,d,h,f=n.widgetOptions,p=f.filter_initialized||!r.filter(f.filter_anyColumnSelector).length,g=[],m=t.trim(e.getLatestSearch(r).attr("data-column")||"");if(/^[0-9]+$/.test(m))return parseInt(m,10);if(p&&/-/.test(m))for(a=m.match(/(\d+)\s*-\s*(\d+)/g),h=a.length,d=0;d<h;d++){for(o=a[d].split(/\s*-\s*/),s=parseInt(o[0],10)||0,l=parseInt(o[1],10)||n.columns-1,s>l&&(i=s,s=l,l=i),l>=n.columns&&(l=n.columns-1);s<=l;s++)g.push(s);m=m.replace(a[d],"")}if(p&&/,/.test(m))for(u=m.split(/\s*,\s*/),h=u.length,c=0;c<h;c++)""!==u[c]&&(d=parseInt(u[c],10),d<n.columns&&g.push(d));if(!g.length)for(d=0;d<n.columns;d++)g.push(d);return g},processTypes:function(n,r,i){var a,o=null,s=null;for(a in e.types)t.inArray(a,i.excludeMatch)<0&&null===s&&(s=e.types[a](n,r,i),null!==s&&(o=s));return o},processRow:function(i,a,o){var s,l,u,c,d,h=i.widgetOptions,f=!0,p=h.filter_$anyMatch&&h.filter_$anyMatch.length?e.multipleColumns(i,h.filter_$anyMatch):[];if(a.$cells=a.$row.children(),a.anyMatchFlag&&p.length>1){if(a.anyMatch=!0,a.isMatch=!0,a.rowArray=a.$cells.map(function(e){if(t.inArray(e,p)>-1)return a.parsed[e]?d=a.cacheArray[e]:(d=a.rawArray[e],d=t.trim(h.filter_ignoreCase?d.toLowerCase():d),i.sortLocaleCompare&&(d=r.replaceAccents(d))),d}).get(),a.filter=a.anyMatchFilter,a.iFilter=a.iAnyMatchFilter,a.exact=a.rowArray.join(" "),a.iExact=h.filter_ignoreCase?a.exact.toLowerCase():a.exact,a.cache=a.cacheArray.slice(0,-1).join(" "),o.excludeMatch=o.noAnyMatch,l=e.processTypes(i,a,o),null!==l)f=l;else if(h.filter_startsWith)for(f=!1,p=Math.min(i.columns,a.rowArray.length);!f&&p>0;)p--,f=f||0===a.rowArray[p].indexOf(a.iFilter);else f=(a.iExact+a.childRowText).indexOf(a.iFilter)>=0;if(a.anyMatch=!1,a.filters.join("")===a.filter)return f}for(p=0;p<i.columns;p++)a.filter=a.filters[p],a.index=p,o.excludeMatch=o.excludeFilter[p],a.filter&&(a.cache=a.cacheArray[p],h.filter_useParsedData||a.parsed[p]?a.exact=a.cache:(s=a.rawArray[p]||"",a.exact=i.sortLocaleCompare?r.replaceAccents(s):s),a.iExact=!n.type.test(typeof a.exact)&&h.filter_ignoreCase?a.exact.toLowerCase():a.exact,a.isMatch=i.$headerIndexed[a.index].hasClass("filter-match"),s=f,c=h.filter_columnFilters?i.$filters.add(i.$externalFilters).filter('[data-column="'+p+'"]').find("select option:selected").attr("data-function-name")||"":"",i.sortLocaleCompare&&(a.filter=r.replaceAccents(a.filter)),a.iFilter=h.filter_ignoreCase?(a.filter||"").toLowerCase():a.filter,u=o.functions[p],l=null,u&&(u===!0?l=a.isMatch?(""+a.iExact).search(a.iFilter)>=0:a.filter===a.exact:"function"==typeof u?l=u(a.exact,a.cache,a.filter,p,a.$row,i,a):"function"==typeof u[c||a.filter]&&(d=c||a.filter,l=u[d](a.exact,a.cache,a.filter,p,a.$row,i,a))),null===l?(l=e.processTypes(i,a,o),null!==l?s=l:(d=(a.iExact+a.childRowText).indexOf(e.parseFilter(i,a.iFilter,a)),s=!h.filter_startsWith&&d>=0||h.filter_startsWith&&0===d)):s=l,f=!!s&&f);return f},findRows:function(i,a,o){if(i.config.lastCombinedFilter!==o&&i.config.widgetOptions.filter_initialized){var s,l,u,c,d,h,f,p,g,m,v,y,b,w,x,_,C,S,T,E,M,D,k,A,O=t.extend([],a),R=i.config,L=R.widgetOptions,N={anyMatch:!1,filters:a,filter_regexCache:[]},P={noAnyMatch:["range","notMatch","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:r.getColumnData(i,L.filter_defaultFilter,R.columns,!0)||""};for(N.parsed=R.$headers.map(function(e){return R.parsers&&R.parsers[e]&&R.parsers[e].parsed||r.getData&&"parsed"===r.getData(R.$headerIndexed[e],r.getColumnData(i,R.headers,e),"filter")||t(this).hasClass("filter-parsed")}).get(),g=0;g<R.columns;g++)P.functions[g]=r.getColumnData(i,L.filter_functions,g),P.defaultColFilter[g]=r.getColumnData(i,L.filter_defaultFilter,g)||"",P.excludeFilter[g]=(r.getColumnData(i,L.filter_excludeFilter,g,!0)||"").split(/\s+/);for(R.debug&&(console.log("Filter: Starting filter widget search",a),x=new Date),R.filteredRows=0,R.totalRows=0,o=(O||[]).join(""),f=0;f<R.$tbodies.length;f++){if(p=r.processTbody(i,R.$tbodies.eq(f),!0),g=R.columns,l=R.cache[f].normalized,c=t(t.map(l,function(t){return t[g].$row.get()})),""===o||L.filter_serversideFiltering)c.removeClass(L.filter_filteredRow).not("."+R.cssChildRow).css("display","");else{if(c=c.not("."+R.cssChildRow),s=c.length,(L.filter_$anyMatch&&L.filter_$anyMatch.length||"undefined"!=typeof a[R.columns])&&(N.anyMatchFlag=!0,N.anyMatchFilter=""+(a[R.columns]||L.filter_$anyMatch&&e.getLatestSearch(L.filter_$anyMatch).val()||""),L.filter_columnAnyMatch)){for(E=N.anyMatchFilter.split(n.andSplit),M=!1,C=0;C<E.length;C++)D=E[C].split(":"),D.length>1&&(k=parseInt(D[0],10)-1,k>=0&&k<R.columns&&(a[k]=D[1],E.splice(C,1),C--,M=!0));M&&(N.anyMatchFilter=E.join(" && "))}if(T=L.filter_searchFiltered,y=R.lastSearch||R.$table.data("lastSearch")||[],T)for(C=0;C<g+1;C++)_=a[C]||"",T||(C=g),T=T&&y.length&&0===_.indexOf(y[C]||"")&&!n.alreadyFiltered.test(_)&&!n.exactTest.test(_)&&!(n.isNeg1.test(_)||n.isNeg2.test(_))&&!(""!==_&&R.$filters&&R.$filters.filter('[data-column="'+C+'"]').find("select").length&&!R.$headerIndexed[C].hasClass("filter-match"));for(S=c.not("."+L.filter_filteredRow).length,T&&0===S&&(T=!1),R.debug&&console.log("Filter: Searching through "+(T&&S<s?S:"all")+" rows"),N.anyMatchFlag&&(R.sortLocaleCompare&&(N.anyMatchFilter=r.replaceAccents(N.anyMatchFilter)),L.filter_defaultFilter&&n.iQuery.test(P.defaultAnyFilter)&&(N.anyMatchFilter=e.defaultFilter(N.anyMatchFilter,P.defaultAnyFilter),T=!1),N.iAnyMatchFilter=L.filter_ignoreCase&&R.ignoreCase?N.anyMatchFilter.toLowerCase():N.anyMatchFilter),h=0;h<s;h++)if(A=c[h].className,m=h&&n.child.test(A),!(m||T&&n.filtered.test(A))){if(N.$row=c.eq(h),N.cacheArray=l[h],u=N.cacheArray[R.columns],N.rawArray=u.raw,N.childRowText="",!L.filter_childByColumn){for(A="",v=u.child,C=0;C<v.length;C++)A+=" "+v[C].join(" ")||"";N.childRowText=L.filter_childRows?L.filter_ignoreCase?A.toLowerCase():A:""}if(b=!1,w=e.processRow(R,N,P),d=u.$row,_=!!w,v=u.$row.filter(":gt( 0 )"),L.filter_childRows&&v.length){if(L.filter_childByColumn)for(L.filter_childWithSibs||(v.addClass(L.filter_filteredRow),d=d.eq(0)),C=0;C<v.length;C++)N.$row=v.eq(C),N.cacheArray=u.child[C],N.rawArray=N.cacheArray,_=e.processRow(R,N,P),b=b||_,!L.filter_childWithSibs&&_&&v.eq(C).removeClass(L.filter_filteredRow);b=b||w}else b=_;d.toggleClass(L.filter_filteredRow,!b)[0].display=b?"":"none"}}R.filteredRows+=c.not("."+L.filter_filteredRow).length,R.totalRows+=c.length,r.processTbody(i,p,!1)}R.lastCombinedFilter=o,R.lastSearch=O,R.$table.data("lastSearch",O),L.filter_saveFilters&&r.storage&&r.storage(i,"tablesorter-filters",e.processFilters(O,!0)),R.debug&&console.log("Completed filter widget search"+r.benchmark(x)),L.filter_initialized&&R.$table.trigger("filterEnd",R),setTimeout(function(){r.applyWidget(R.table)},0)}},getOptionSource:function(n,i,a){n=t(n)[0];var o=n.config,s=o.widgetOptions,l=!1,u=s.filter_selectSource,c=o.$table.data("lastSearch")||[],d="function"==typeof u||r.getColumnData(n,u,i);if(a&&""!==c[i]&&(a=!1),d===!0)l=u(n,i,a);else{if(d instanceof t||"string"===t.type(d)&&d.indexOf("</option>")>=0)return d;t.isArray(d)?l=d:"object"===t.type(u)&&d&&(l=d(n,i,a))}return l===!1&&(l=e.getOptions(n,i,a)),e.processOptions(n,i,l)},processOptions:function(e,n,i){if(!t.isArray(i))return!1;e=t(e)[0];var a,o,s,l,u,c,d=e.config,h="undefined"!=typeof n&&null!==n&&n>=0&&n<d.columns,f=[];if(i=t.grep(i,function(e,n){return!!e.text||t.inArray(e,i)===n}),h&&d.$headerIndexed[n].hasClass("filter-select-nosort"))return i;for(l=i.length,s=0;s<l;s++)o=i[s],c=o.text?o.text:o,u=(h&&d.parsers&&d.parsers.length&&d.parsers[n].format(c,e,[],n)||c).toString(),u=d.widgetOptions.filter_ignoreCase?u.toLowerCase():u,o.text?(o.parsed=u,f.push(o)):f.push({text:o,parsed:u});for(a=d.textSorter||"",f.sort(function(t,i){var o=t.parsed,s=i.parsed;return h&&"function"==typeof a?a(o,s,!0,n,e):h&&"object"==typeof a&&a.hasOwnProperty(n)?a[n](o,s,!0,n,e):!r.sortNatural||r.sortNatural(o,s)}),i=[],l=f.length,s=0;s<l;s++)i.push(f[s]);return i},getOptions:function(e,n,i){e=t(e)[0];var a,o,s,l,u,c,d,h,f=e.config,p=f.widgetOptions,g=[];for(o=0;o<f.$tbodies.length;o++)for(u=f.cache[o],s=f.cache[o].normalized.length,a=0;a<s;a++)if(l=u.row?u.row[a]:u.normalized[a][f.columns].$row[0],!i||!l.className.match(p.filter_filteredRow))if(p.filter_useParsedData||f.parsers[n].parsed||f.$headerIndexed[n].hasClass("filter-parsed")){if(g.push(""+u.normalized[a][n]),p.filter_childRows&&p.filter_childByColumn)for(h=u.normalized[a][f.columns].$row.length-1,c=0;c<h;c++)g.push(""+u.normalized[a][f.columns].child[c][n])}else if(g.push(u.normalized[a][f.columns].raw[n]),p.filter_childRows&&p.filter_childByColumn)for(h=u.normalized[a][f.columns].$row.length,c=1;c<h;c++)d=u.normalized[a][f.columns].$row.eq(c).children().eq(n),g.push(""+r.getElementText(f,d,n));return g},buildSelect:function(r,a,o,s,l){if(r=t(r)[0],a=parseInt(a,10),r.config.cache&&!t.isEmptyObject(r.config.cache)){var u,c,d,h,f,p,g,m=r.config,v=m.widgetOptions,y=m.$headerIndexed[a],b='<option value="">'+(y.data("placeholder")||y.attr("data-placeholder")||v.filter_placeholder.select||"")+"</option>",w=m.$table.find("thead").find("select."+i.filter+'[data-column="'+a+'"]').val();if("undefined"!=typeof o&&""!==o||(o=e.getOptionSource(r,a,l)),t.isArray(o)){for(u=0;u<o.length;u++)if(g=o[u],g.text){g["data-function-name"]="undefined"==typeof g.value?g.text:g.value,b+="<option";for(c in g)g.hasOwnProperty(c)&&"text"!==c&&(b+=" "+c+'="'+g[c]+'"');g.value||(b+=' value="'+g.text+'"'),b+=">"+g.text+"</option>"}else""+g!="[object Object]"&&(d=g=(""+g).replace(n.quote,"&quot;"),c=d,d.indexOf(v.filter_selectSourceSeparator)>=0&&(h=d.split(v.filter_selectSourceSeparator),c=h[0],d=h[1]),b+=""!==g?"<option "+(c===d?"":'data-function-name="'+g+'" ')+'value="'+c+'">'+d+"</option>":"");o=[]}f=(m.$filters?m.$filters:m.$table.children("thead")).find("."+i.filter),v.filter_$externalFilters&&(f=f&&f.length?f.add(v.filter_$externalFilters):v.filter_$externalFilters),p=f.filter('select[data-column="'+a+'"]'),p.length&&(p[s?"html":"append"](b),t.isArray(o)||p.append(o).val(w),p.val(w))}},buildDefault:function(t,n){var i,a,o,s=t.config,l=s.widgetOptions,u=s.columns;for(i=0;i<u;i++)a=s.$headerIndexed[i],o=!(a.hasClass("filter-false")||a.hasClass("parser-false")),(a.hasClass("filter-select")||r.getColumnData(t,l.filter_functions,i)===!0)&&o&&e.buildSelect(t,i,"",n,a.hasClass(l.filter_onlyAvail))}},n=e.regex,r.getFilters=function(n,r,a,o){var s,l,u,c,d=!1,h=n?t(n)[0].config:"",f=h?h.widgetOptions:"";if(r!==!0&&f&&!f.filter_columnFilters||t.isArray(a)&&a.join("")===h.lastCombinedFilter)return t(n).data("lastSearch");if(h&&(h.$filters&&(l=h.$filters.find("."+i.filter)),f.filter_$externalFilters&&(l=l&&l.length?l.add(f.filter_$externalFilters):f.filter_$externalFilters),l&&l.length))for(d=a||[],s=0;s<h.columns+1;s++)c=s===h.columns?f.filter_anyColumnSelector+","+f.filter_multipleColumnSelector:'[data-column="'+s+'"]',u=l.filter(c),u.length&&(u=e.getLatestSearch(u),t.isArray(a)?(o&&u.length>1&&(u=u.slice(1)),s===h.columns&&(c=u.filter(f.filter_anyColumnSelector),u=c.length?c:u),u.val(a[s]).trigger("change"+h.namespace)):(d[s]=u.val()||"",s===h.columns?u.slice(1).filter('[data-column*="'+u.attr("data-column")+'"]').val(d[s]):u.slice(1).val(d[s])),s===h.columns&&u.length&&(f.filter_$anyMatch=u));return 0===d.length&&(d=!1),d},r.setFilters=function(n,i,a,o){var s=n?t(n)[0].config:"",l=r.getFilters(n,!0,i,o);return"undefined"==typeof a&&(a=!0),s&&a&&(s.lastCombinedFilter=null,s.lastSearch=[],e.searching(s.table,i,o),s.$table.trigger("filterFomatterUpdate")),!!l}}(jQuery),function(t,e){"use strict";var n=t.tablesorter||{};t.extend(n.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),n.addHeaderResizeEvent=function(e,n,r){if(e=t(e)[0],e.config){var i={timer:250},a=t.extend({},i,r),o=e.config,s=o.widgetOptions,l=function(t){var e,n,r,i,a,l,u=o.$headers.length;for(s.resize_flag=!0,n=[],e=0;e<u;e++)r=o.$headers.eq(e),i=r.data("savedSizes")||[0,0],a=r[0].offsetWidth,l=r[0].offsetHeight,a===i[0]&&l===i[1]||(r.data("savedSizes",[a,l]),n.push(r[0]));n.length&&t!==!1&&o.$table.trigger("resize",[n]),s.resize_flag=!1};return l(!1),clearInterval(s.resize_timer),n?(s.resize_flag=!1,!1):void(s.resize_timer=setInterval(function(){s.resize_flag||l()},a.timer))}},n.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(r,i,a){if(!(i.$table.hasClass("hasStickyHeaders")||t.inArray("filter",i.widgets)>=0&&!i.$table.hasClass("hasFilters"))){var o,s,l,u,c=i.$table,d=t(a.stickyHeaders_attachTo),h=i.namespace+"stickyheaders ",f=t(a.stickyHeaders_yScroll||a.stickyHeaders_attachTo||e),p=t(a.stickyHeaders_xScroll||a.stickyHeaders_attachTo||e),g=c.children("thead:first"),m=g.children("tr").not(".sticky-false").children(),v=c.children("tfoot"),y=isNaN(a.stickyHeaders_offset)?t(a.stickyHeaders_offset):"",b=y.length?y.height()||0:parseInt(a.stickyHeaders_offset,10)||0,w=c.parent().closest("."+n.css.table).hasClass("hasStickyHeaders")?c.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],x=w.length?w.height():0,_=a.$sticky=c.clone().addClass("containsStickyHeaders "+n.css.sticky+" "+a.stickyHeaders+" "+i.namespace.slice(1)+"_extra_table").wrap('<div class="'+n.css.stickyWrap+'">'),C=_.parent().addClass(n.css.stickyHide).css({position:d.length?"absolute":"fixed",padding:parseInt(_.parent().parent().css("padding-left"),10),top:b+x,left:0,visibility:"hidden",zIndex:a.stickyHeaders_zIndex||2}),S=_.children("thead:first"),T="",E=0,M=function(t,n){var r,i,a,o,s,l=t.filter(":visible"),u=l.length;for(r=0;r<u;r++)o=n.filter(":visible").eq(r),s=l.eq(r),"border-box"===s.css("box-sizing")?i=s.outerWidth():"collapse"===o.css("border-collapse")?e.getComputedStyle?i=parseFloat(e.getComputedStyle(s[0],null).width):(a=parseFloat(s.css("border-width")),i=s.outerWidth()-parseFloat(s.css("padding-left"))-parseFloat(s.css("padding-right"))-a):i=s.width(),o.css({width:i,"min-width":i,"max-width":i})},D=function(){b=y.length?y.height()||0:parseInt(a.stickyHeaders_offset,10)||0,E=0,C.css({left:d.length?parseInt(d.css("padding-left"),10)||0:c.offset().left-parseInt(c.css("margin-left"),10)-p.scrollLeft()-E,width:c.outerWidth()}),M(c,_),M(m,u)},k=function(e){if(c.is(":visible")){x=w.length?w.offset().top-f.scrollTop()+w.height():0;var r=c.offset(),i=t.isWindow(f[0]),a=t.isWindow(p[0]),o=(d.length?i?f.scrollTop():f.offset().top:f.scrollTop())+b+x,s=c.height()-(C.height()+(v.height()||0)),l=o>r.top&&o<r.top+s?"visible":"hidden",u={visibility:l};d.length&&(u.top=i?o-d.offset().top:d.scrollTop()),a&&(u.left=c.offset().left-parseInt(c.css("margin-left"),10)-p.scrollLeft()-E),w.length&&(u.top=(u.top||0)+b+x),C.removeClass(n.css.stickyVis+" "+n.css.stickyHide).addClass("visible"===l?n.css.stickyVis:n.css.stickyHide).css(u),(l!==T||e)&&(D(),T=l)}};if(d.length&&!d.css("position")&&d.css("position","relative"),_.attr("id")&&(_[0].id+=a.stickyHeaders_cloneId),_.find("thead:gt(0), tr.sticky-false").hide(),_.find("tbody, tfoot").remove(),_.find("caption").toggle(a.stickyHeaders_includeCaption),u=S.children().children(),_.css({height:0,width:0,margin:0}),u.find("."+n.css.resizer).remove(),c.addClass("hasStickyHeaders").bind("pagerComplete"+h,function(){D()}),n.bindEvents(r,S.children().children("."+n.css.header)),c.after(C),i.onRenderHeader)for(l=S.children("tr").children(),s=l.length,o=0;o<s;o++)i.onRenderHeader.apply(l.eq(o),[o,i,_]);p.add(f).unbind("scroll resize ".split(" ").join(h).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(h),function(t){k("resize"===t.type)}),i.$table.unbind("stickyHeadersUpdate"+h).bind("stickyHeadersUpdate"+h,function(){k(!0)}),a.stickyHeaders_addResizeEvent&&n.addHeaderResizeEvent(r),c.hasClass("hasFilters")&&a.filter_columnFilters&&(c.bind("filterEnd"+h,function(){var r=t(document.activeElement).closest("td"),o=r.parent().children().index(r);C.hasClass(n.css.stickyVis)&&a.stickyHeaders_filteredToTop&&(e.scrollTo(0,c.position().top),o>=0&&i.$filters&&i.$filters.eq(o).find("a, select, input").filter(":visible").focus())}),n.filter.bindSearch(c,u.find("."+n.css.filter)),a.filter_hideFilters&&n.filter.hideFilters(i,_)),c.trigger("stickyHeadersInit")}},remove:function(r,i,a){var o=i.namespace+"stickyheaders ";i.$table.removeClass("hasStickyHeaders").unbind("pagerComplete filterEnd stickyHeadersUpdate ".split(" ").join(o).replace(/\s+/g," ")).next("."+n.css.stickyWrap).remove(),a.$sticky&&a.$sticky.length&&a.$sticky.remove(),t(e).add(a.stickyHeaders_xScroll).add(a.stickyHeaders_yScroll).add(a.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(o).replace(/\s+/g," ")),n.addHeaderResizeEvent(r,!1)}})}(jQuery,window),function(t,e){"use strict";var n=t.tablesorter||{};t.extend(n.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),t(function(){var e="<style>body."+n.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+n.css.resizableContainer+" { position: relative; height: 1px; }."+n.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";t(e).appendTo("body")}),n.resizable={init:function(e,r){if(!e.$table.hasClass("hasResizable")){e.$table.addClass("hasResizable");var i,a,o,s,l,u=e.$table,c=u.parent(),d=parseInt(u.css("margin-top"),10),h=r.resizable_vars={useStorage:n.storage&&r.resizable!==!1,$wrap:c,mouseXPosition:0,$target:null,$next:null,overflow:"auto"===c.css("overflow")||"scroll"===c.css("overflow")||"auto"===c.css("overflow-x")||"scroll"===c.css("overflow-x"),storedSizes:[]};for(n.resizableReset(e.table,!0),h.tableWidth=u.width(),h.fullWidth=Math.abs(c.width()-h.tableWidth)<20,h.useStorage&&h.overflow&&(n.storage(e.table,"tablesorter-table-original-css-width",h.tableWidth),l=n.storage(e.table,"tablesorter-table-resized-width")||"auto",n.resizable.setWidth(u,l,!0)),r.resizable_vars.storedSizes=s=(h.useStorage?n.storage(e.table,n.css.resizableStorage):[])||[],n.resizable.setWidths(e,r,s),n.resizable.updateStoredSizes(e,r),r.$resizable_container=t('<div class="'+n.css.resizableContainer+'">').css({top:d}).insertBefore(u),o=0;o<e.columns;o++)a=e.$headerIndexed[o],l=n.getColumnData(e.table,e.headers,o),i="false"===n.getData(a,l,"resizable"),i||t('<div class="'+n.css.resizableHandle+'">').appendTo(r.$resizable_container).attr({"data-column":o,unselectable:"on"}).data("header",a).bind("selectstart",!1);n.resizable.setHandlePosition(e,r),n.resizable.bindings(e,r)}},updateStoredSizes:function(t,e){var n,r,i=t.columns,a=e.resizable_vars;for(a.storedSizes=[],n=0;n<i;n++)r=t.$headerIndexed[n],a.storedSizes[n]=r.is(":visible")?r.width():0},setWidth:function(t,e,n){t.css({width:e,"min-width":n?e:"",
"max-width":n?e:""})},setWidths:function(e,r,i){var a,o,s=r.resizable_vars,l=t(e.namespace+"_extra_headers"),u=e.$table.children("colgroup").children("col");if(i=i||s.storedSizes||[],i.length){for(a=0;a<e.columns;a++)n.resizable.setWidth(e.$headerIndexed[a],i[a],s.overflow),l.length&&(o=l.eq(a).add(u.eq(a)),n.resizable.setWidth(o,i[a],s.overflow));o=t(e.namespace+"_extra_table"),o.length&&!n.hasWidget(e.table,"scroller")&&n.resizable.setWidth(o,e.$table.outerWidth(),s.overflow)}},setHandlePosition:function(e,r){var i,a=n.hasWidget(e.table,"scroller"),o=e.$table.height(),s=r.$resizable_container.children(),l=Math.floor(s.width()/2);a&&(o=0,e.$table.closest("."+n.css.scrollerWrap).children().each(function(){var e=t(this);o+=e.filter('[style*="height"]').length?e.height():e.children("table").height()})),i=e.$table.position().left,s.each(function(){var n=t(this),a=parseInt(n.attr("data-column"),10),s=e.columns-1,u=n.data("header");u&&(u.is(":visible")?(a<s||a===s&&r.resizable_addLastColumn)&&n.css({display:"inline-block",height:o,left:u.position().left-i+u.outerWidth()-l}):n.hide())})},toggleTextSelection:function(e,r,i){var a=e.namespace+"tsresize";r.resizable_vars.disabled=i,t("body").toggleClass(n.css.resizableNoSelect,i),i?t("body").attr("unselectable","on").bind("selectstart"+a,!1):t("body").removeAttr("unselectable").unbind("selectstart"+a)},bindings:function(r,i){var a=r.namespace+"tsresize";i.$resizable_container.children().bind("mousedown",function(e){var a,o=i.resizable_vars,s=t(r.namespace+"_extra_headers"),l=t(e.target).data("header");a=parseInt(l.attr("data-column"),10),o.$target=l=l.add(s.filter('[data-column="'+a+'"]')),o.target=a,o.$next=e.shiftKey||i.resizable_targetLast?l.parent().children().not(".resizable-false").filter(":last"):l.nextAll(":not(.resizable-false)").eq(0),a=parseInt(o.$next.attr("data-column"),10),o.$next=o.$next.add(s.filter('[data-column="'+a+'"]')),o.next=a,o.mouseXPosition=e.pageX,n.resizable.updateStoredSizes(r,i),n.resizable.toggleTextSelection(r,i,!0)}),t(document).bind("mousemove"+a,function(t){var e=i.resizable_vars;e.disabled&&0!==e.mouseXPosition&&e.$target&&(i.resizable_throttle?(clearTimeout(e.timer),e.timer=setTimeout(function(){n.resizable.mouseMove(r,i,t)},isNaN(i.resizable_throttle)?5:i.resizable_throttle)):n.resizable.mouseMove(r,i,t))}).bind("mouseup"+a,function(){i.resizable_vars.disabled&&(n.resizable.toggleTextSelection(r,i,!1),n.resizable.stopResize(r,i),n.resizable.setHandlePosition(r,i))}),t(e).bind("resize"+a+" resizeEnd"+a,function(){n.resizable.setHandlePosition(r,i)}),r.$table.bind("columnUpdate"+a,function(){n.resizable.setHandlePosition(r,i)}).find("thead:first").add(t(r.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+a,function(){var t=0===i.resizable_vars.storedSizes.length;return n.resizableReset(r.table),n.resizable.setHandlePosition(r,i),i.resizable_vars.storedSizes=[],t})},mouseMove:function(e,r,i){if(0!==r.resizable_vars.mouseXPosition&&r.resizable_vars.$target){var a,o=0,s=r.resizable_vars,l=s.$next,u=s.storedSizes[s.target],c=i.pageX-s.mouseXPosition;if(s.overflow){if(u+c>0){for(s.storedSizes[s.target]+=c,n.resizable.setWidth(s.$target,s.storedSizes[s.target],!0),a=0;a<e.columns;a++)o+=s.storedSizes[a];n.resizable.setWidth(e.$table.add(t(e.namespace+"_extra_table")),o)}l.length||(s.$wrap[0].scrollLeft=e.$table.width())}else s.fullWidth?(s.storedSizes[s.target]+=c,s.storedSizes[s.next]-=c,n.resizable.setWidths(e,r)):(s.storedSizes[s.target]+=c,n.resizable.setWidths(e,r));s.mouseXPosition=i.pageX,e.$table.trigger("stickyHeadersUpdate")}},stopResize:function(t,e){var r=e.resizable_vars;n.resizable.updateStoredSizes(t,e),r.useStorage&&(n.storage(t.table,n.css.resizableStorage,r.storedSizes),n.storage(t.table,"tablesorter-table-resized-width",t.$table.width())),r.mouseXPosition=0,r.$target=r.$next=null,t.$table.trigger("stickyHeadersUpdate")}},n.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1,resizable_fullWidth:null},init:function(t,e,r,i){n.resizable.init(r,i)},remove:function(e,r,i,a){if(i.$resizable_container){var o=r.namespace+"tsresize";r.$table.add(t(r.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+o),i.$resizable_container.remove(),n.resizable.toggleTextSelection(r,i,!1),n.resizableReset(e,a),t(document).unbind("mousemove"+o+" mouseup"+o)}}}),n.resizableReset=function(e,r){t(e).each(function(){var t,i,a=this.config,o=a&&a.widgetOptions,s=o.resizable_vars;if(e&&a&&a.$headerIndexed.length){for(s.overflow&&s.tableWidth&&(n.resizable.setWidth(a.$table,s.tableWidth,!0),s.useStorage&&n.storage(e,"tablesorter-table-resized-width","auto")),t=0;t<a.columns;t++)i=a.$headerIndexed[t],o.resizable_widths&&o.resizable_widths[t]?n.resizable.setWidth(i,o.resizable_widths[t],s.overflow):i.hasClass("resizable-false")||n.resizable.setWidth(i,"",s.overflow);a.$table.trigger("stickyHeadersUpdate"),n.storage&&!r&&n.storage(this,n.css.resizableStorage,{})}})}}(jQuery,window),function(t){"use strict";var e=t.tablesorter||{};e.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(t,e,n,r){e.format(t,n,r,!0)},format:function(n,r,i,a){var o,s,l=r.$table,u=i.saveSort!==!1,c={sortList:r.sortList};r.debug&&(s=new Date),l.hasClass("hasSaveSort")?u&&n.hasInitialized&&e.storage&&(e.storage(n,"tablesorter-savesort",c),r.debug&&console.log("saveSort widget: Saving last sort: "+r.sortList+e.benchmark(s))):(l.addClass("hasSaveSort"),c="",e.storage&&(o=e.storage(n,"tablesorter-savesort"),c=o&&o.hasOwnProperty("sortList")&&t.isArray(o.sortList)?o.sortList:"",r.debug&&console.log('saveSort: Last sort loaded: "'+c+'"'+e.benchmark(s)),l.bind("saveSortReset",function(t){t.stopPropagation(),e.storage(n,"tablesorter-savesort","")})),a&&c&&c.length>0?r.sortList=c:n.hasInitialized&&c&&c.length>0&&e.sortOn(r,c))},remove:function(t,n){n.$table.removeClass("hasSaveSort"),e.storage&&e.storage(t,"tablesorter-savesort","")}})}(jQuery),t.tablesorter}),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.tableCharter=window.Reuters.Graphics.tableCharter||{},window.Reuters.Graphics.tableCharter.Template=window.Reuters.Graphics.tableCharter.Template||{},window.Reuters.Graphics.tableCharter.Template.tabletemplate=function(t){var e,n="";Array.prototype.join;return n+='<div class="table-responsive">\n\t<table id="dataTable1" cellspacing="1" class="tablesorter table table-condensed">\n\t  <thead>\n\t    <tr>\n\t\t\t',t.self.headerDisplay.forEach(function(t){n+="\n\t\t\t\t<th>"+(null==(e=t)?"":e)+"</th>\n\t\t\t"}),n+="\n\t    </tr>\n\t  </thead>\n\t  <tbody>\n\t\t\t",t.data.forEach(function(r){n+='\n\t\t\t\t<tr role="row">\n\t\t\t\t\t',t.self.dataColumnHeaders.forEach(function(i,a){var o=r[i],s=t.self[t.self.formats[a]]||t.self.text;0==a?n+="\n\t\t\t\t\t\t\t<th>"+(null==(e=o)?"":e)+"</th>\n\t\t\t\t\t\t":(n+='\n\t\t\t\t\t\t\t<td class="',i==t.self.initialSort&&(n+="highlight "),n+=" "+(null==(e=i)?"":e)+'">'+(null==(e=s(o))?"":e)+"</td>\t\n\t\t\t\t\t\t\n\t\t\t\t\t")}),n+="\n\t\t\t\t</tr>\n\t\t\t"}),n+="\t  \n\t  </tbody>\n\t</table>\n</div>"}}(),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.SortableTable=Backbone.View.extend({data:void 0,dataURL:void 0,template:Reuters.Graphics.tableCharter.Template.tabletemplate,svgwidth:100,svgHeight:15,barScale:{},initialize:function(t){this.options=t;var e=this;_.each(t,function(t,n){e[n]=t}),this.dataURL.indexOf("csv")!=-1||_.isObject(this.dataURL)||d3.json(e.dataURL,function(t){e.parseData(t)}),this.dataURL.indexOf("csv")>-1&&d3.csv(e.dataURL,function(t){e.parseData(t)}),_.isObject(this.dataURL)&&setTimeout(function(){e.parseData(e.dataURL)},100)},parseData:function(t){var e=this;e.targetDiv=$(e.el).attr("id"),e.noDecimal=d3.format(",.0f"),e.oneDecimal=d3.format(",.1f"),e.twoDecimal=d3.format(",.2f"),e.dollar=d3.format("$,.2f"),e.percentOneDecimal=d3.format(",.1f%"),e.percentTwoDecimal=d3.format(",.2f%"),e.text=function(t){return t},e.data=new Reuters.Graphics.TableCollection(t),e.tableData=e.data.toJSON(),e.dataColumnHeaders=e.dataColumnHeaders||_.keys(t[0]),e.headerDisplay=e.headerDisplay||e.dataColumnHeaders,e.initialSort=e.initialSort||e.dataColumnHeaders[1],e.baseRender()},barFill:function(t){return cyan3},addBars:function(t){var e=this;e.barScale[t]=d3.scale.linear().range([0,e.svgWidth]).domain([Math.min(0,d3.min(e.tableData,function(e){return parseFloat(e[t])})),Math.max(0,d3.max(e.tableData,function(e){return parseFloat(e[t])}))]),d3.selectAll("#"+e.targetDiv+" ."+t).data(e.tableData).append("svg").attr("height",e.svgHeight).attr("width",e.svgWidth).append("rect").attr("height",e.svgHeight).attr("width",function(n){return Math.abs(e.barScale[t](parseFloat(n[t]))-e.barScale[t](0))}).attr("x",function(n){return e.barScale[t](Math.min(0,parseFloat(n[t])))}).style("fill",function(t){return e.barFill(t)})},baseRender:function(){var t=this;t.trigger("renderChart:start"),t.$el.html(t.template({data:t.tableData,self:t})),t.svgWidth=t.svgwidth,$(window).width()<600&&(t.svgWidth=100),t.chartcol&&t.chartcol.forEach(function(e){t.addBars(e)}),$.tablesorter.addParser({id:"toNumber",is:function(t){return!1},format:function(t){return Number(t.replace(/[^0-9\.]+/g,""))},type:"numeric"}),$("#"+t.targetDiv+" table").tablesorter({sortList:[[t.dataColumnHeaders.indexOf(t.initialSort),1]],headers:{0:{type:"text"}}}),t.tableRows=d3.selectAll("#"+t.targetDiv+" tbody tr"),t.tableCells=t.tableRows.selectAll("th, td"),d3.selectAll("#"+t.targetDiv+" thead tr th").on("click",function(e,n){var r=n;t.tableCells.classed("highlight",function(t,e){return e==r})}),$(window).on("resize",_.debounce(function(e){t.chartcol&&t.chartcol.forEach(function(e){t.update(e)})},100)),t.trigger("renderChart:end")},update:function(t){var e=this;e.trigger("update:start"),$(window).width()<600?e.svgWidth=100:e.svgWidth=e.svgwidth,e.barScale[t].range([0,e.svgWidth]),d3.selectAll("#"+e.targetDiv+" ."+t+" svg").transition().attr("width",e.svgWidth),d3.selectAll("#"+e.targetDiv+" ."+t+" svg rect").transition().attr("width",function(n){return Math.abs(e.barScale[t](parseFloat(n[t]))-e.barScale[t](0))}).attr("x",function(n){return e.barScale[t](Math.min(0,parseFloat(n[t])))}),e.trigger("update:emd")}}),Reuters.Graphics.TableModel=Backbone.Model.extend({initialize:function(t,e){},parse:function(t){}}),Reuters.Graphics.TableCollection=Backbone.Collection.extend({comparator:function(t){},model:Reuters.Graphics.TableModel,parse:function(t){return t}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3_queue={})}(this,function(t){"use strict";function e(){}function n(t){function n(){if(!u)try{r()}catch(t){c[p+f-1]&&s(t)}}function r(){for(;u=h&&f<t;){var e=p+f,n=c[e],r=n.length-1,i=n[r];n[r]=o(e),--h,++f,n=i.apply(null,n),c[e]&&(c[e]=n||a)}}function o(t){return function(e,r){c[t]&&(--f,++p,c[t]=null,null==g&&(null!=e?s(e):(d[t]=r,h?n():f||m(g,d))))}}function s(t){var e,n=c.length;for(g=t,d=void 0,h=NaN;--n>=0;)if((e=c[n])&&(c[n]=null,e.abort))try{e.abort()}catch(t){}f=NaN,m(g,d)}if(!(t>=1))throw new Error;var l,u,c=[],d=[],h=0,f=0,p=0,g=null,m=e;return l={defer:function(t){if("function"!=typeof t||m!==e)throw new Error;if(null!=g)return l;var r=i.call(arguments,1);return r.push(t),++h,c.push(r),n(),l},abort:function(){return null==g&&s(new Error("abort")),l},await:function(t){if("function"!=typeof t||m!==e)throw new Error;return m=function(e,n){t.apply(null,[e].concat(n))},f||m(g,d),l},awaitAll:function(t){if("function"!=typeof t||m!==e)throw new Error;return m=t,f||m(g,d),l}}}function r(t){return n(arguments.length?+t:1/0)}var i=[].slice,a={},o="2.0.2";t.version=o,t.queue=r}),function(){var t,e,n=[].slice;t=function(){return(Math.random().toString(36)+"00000000000000000").replace(/[^a-z]+/g,"").slice(0,5)},(e=function(t){return"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):this.textures=t()})(function(){return{circles:function(){var e,n,r,i,a,o,s,l,u;return s=20,e="",o=2,r=!1,i="#343434",l="#343434",u=0,a=t(),n=function(t){var n,c,d,h,f,p;if(c=t.append("defs").append("pattern").attr("id",a).attr("patternUnits","userSpaceOnUse").attr("width",s).attr("height",s),e&&c.append("rect").attr("width",s).attr("height",s).attr("fill",e),c.append("circle").attr("cx",s/2).attr("cy",s/2).attr("r",o).attr("fill",i).attr("stroke",l).attr("stroke-width",u),r){for(f=[[0,0],[0,s],[s,0],[s,s]],p=[],d=0,h=f.length;d<h;d++)n=f[d],p.push(c.append("circle").attr("cx",n[0]).attr("cy",n[1]).attr("r",o).attr("fill",i).attr("stroke",l).attr("stroke-width",u));return p}},n.heavier=function(t){return o=arguments.length&&t?2*o*t:2*o,n},n.lighter=function(t){return arguments.length?o=t?o/(2*t):o/2:o/=2,n},n.thinner=function(t){return s=arguments.length&&t?2*s*t:2*s,n},n.thicker=function(t){return arguments.length?s=t?s/(2*t):s/2:s/=2,n},n.background=function(t){return e=t,n},n.size=function(t){return s=t,n},n.complement=function(){return r=!0,n},n.radius=function(t){return o=t,n},n.fill=function(t){return i=t,n},n.stroke=function(t){return l=t,n},n.strokeWidth=function(t){return u=t,n},n.id=function(t){return arguments.length?(a=t,n):a},n.url=function(){return"url(#"+a+")"},n},lines:function(){var e,r,i,a,o,s,l,u,c;return l=20,c=2,u="#343434",r=t(),e="",a=["diagonal"],s="auto",o=function(t){switch(t){case"0/8":return function(t){return"M "+t/2+", 0 l 0, "+t}(l);case"vertical":return function(t){return"M "+t/2+", 0 l 0, "+t}(l);case"1/8":return function(t){return"M "+t/4+",0 l "+t/2+","+t+" M "+-t/4+",0 l "+t/2+","+t+"\nM "+3*t/4+",0 l "+t/2+","+t}(l);case"2/8":return function(t){return"M 0,"+t+" l "+t+","+-t+" M "+-t/4+","+t/4+" l "+t/2+","+-t/2+"\nM "+.75*t+","+5/4*t+" l "+t/2+","+-t/2}(l);case"diagonal":return function(t){return"M 0,"+t+" l "+t+","+-t+" M "+-t/4+","+t/4+" l "+t/2+","+-t/2+"\nM "+.75*t+","+5/4*t+" l "+t/2+","+-t/2}(l);case"3/8":return function(t){return"M 0,"+.75*t+" l "+t+","+-t/2+" M 0,"+t/4+" l "+t+","+-t/2+"\nM 0,"+5*t/4+" l "+t+","+-t/2}(l);case"4/8":return function(t){return"M 0,"+t/2+" l "+t+",0"}(l);case"horizontal":return function(t){return"M 0,"+t/2+" l "+t+",0"}(l);case"5/8":return function(t){return"M 0,"+-t/4+" l "+t+","+t/2+"M 0,"+t/4+" l "+t+","+t/2+"\nM 0,"+3*t/4+" l "+t+","+t/2}(l);case"6/8":return function(t){return"M 0,0 l "+t+","+t+" M "+-t/4+","+.75*t+" l "+t/2+","+t/2+"\nM "+3*t/4+","+-t/4+" l "+t/2+","+t/2}(l);case"7/8":return function(t){return"M "+-t/4+",0 l "+t/2+","+t+" M "+t/4+",0 l "+t/2+","+t+"\nM "+3*t/4+",0 l "+t/2+","+t}(l);default:return function(t){return"M "+t/2+", 0 l 0, "+t}(l)}},i=function(t){var n,i,d,h,f;for(n=t.append("defs").append("pattern").attr("id",r).attr("patternUnits","userSpaceOnUse").attr("width",l).attr("height",l),e&&n.append("rect").attr("width",l).attr("height",l).attr("fill",e),f=[],i=0,d=a.length;i<d;i++)h=a[i],f.push(n.append("path").attr("d",o(h)).attr("stroke-width",c).attr("shape-rendering",s).attr("stroke",u).attr("stroke-linecap","square"));return f},i.background=function(t){return e=t,i},i.shapeRendering=function(t){return s=t,i},i.heavier=function(t){return c=arguments.length&&t?2*c*t:2*c,i},i.lighter=function(t){return arguments.length?c=t?c/(2*t):c/2:c/=2,i},i.thinner=function(t){return l=arguments.length&&t?2*l*t:2*l,i},i.thicker=function(t){return arguments.length?l=t?l/(2*t):l/2:l/=2,i},i.orientation=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],a=t,i},i.size=function(t){return l=t,i},i.stroke=function(t){return u=t,i},i.strokeWidth=function(t){return c=t,i},i.id=function(t){return arguments.length?(r=t,i):r},i.url=function(){return"url(#"+r+")"},i},paths:function(){var e,n,r,i,a,o,s,l,u,c,d,h;return l=20,i=1,h=1,c=2,u="#343434",e="",n="",s="auto",r="transparent",a=void 0,d=function(t){switch(t){case"squares":return function(t){return"M "+t/4+" "+t/4+" l "+t/2+" 0 l 0 "+t/2+" l "+-t/2+" 0 Z"}(l);case"nylon":return function(t){return"M 0 "+t/4+" l "+t/4+" 0 l 0 "+-t/4+" M "+3*t/4+" "+t+" l 0 "+-t/4+"\nl "+t/4+" 0 M "+t/4+" "+t/2+" l 0 "+t/4+" l "+t/4+" 0 M "+t/2+" "+t/4+"\nl "+t/4+" 0 l 0 "+t/4}(l);case"waves":return function(t){return"M 0 "+t/2+" c "+t/8+" "+-t/4+" , "+3*t/8+" "+-t/4+" , "+t/2+" 0\nc "+t/8+" "+t/4+" , "+3*t/8+" "+t/4+" , "+t/2+" 0 M "+-t/2+" "+t/2+"\nc "+t/8+" "+t/4+" , "+3*t/8+" "+t/4+" , "+t/2+" 0 M "+t+" "+t/2+"\nc "+t/8+" "+-t/4+" , "+3*t/8+" "+-t/4+" , "+t/2+" 0"}(l);case"woven":return function(t){return"M "+t/4+","+t/4+"l"+t/2+","+t/2+"M"+3*t/4+","+t/4+"l"+t/2+","+-t/2+"\nM"+t/4+","+3*t/4+"l"+-t/2+","+t/2+"M"+3*t/4+","+5*t/4+"l"+t/2+","+-t/2+"\nM"+-t/4+","+t/4+"l"+t/2+","+-t/2}(l);case"crosses":return function(t){return"M "+t/4+","+t/4+"l"+t/2+","+t/2+"M"+t/4+","+3*t/4+"l"+t/2+","+-t/2}(l);case"caps":return function(t){return"M "+t/4+","+3*t/4+"l"+t/4+","+-t/2+"l"+t/4+","+t/2}(l);case"hexagons":return function(t){return h=3,i=Math.sqrt(3),"M "+t+",0 l "+t+",0 l "+t/2+","+t*Math.sqrt(3)/2+"\nl "+-t/2+","+t*Math.sqrt(3)/2+" l "+-t+",0\nl "+-t/2+","+-t*Math.sqrt(3)/2+" Z M 0,"+t*Math.sqrt(3)/2+"\nl "+t/2+",0 M "+3*t+","+t*Math.sqrt(3)/2+" l "+-t/2+",0"}(l);default:return t(l)}},o=function(o){var f,p;return p=d(n),a=t(),f=o.append("defs").append("pattern").attr("id",a).attr("patternUnits","userSpaceOnUse").attr("width",l*h).attr("height",l*i),e&&f.append("rect").attr("width",l*h).attr("height",l*i).attr("fill",e),f.append("path").attr("d",p).attr("fill",r).attr("stroke-width",c).attr("shape-rendering",s).attr("stroke",u).attr("stroke-linecap","square")},o.background=function(t){return e=t,o},o.shapeRendering=function(t){return s=t,o},o.heavier=function(t){return c=arguments.length&&t?2*c*t:2*c,o},o.lighter=function(t){return arguments.length?c=t?c/(2*t):c/2:c/=2,o},o.thinner=function(t){return l=arguments.length&&t?2*l*t:2*l,o},o.thicker=function(t){return arguments.length?l=t?l/(2*t):l/2:l/=2,o},o.d=function(t){return n=t,o},o.size=function(t){return l=t,o},o.stroke=function(t){return u=t,o},o.strokeWidth=function(t){return c=t,o},o.id=function(t){return arguments.length?(a=t,o):a},o.url=function(){return"url(#"+a+")"},o}}})}.call(this),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.mapCharter=window.Reuters.Graphics.mapCharter||{},window.Reuters.Graphics.mapCharter.Template=window.Reuters.Graphics.mapCharter.Template||{},window.Reuters.Graphics.mapCharter.Template.maplegend=function(t){var e,n="";Array.prototype.join;return n+='<div class="row">\n\t',t.self.colorRange.forEach(function(r,i){n+=' \n\t\t<div class="col-sm-3 col-xs-6 col-md-2">\n\t\t\t<div class="legendBoxwide" style="background-color:'+(null==(e=r)?"":e)+';"></div>\n\t\t\t<div class="map-legend-text">'+(null==(e=t.self.scaleDisplay[i])?"":e)+"</div>\n\t\t</div>\n\t"}),n+='\n\t\t<div class="col-sm-3 col-xs-6 col-md-2">\n\t\t\t<div class="legendBoxwide hash"></div>\n\t\t\t<div class="map-legend-text">'+(null==(e="Hash value")?"":e)+'</div>\n\t\t</div>\n\n</div>\n\n<div id="'+(null==(e=t.self.targetDiv)?"":e)+'graphic"></div>'}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.mapCharter=window.Reuters.Graphics.mapCharter||{},window.Reuters.Graphics.mapCharter.Template=window.Reuters.Graphics.mapCharter.Template||{},window.Reuters.Graphics.mapCharter.Template.maptooltip=function(t){var e,n="";return n+='<p class="tooltip-title">'+(null==(e=t.d.properties.STATE)?"":e)+'</p>\n<p class="tooltip-text">'+(null==(e="Percentage of counties without abortion providers")?"":e)+'</p>\n<p class="tooltip-display">'+(null==(e=t.d.properties.pctcountywithout)?"":e)+'%</p>\n<p class="tooltip-text">'+(null==(e="Number of abortion providers")?"":e)+'</p>\n<p class="tooltip-display"> '+(null==(e=t.d.properties.providers)?"":e)+"</p>"}}(),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.MapGenerator=Backbone.View.extend({data:void 0,mapData:void 0,projection:"mercator",legendTemplate:Reuters.Graphics.mapCharter.Template.maplegend,tooltipTemplate:Reuters.Graphics.mapCharter.Template.maptooltip,initialize:function(t){function e(t,e,r){var i=topojson.feature(r,r.objects[n.objectName]).features;i.forEach(function(t){e.forEach(function(e){t.id==e[n.dataIdProperty]&&_.each(e,function(e,n){t.properties[n]=e})})}),n.data=i,n.dataParse()}this.options=t;var n=this;_.each(t,function(t,e){n[e]=t}),d3_queue.queue().defer(d3.json,n.mapDataURL).defer(d3.json,n.mapShapeURL).await(e)},dataParse:function(){var t=this;"ordinal"==t.scaleType&&(t.color=d3.scale.ordinal().domain(t.colorDomain).range(t.colorRange),t.tooltipScale=d3.scale.ordinal().domain(t.colorDomain).range(t.scaleDisplay)),"threshold"==t.scaleType&&(t.color=d3.scale.threshold().domain(t.colorDomain).range(t.colorRange)),t.commaFormat=d3.format(",f"),t.pctFormat=d3.format(".1%"),t.mapRender()},geographyFill:function(t){var e=this,n=d3.rgb(e.color(t.properties[e.colorValue])).darker(.8);return e.t=textures.lines().size(7).stroke(n).background(e.color(t.properties[e.colorValue])),e.svg.call(e.t),e.hashValue?e.hashValue(t):e.color(t.properties[e.colorValue])},mapRender:function(){var t=this;t.trigger("renderChart:start"),t.targetDiv=$(t.el).attr("id"),t.graphicDiv=t.targetDiv+"graphic",t.width=$(t.el).width(),t.height=t.width*t.heightModifier,$(t.el).html(function(){return t.legendTemplate({data:t.data,self:t})}),t.svg=d3.select("#"+t.graphicDiv).append("svg").attr("width",t.width).attr("height",t.height),t.project=d3.geo.mercator().center(t.center).rotate(t.rotate).scale(t.width*t.scaleModifier).translate([t.width/2,t.height/2]).precision(0),t.path=d3.geo.path().projection(t.project),t.map=t.svg.append("g").attr("class","map"),t.map.selectAll("path").data(t.data).enter().append("path").attr("d",t.path).attr("class","geography").attr("fill",function(e){return t.geographyFill(e)}).attr("title",function(e){return t.tooltipTemplate({d:e,self:t})}),t.smallCountries=["Andorra","Jersey","Liechtenstein","Malta","Monaco","San Marino","Vatican City"],t.spikeLabels=["block 42","block 44","block 46","block 48","block 50","block 52"],t.mapLabels=t.map.append("g").attr("id","mapLabels").selectAll(".geographyLabel").data(t.data).enter().append("text").attr("class","geographyLabel").attr("transform",function(e){return"translate("+t.path.centroid(e)+")"}).attr("dx",function(e){return t.mapShapeURL.indexOf("us-simple")>-1?e.properties.dx:e.properties.dx?e.properties.dx*t.width:void 0}).attr("dy",function(e){return t.mapShapeURL.indexOf("us-simple")>-1?e.properties.dy:e.properties.dy?e.properties.dy*t.width:0}).text(function(e,n){if(!(t.spikeLabels.indexOf(e.properties.RefName)>-1))return"District of Columbia"==e.properties[t.labelColumn]?51==n?"D.C.":"":e.properties[t.labelColumn]}).classed("left-align",function(e){if(t.smallCountries.indexOf(e.properties.displaynam)>-1)return!0}),t.$(".geography").tooltip({html:!0,constraints:[{to:"window",attachment:"together",pin:!0}]}),t.trigger("renderChart:end"),$(window).on("resize",_.debounce(function(e){t.update()},100))},update:function(){var t=this;t.trigger("update:start"),t.width=$(t.el).width(),t.height=t.width*t.heightModifier,t.svg.transition().duration(1e3).attr("width",t.width).attr("height",t.height),t.project.scale(t.width*t.scaleModifier).translate([t.width/2,t.height/2]),t.path=d3.geo.path().projection(t.project),t.map.selectAll("path").transition().duration(1e3).attr("d",t.path),t.mapLabels.transition().duration(1e3).attr("transform",function(e){return"translate("+t.path.centroid(e)+")"}).attr("dx",function(e){return t.mapShapeURL.indexOf("us-simple")>-1?e.properties.dx:e.properties.dx?e.properties.dx*t.width:void 0}).attr("dy",function(e){return t.mapShapeURL.indexOf("us-simple")>-1?e.properties.dy:e.properties.dy?e.properties.dy*t.width:0}),t.trigger("update:end")}}),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.tableCharter=window.Reuters.Graphics.tableCharter||{},window.Reuters.Graphics.tableCharter.Template=window.Reuters.Graphics.tableCharter.Template||{},window.Reuters.Graphics.tableCharter.Template.tabletemplate=function(t){var e,n="";Array.prototype.join;return n+='<div class="table-responsive">\n\t<table id="dataTable1" cellspacing="1" class="tablesorter table table-condensed">\n\t  <thead>\n\t    <tr>\n\t\t\t',t.self.headerDisplay.forEach(function(t){n+="\n\t\t\t\t<th>"+(null==(e=t)?"":e)+"</th>\n\t\t\t"}),n+="\n\t    </tr>\n\t  </thead>\n\t  <tbody>\n\t\t\t",t.data.forEach(function(r){n+='\n\t\t\t\t<tr role="row">\n\t\t\t\t\t',t.self.dataColumnHeaders.forEach(function(i,a){var o=r[i],s=t.self[t.self.formats[a]]||t.self.text;0==a?n+="\n\t\t\t\t\t\t\t<th>"+(null==(e=o)?"":e)+"</th>\n\t\t\t\t\t\t":(n+='\n\t\t\t\t\t\t\t<td class="',i==t.self.initialSort&&(n+="highlight "),n+=" "+(null==(e=i)?"":e)+'">'+(null==(e=s(o))?"":e)+"</td>\t\n\t\t\t\t\t\t\n\t\t\t\t\t")}),n+="\n\t\t\t\t</tr>\n\t\t\t"}),n+="\t  \n\t  </tbody>\n\t</table>\n</div>"}}(),d3.sankey=function(){function t(){f.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),p.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=f[t.source]),"number"==typeof n&&(n=t.target=f[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})}function e(){f.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,l),d3.sum(t.targetLinks,l))})}function n(){for(var t,e=f,n=0;e.length;)t=[],e.forEach(function(e){e.x=n,e.dx=c,e.sourceLinks.forEach(function(e){t.indexOf(e.target)<0&&t.push(e.target)})}),e=t,++n;r(n),i((h[0]-c)/(n-1))}function r(t){f.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})}function i(t){f.forEach(function(e){e.x*=t})}function a(t){function e(){var t=d3.min(o,function(t){return(h[1]-(t.length-1)*d)/d3.sum(t,l)});o.forEach(function(e){e.forEach(function(e,n){e.y=n,e.dy=e.value*t})}),p.forEach(function(e){e.dy=e.value*t})}function n(t){function e(t){return s(t.source)*t.value}o.forEach(function(n,r){n.forEach(function(n){if(n.targetLinks.length){var r=d3.sum(n.targetLinks,e)/d3.sum(n.targetLinks,l);n.y+=(r-s(n))*t}})})}function r(t){function e(t){return s(t.target)*t.value}o.slice().reverse().forEach(function(n){n.forEach(function(n){if(n.sourceLinks.length){var r=d3.sum(n.sourceLinks,e)/d3.sum(n.sourceLinks,l);n.y+=(r-s(n))*t}})})}function i(){o.forEach(function(t){var e,n,r,i=0,o=t.length;for(t.sort(a),r=0;r<o;++r)e=t[r],n=i-e.y,n>0&&(e.y+=n),i=e.y+e.dy+d;if(n=i-d-h[1],n>0)for(i=e.y-=n,r=o-2;r>=0;--r)e=t[r],n=e.y+e.dy+d-i,n>0&&(e.y-=n),i=e.y})}function a(t,e){return t.y-e.y}var o=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(f).map(function(t){return t.values});e(),i();for(var u=1;t>0;--t)r(u*=.99),i(),n(u),i()}function o(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}f.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),f.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function s(t){return t.y+t.dy/2}function l(t){return t.value}var u={},c=24,d=8,h=[1,1],f=[],p=[];return u.nodeWidth=function(t){return arguments.length?(c=+t,u):c},u.nodePadding=function(t){return arguments.length?(d=+t,u):d},u.nodes=function(t){return arguments.length?(f=t,u):f},u.links=function(t){return arguments.length?(p=t,u):p},u.size=function(t){return arguments.length?(h=t,u):h},u.layout=function(r){return t(),e(),n(),a(r),o(),u},u.relayout=function(){return o(),u},u.link=function(){function t(t){var n=t.source.x+t.source.dx,r=t.target.x,i=d3.interpolateNumber(n,r),a=i(e),o=i(1-e),s=t.source.y+t.sy+t.dy/2,l=t.target.y+t.ty+t.dy/2;return"M"+n+","+s+"C"+a+","+s+" "+o+","+l+" "+r+","+l}var e=.5;return t.curvature=function(n){return arguments.length?(e=+n,t):e},t},u},sankeygen=Backbone.View.extend({data:void 0,dataURL:void 0,template:void 0,colorSource:void 0,countryDomain:void 0,colors:[red1,blue1,lime1,orange1,green1,blue4],margin:{left:100,right:100,top:20,bottom:80},leftLabel:"Origin",rightLabel:"Destination",linkTitles:function(t){var e=this;return'<p class="tooltip-title">'+t.source.name+" to "+t.target.name.replace(/1/g,"")+'</p><p class="tooltip-display">'+e.format(t.value)+"</p>"},nodeTitles:function(t){var e=this;return'<p class="tooltip-title">'+t.name+"</p><p class='tooltip-display'>"+e.format(t.value)+"</p>"},textLabels:function(t){return t.name.replace(/1/g,"")},initialize:function(t){this.options=t;var e=this;_.each(t,function(t,n){e[n]=t}),this.dataURL.indexOf("csv")!=-1||_.isObject(this.dataURL)||d3.json(e.dataURL,function(t){e.parseData(t)}),this.dataURL.indexOf("csv")>-1&&d3.csv(e.dataURL,function(t){e.parseData(t)}),_.isObject(this.dataURL)&&setTimeout(function(){e.parseData(e.dataURL)},100)},parseData:function(t){var e=this;e.data=t,e.fill=d3.scale.ordinal().range(e.colors),e.countryDomain&&e.fill.domain(e.countryDomain),e.formatNumber=d3.format(",.0f"),e.format=function(t){return e.formatNumber(t)+" "},e.graph={nodes:[],links:[]},e.data.forEach(function(t){e.graph.nodes.push({name:t.origin}),e.graph.nodes.push({name:t.target}),e.graph.links.push({source:t.origin,target:t.target,value:+t.value})}),e.graph.nodes=d3.keys(d3.nest().key(function(t){return t.name}).map(e.graph.nodes)),e.graph.links.forEach(function(t,n){e.graph.links[n].source=e.graph.nodes.indexOf(e.graph.links[n].source),e.graph.links[n].target=e.graph.nodes.indexOf(e.graph.links[n].target)}),e.graph.nodes.forEach(function(t,n){e.graph.nodes[n]={name:t}}),e.baseRender()},baseRender:function(){function t(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(e.height-t.dy,d3.event.y)))+")"),e.sankey.relayout(),e.link.attr("d",e.path)}var e=this;e.targetDiv=$(e.el).attr("id"),e.width=$(e.el).width(),e.height=2*e.width/3,e.leftLabel=d3.select(e.el).style("position","relative").append("p").attr("class","sankey-label left").style("width",e.margin.left-8+"px").html(e.leftLabel),e.leftLabel=d3.select(e.el).style("position","relative").append("p").attr("class","sankey-label right").style("width",e.margin.right-8+"px").html(e.rightLabel),e.svg=d3.select(e.el).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate("+e.margin.left+","+e.margin.top+")"),e.sankey=d3.sankey().nodeWidth(10).nodePadding(10).size([e.width-e.margin.left-e.margin.right,e.height-e.margin.top-e.margin.bottom]).nodes(e.graph.nodes).links(e.graph.links).layout(0),e.path=e.sankey.link(),e.link=e.svg.append("g").selectAll(".link").data(e.graph.links).enter().append("path").attr("class",function(t){return"link alt-link "+t.source.name+"-link"}).attr("d",e.path).sort(function(t,e){return t.dy+e.dy}).style("stroke-width",function(t){return Math.max(2,t.dy)}).style("stroke",function(t){return e.colorSource?e.fill(t.source.name):e.fill(t.target.name)}),e.link.attr("title",function(t){return e.linkTitles(t)}),e.node=e.svg.append("g").selectAll(".node").data(e.graph.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.behavior.drag().origin(function(t){return t}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",t)),e.node.append("rect").attr("height",function(t){return t.dy<2?2:t.dy}).attr("width",e.sankey.nodeWidth()).attr("class",function(t,e){return t.name+"-node"}).style("fill",function(t){return e.colorSource?t.sourceLinks[0]?e.fill(t.name):black:t.targetLinks[0]?e.fill(t.name):black}).attr("title",function(t){return e.nodeTitles(t)}).on("mouseover",function(t){var n=[];t.targetLinks.forEach(function(t){n.push(t.target.name)});var r=[];t.sourceLinks.forEach(function(t){r.push(t.source.name)}),e.link.style("stroke-opacity",function(t){return r.indexOf(t.source.name)>-1?.8:n.indexOf(t.target.name)>-1?.8:void 0;
})}).on("mouseout",function(t){e.link.style("stroke-opacity",.2)}),e.node.append("text").attr("x",20).attr("y",function(t){return"Malta"==t.name?t.dy/2+5:t.dy/2}).attr("dy",".35em").attr("text-anchor","start").attr("transform",null).attr("class","label-axis").text(function(t){return e.textLabels(t)}).filter(function(t){return t.x<e.width/2}).attr("x",0-e.sankey.nodeWidth()).attr("text-anchor","end"),e.$("rect").tooltip({html:!0,placement:"bottom"}),e.$(".link").tooltip({html:!0,placement:"bottom"}),$(window).on("resize",_.debounce(function(t){e.newWidth=e.$el.width(),e.newWidth==e.width||e.newWidth<=0||(e.width=e.newWidth,e.resize())},100))},resize:function(){var t=this;t.height=2*t.width/3,d3.select("#"+t.targetDiv+" svg").transition().attr("width",t.width).attr("height",t.height),t.svg.attr("transform","translate("+t.margin.left+","+t.margin.top+")"),t.sankey.nodeWidth(10).nodePadding(10).size([t.width-t.margin.left-t.margin.right,t.height-t.margin.top-t.margin.bottom]).nodes(t.graph.nodes).links(t.graph.links).layout(0),t.path=t.sankey.link(),d3.selectAll("#"+t.targetDiv+" .link").transition().attr("d",t.path).style("stroke-width",function(t){return Math.max(2,t.dy)}),d3.selectAll("#"+t.targetDiv+" rect").transition().attr("height",function(t){return t.dy<2?2:t.dy}).attr("width",t.sankey.nodeWidth()),d3.selectAll("#"+t.targetDiv+" .node").data(t.graph.nodes).transition().attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).attr("height",function(t){return t.dy}).attr("width",t.sankey.nodeWidth()),d3.selectAll("#"+t.targetDiv+" text").transition().attr("y",function(t){return"Malta"==t.name?t.dy/2+5:t.dy/2}).attr("text-anchor","start").attr("transform",null).text(function(e){return t.textLabels(e)}).filter(function(e){return e.x<t.width/2}).attr("x",0-t.sankey.nodeWidth()).attr("text-anchor","end")}}),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.sorterCharter=window.Reuters.Graphics.sorterCharter||{},window.Reuters.Graphics.sorterCharter.Template=window.Reuters.Graphics.sorterCharter.Template||{},window.Reuters.Graphics.sorterCharter.Template.SortingSquareLegend=function(t){var e,n="";Array.prototype.join;return n+='<div class="chart-nav">\n\t<div class="navContainer">\n        <div class="btn-group nav-options horizontal" data-toggle="buttons">\n            ',t.self.buttonColumns.forEach(function(r,i){n+='\n                <label dataid="'+(null==(e=r)?"":e)+'" class="btn btn-primary ',r==t.self.initialSort&&(n+="active"),n+=' smaller">\n                    <input type="radio" name="nav-options" autocomplete="off"> \n                    '+(null==(e=t.self.buttonText[i])?"":e)+"\n                </label>\n            "}),n+='\n        </div>    \t\t    \t\t\n\t</div>    \t\n</div>\n\n\n<div class="chart-holder">\n    ',t.self.colorField?(n+='\n    \t<div class="sorter-nested-legend">\n            ',t.self.colorDomain.forEach(function(r,i){n+='\n                <div class ="sorter-legend-item">\n                \t<div class = "sorter-legend-square " style="background-color:'+(null==(e=t.self.colorRange[i])?"":e)+';"></div>\n                \t<p class = "sorter-legend-text">'+(null==(e=r)?"":e)+"</p>\n                </div>\n            "}),n+='        \n    \t</div>\n        <div class="sorter-nested-chart" id="'+(null==(e=t.self.targetDiv)?"":e)+'Chart"></div>\n    '):n+='\n        <div class="" id="'+(null==(e=t.self.targetDiv)?"":e)+'Chart"></div>\n    ',n+="\n</div>\n\n\n\n"}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.sorterCharter=window.Reuters.Graphics.sorterCharter||{},window.Reuters.Graphics.sorterCharter.Template=window.Reuters.Graphics.sorterCharter.Template||{},window.Reuters.Graphics.sorterCharter.Template.SortingSquaresTooltip=function(t){var e,n="";Array.prototype.join;return n+='\n<p class="tooltip-title">'+(null==(e=t.d.name)?"":e)+'</p>\n<p class="tooltip-subhead">'+(null==(e=t.d.sentence)?"":e)+" ","life"!=t.d.sentence&&(n+=" years "),n+='</p>\n<p class="tooltip-text">'+(null==(e=t.d.terrorism)?"":e)+"</h2>"}}(),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.SortingSquares=Backbone.View.extend({data:void 0,dataURL:void 0,legendtemplate:Reuters.Graphics.sorterCharter.Template.SortingSquareLegend,tooltipTemplate:Reuters.Graphics.sorterCharter.Template.SortingSquaresTooltip,idField:"id",colorRange:[blue2,blue3,blue4,blue5],maxAcross:3,boxSize:25,margin:{left:1,top:35,right:1,bottom:0},totalHeightObj:{},initialize:function(t){var e=this;this.options=t,_.each(t,function(t,n){e[n]=t}),e.options.maxAcross||(e.options.maxAcross=e.maxAcross),this.dataURL.indexOf("csv")!=-1||_.isObject(this.dataURL)||d3.json(e.dataURL,function(t){e.parseData(t)}),this.dataURL.indexOf("csv")>-1&&d3.csv(e.dataURL,function(t){e.parseData(t)}),_.isObject(this.dataURL)&&setTimeout(function(){e.parseData(e.dataURL)},100)},parseData:function(t){var e=this;e.data=t,e.options.idField||e.data.forEach(function(t,e){t.id=e}),e.targetDiv=e.$el.attr("id"),e.chartId="#"+e.targetDiv+"Chart",e.parseDate=d3.time.format("%Y-%m-%d").parse,e.parseYear=d3.time.format("%m/%d/%Y").parse,e.formatDate=d3.time.format("%B %e, %Y"),e.formatYear=d3.time.format("%Y"),e.buttonText||(e.buttonText=e.buttonColumns),e.initialSort||(e.initialSort=e.buttonColumns[0]),e.category=e.initialSort,e.colorDomain||(e.colorDomain=_.uniq(_.pluck(t,e.colorField))),e.color=d3.scale.ordinal().domain(e.colorDomain).range(e.colorRange),e.$el.html(e.legendtemplate({self:e})),e.width=$(e.chartId).width()-e.margin.left-e.margin.right,e.render()},setPositions:function(t){var e=this;e.trigger("setPositions:start"),e.data.sort(function(t,n){var r=_.countBy(e.data,e.category);if(r[t[e.category]]>r[n[e.category]])return-1;if(r[t[e.category]]<r[n[e.category]])return 1;if(r[t[e.category]]==r[n[e.category]]){if(e.colorDomain.indexOf(t[e.colorField])>e.colorDomain.indexOf(n[e.colorField]))return 1;if(e.colorDomain.indexOf(t[e.colorField])<e.colorDomain.indexOf(n[e.colorField]))return-1}return 0}),$(window).width()<600?e.maxAcross=1:e.maxAcross=e.options.maxAcross;var n=d3.nest().key(function(e){return e[t]}).map(e.data),r=d3.keys(n);if(e.categoryLength=r.length,e.sectionLength=e.width/e.categoryLength,e.boxesPerRow=Math.floor(e.sectionLength/e.boxSize)-1,e.labels=[],e.categoryLength>e.maxAcross){e.sectionLength=e.width/e.maxAcross,e.boxesPerRow=Math.floor(e.sectionLength/e.boxSize)-1,e.rows=Math.ceil(e.categoryLength/e.maxAcross);var i=0;_.each(n,function(t,e){t.length>i&&(i=t.length)});var a=Math.ceil(i/e.boxesPerRow),o=a*e.boxSize+2*e.boxSize;e.height=o*e.rows,r.forEach(function(t,r){var i=Math.floor(r%e.maxAcross),a=Math.floor(r/e.maxAcross),o={name:t+" ("+n[t].length+")"};n[t].forEach(function(t,n){t.smallpositionX=Math.floor(n%e.boxesPerRow)*e.boxSize,t.smallpositionY=Math.floor(n/e.boxesPerRow)*e.boxSize,t.masterpositionX=e.width*i/e.maxAcross,t.masterpositionY=e.height*a/e.rows,t.x=Math.floor(n%e.boxesPerRow)*e.boxSize+e.width*i/e.maxAcross,t.y=Math.floor(n/e.boxesPerRow)*e.boxSize+e.height*a/e.rows,o.x=e.width*i/e.maxAcross,o.y=e.height*a/e.rows-e.boxSize/2}),e.labels.push(o)});var s=0;e.data.forEach(function(t){t.y>s&&(s=t.y)}),e.height=s+e.boxSize,e.totalHeightObj[t]=e.height}else{r.forEach(function(t,r){var i={name:t+" ("+n[t].length+")"};n[t].forEach(function(t,n){t.smallpositionX=Math.floor(n%e.boxesPerRow)*e.boxSize,t.smallpositionY=Math.floor(n/e.boxesPerRow)*e.boxSize,t.masterpositionX=e.width*r/e.categoryLength,t.masterpositionY=0,t.x=Math.floor(n%e.boxesPerRow)*e.boxSize+e.width*r/e.categoryLength,t.y=Math.floor(n/e.boxesPerRow)*e.boxSize,i.x=e.width*r/e.categoryLength,i.y=0-e.boxSize/2}),e.labels.push(i)});var s=0;e.data.forEach(function(t){t.y>s&&(s=t.y)}),e.height=s+e.boxSize,e.totalHeightObj[t]=e.height}e.trigger("setPositions:end")},render:function(){var t=this;t.trigger("renderChart:start"),t.buttonColumns.forEach(function(e){t.setPositions(e)}),t.setPositions(t.category),t.masterHeight=0,_.each(t.totalHeightObj,function(e,n){e>t.masterHeight&&(t.masterHeight=e)}),t.svg=d3.select(t.chartId).append("svg").attr("width",t.width+t.margin.left+t.margin.right).attr("height",t.masterHeight+t.margin.top+t.margin.top).append("g").attr("transform","translate("+t.margin.left+","+t.margin.top+")"),t.labels=t.svg.selectAll(".back-labels").data(t.labels,function(t){return t.name}).enter().append("text").attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).text(function(t){return t.name}).attr("class","back-labels"),t.addRects=t.svg.selectAll("rect").data(t.data,function(e){return e[t.idField]}).enter().append("rect").attr("width",t.boxSize).attr("height",t.boxSize).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("fill",function(e){return t.color(e[t.colorField])}).attr("class","sortingSquares").attr("title",function(e){return t.tooltipTemplate({d:e})}),t.$(".sortingSquares").tooltip({html:!0,placement:"bottom"}),$(window).on("resize",_.debounce(function(e){t.newWidth=t.$(t.chartId).width()-t.margin.left-t.margin.right,t.newWidth==t.width||t.newWidth<=0||(t.width=t.newWidth,t.update())},100)),t.$(".chart-nav .btn").on("click",function(){t.category=$(this).attr("dataid"),t.update()}),t.trigger("renderChart:end")},update:function(){var t=this;t.trigger("update:start"),t.buttonColumns.forEach(function(e){t.setPositions(e)}),t.masterHeight=0,_.each(t.totalHeightObj,function(e,n){e>t.masterHeight&&(t.masterHeight=e)}),t.setPositions(t.category),d3.select(t.chartId).selectAll("svg").transition().duration(1e3).attr("width",t.width+t.margin.left+t.margin.right).attr("height",t.masterHeight+t.margin.top+t.margin.top),t.addRects.transition().duration(1e3).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}),t.svg.selectAll(".back-labels").data(t.labels,function(t){return t.name}).enter().append("text").attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).text(function(t){return t.name}).attr("class","back-labels").style("opacity",0),t.svg.selectAll(".back-labels").transition().duration(1e3).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).text(function(t){return t.name}).style("opacity",1),t.svg.selectAll(".back-labels").data(t.labels,function(t){return t.name}).exit().transition().duration(1e3).style("opacity",0).remove(),t.trigger("update:end")}}),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.pollCharter=window.Reuters.Graphics.pollCharter||{},window.Reuters.Graphics.pollCharter.Template=window.Reuters.Graphics.pollCharter.Template||{},window.Reuters.Graphics.pollCharter.Template.pollBarTip=function(t){function e(){r+=i.call(arguments,"")}var n,r="",i=Array.prototype.join,a=d3.format(",.0f");if(r+=t.data[0].quarters?"\n\t<div class='dateTip'> "+(null==(n=t.data[0].quarters)?"":n)+" "+(null==(n=t.data[0].displayDate)?"":n)+" </div>\n":t.data[0].displayDate?"\n\t<div class='dateTip'> "+(null==(n=t.data[0].displayDate)?"":n)+" </div>\n":"\n\t<div class='dateTip'> "+(null==(n=t.data[0].category)?"":n)+" </div>\n",r+="\n\n",t.data.forEach(function(i,o){r+='\n\t\t<div class="tipHolder">\n\t\t\t',t.data.length>1&&(r+="\n\t\t\t\t<div class='circleTip "+(null==(n=t.self.chartType)?"":n)+"' style='background-color:",e(t.self.colorScale(i.name)),r+=";'></div>\n\t\t\t\t<div class='nameTip'>"+(null==(n=i.displayName)?"":n)+"</div>\n\t\t\t"),r+="\n\t\t\t<div class='valueTip'>\n\t\t\t\t","stackPercent"==t.self.chartLayout?(r+="\n\t\t\t\t\t",e(t.self.tipNumbFormat(i.y1Percent-i.y0Percent)),r+="\t\t\t\t\n\t\t\t\t"):(r+="\n\t\t\t\t\t",e(t.self.tipNumbFormat(i[t.self.dataType])),r+="\t\t\t\t\n\t\t\t\t"),r+='\n\t\t\t</div>\n\t\n\t\t</div>\n\t\t<div class="valueTip">'+(null==(n="Credibility Interval:")?"":n)+" "+(null==(n=i[t.self.moeColumn])?"":n)+" "+(null==(n="pct. pts.")?"":n)+"<br> "+(null==(n="Sample size:")?"":n)+" "+(null==(n=a(i[t.self.sampleColumn]))?"":n)+"</div>\n"}),r+="\t\n",t.self.timelineData){var o=t.self.timelineDataGrouped[t.self.timelineDate(t.data[0].date)];e(t.self.timelineTemplate({data:o,self:t.self}))}return r+="\t"}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.pollCharter=window.Reuters.Graphics.pollCharter||{},window.Reuters.Graphics.pollCharter.Template=window.Reuters.Graphics.pollCharter.Template||{},window.Reuters.Graphics.pollCharter.Template.pollchart=function(t){var e,n="";Array.prototype.join;return n+='\n<div class="page-legend d-flex  flex-wrap mb-2">\n\t',t.self.legendItemsArray.forEach(function(r,i){r!=t.self.centerCol&&(n+='\t\n\t    <div class="legendItems-poll d-flex flex-row ',0==i&&(n+="flex-last"),n+="\">\n\t        <div class='poll-legend-bar' style='background-color:"+(null==(e=t.self.colors[r])?"":e)+';\'></div>\n\t        <div class="poll-legend-text">'+(null==(e=t.self.columnNames[r])?"":e)+"</div>\n\t    </div>\t\t\n\t")}),n+="\n</div>\n\n\n",t.data.forEach(function(r){n+='\n\t<div class="row">\t\t\n\t\t<div class="col-lg-2">\n\t\t\t<p class="poll-chart-label">'+(null==(e=r.category)?"":e)+' </p>\n\t\t\t<p class="poll-chart-sample">'+(null==(e="Sample size:")?"":e)+" <strong>"+(null==(e=t.self.numbFormat(r.sample))?"":e)+'</strong> <br class="hidden-md-down">'+(null==(e="Credibility interval:")?"":e)+" <strong> "+(null==(e=r.ci)?"":e)+" "+(null==(e="pct. pts.")?"":e)+'</strong></p>\t\t\t\n\t\t</div>\n\t\t<div class="col-lg-10">\n\t\t    <div id="'+(null==(e=t.self.targetDiv)?"":e)+"-"+(null==(e=r.id)?"":e)+'" class="chart"></div>\n\t\t</div>\n\t</div>\n'}),n+="\n "}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.pollCharter=window.Reuters.Graphics.pollCharter||{},window.Reuters.Graphics.pollCharter.Template=window.Reuters.Graphics.pollCharter.Template||{},window.Reuters.Graphics.pollCharter.Template.polltip=function(t){function e(){r+=i.call(arguments,"")}var n,r="",i=Array.prototype.join;if(r+=t.data[0].quarters?"\n\t<div class='dateTip'> "+(null==(n=t.data[0].quarters)?"":n)+" "+(null==(n=t.data[0].displayDate)?"":n)+" </div>\n":t.data[0].displayDate?"\n\t<div class='dateTip'> "+(null==(n=t.data[0].displayDate)?"":n)+" </div>\n":"\n\t<div class='dateTip'> "+(null==(n=t.data[0].category)?"":n)+" </div>\n",r+="\n\n",t.data.forEach(function(i,a){i.name!=t.self.centerCol&&(r+='\n\t\t<div class="tipHolder">\n\t\t\t',t.data.length>1&&(r+="\n\t\t\t\t<div class='circleTip "+(null==(n=t.self.chartType)?"":n)+"' style='background-color:",e(t.self.colorScale(i.name)),r+=";'></div>\n\t\t\t\t<div class='nameTip'>"+(null==(n=i.displayName)?"":n)+"</div>\n\t\t\t"),r+="\n\t\t\t<div class='valueTip'>\n\t\t\t\t","stackPercent"==t.self.chartLayout?(r+="\n\t\t\t\t\t",e(t.self.tipNumbFormat(i.y1Percent-i.y0Percent)),r+="\t\t\t\t\n\t\t\t\t"):(r+="\n\t\t\t\t\t",e(t.self.tipNumbFormat(i[t.self.dataType])),r+="\t\t\t\t\n\t\t\t\t"),r+="\n\t\t\t</div>\n\t\n\t\t</div>\n")}),r+="\t\n",t.self.timelineData){var a=t.self.timelineDataGrouped[t.self.timelineDate(t.data[0].date)];e(t.self.timelineTemplate({data:a,self:t.self}))}return r+="\t"}}(),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.stackPollCharter=Backbone.View.extend({template:Reuters.Graphics.pollCharter.Template.pollchart,tipTemplate:Reuters.Graphics.pollCharter.Template.polltip,numbFormat:d3.format(",.0f"),initialize:function(t){var e=this;this.options=t,_.each(t,function(t,n){e[n]=t}),e.loadData()},loadData:function(){var t=this;this.dataURL.indexOf("csv")!=-1||_.isObject(this.dataURL)||d3.json(t.dataURL,function(e){t.parseData(e)}),this.dataURL.indexOf("csv")>-1&&d3.csv(t.dataURL,function(e){t.parseData(e)}),_.isObject(this.dataURL)&&setTimeout(function(){t.parseData(t.dataURL)},100)},parseData:function(t){var e=this;e.data=t,e.baseRender()},baseRender:function(){var t=this;if(t.legendItemsArray=[t.rightBarCol,t.centerCol,t.leftBarCol],_.isArray(t.color)){var e={};t.legendItemsArray.forEach(function(n,r){e[n]=t.color[r]}),t.color=e}t.targetDiv=t.$el.attr("id"),t.$el.html(t.template({data:t.data,self:t})),t.data.forEach(function(e,n){var r={el:"#"+t.targetDiv+"-"+e.id,dataURL:[e],height:40,colors:[orange4,"none",purple4,red3,yellow3],YTickLabel:[[gettext(""),"%"]],yScaleVals:[0,25,50,75,100],groupSort:t.legendItemsArray,hasLegend:!1,horizontal:!0,chartLayout:"stackTotal",yScaleMax:function(){return 100},margin:{top:5,right:18,bottom:15,left:3},tipTemplate:t.tipTemplate};_.each(t.options,function(t,e){"el"!=e&&"dataURL"!=e&&(r[e]=t)}),console.log(r.dataURL),Reuters.Graphics[e.id]=new Reuters.Graphics.BarChart(r),Reuters.Graphics[e.id].on("renderChart:end",function(r){t.addMoe(this),t.addNumbers(this),n!=t.data.length-1&&$("#"+t.targetDiv+"-"+e.id+" .x.axis text").css({display:"none"})}),Reuters.Graphics[e.id].on("update:start",function(e){t.updateMoe(this),t.updateNumbers(this)})})},addNumbers:function(t){var e=this;t.barChart.selectAll(".poll-bar-label").data(function(t){return t.values}).enter().append("text").attr("class","poll-bar-label").attr(t.widthOrHeight,function(e,n,r){return t.barWidth(e,n,r)}).attr("y",function(e,n,r){var i=t.barWidth(e,n,r);return t.xBarPosition(e,n,r)+i/2+5}).attr("x",function(n){return n.name==e.rightBarCol?t.width-5:5}).text(function(n){if(n.name!=e.centerCol)return t.numbFormat(n[t.dataType])+"%"}).attr("text-anchor",function(t){if(t.name==e.rightBarCol)return"end"})},updateNumbers:function(t){var e=this;t.barChart.selectAll(".poll-bar-label").transition().duration(1e3).attr(t.widthOrHeight,function(e,n,r){return t.barWidth(e,n,r)}).attr("y",function(e,n,r){var i=t.barWidth(e,n,r);return t.xBarPosition(e,n,r)+i/2+5}).attr("x",function(n){return n.name==e.rightBarCol?t.width-5:5})},updateMoe:function(t){var e=this;t.addMoe.transition().duration(1e3).attr("height",function(e,n,r){return t.barWidth(e,n,r)}).attr("y",function(e,n,r){return t.xBarPosition(e,n,r)}).attr("x",function(n){return n.name==e.leftBarCol?t.scales.y(n.y1Total)-t.scales.y(n[e.moeColumn]):t.scales.y(n.y0Total)-t.scales.y(n[e.moeColumn])}).attr("width",function(n){return t.scales.y(2*n[e.moeColumn])})},addMoe:function(t){var e=this;t.t=textures.lines().size(8).orientation("2/8").stroke("#C3C4C6"),t.tother=textures.lines().size(8).orientation("6/8").stroke("#C3C4C6"),t.svg.call(t.t),t.svg.call(t.tother),t.moeChart=t.svg.selectAll(".moeChart").data(t.jsonData,function(t){return t.name}).enter().append("g").attr("clip-path","url(#clip"+t.targetDiv+")").attr("class","moeChart"),t.addMoe=t.moeChart.selectAll(".moebar").data(function(t){return t.values}).enter().append("rect").attr("class","moebar").style("fill",function(n){return n.name==e.centerCol?"none":n.name==e.leftBarCol?t.tother.url():t.t.url()}).attr("height",function(e,n,r){return t.barWidth(e,n,r)}).attr("y",function(e,n,r){return t.xBarPosition(e,n,r)}).attr("x",function(n){return n.name==e.leftBarCol?t.scales.y(n.y1Total)-t.scales.y(n[e.moeColumn]):t.scales.y(n.y0Total)-t.scales.y(n[e.moeColumn])}).attr("width",function(n){return 2*t.scales.y(n[e.moeColumn])})}}),Reuters.Graphics.pollLineCharter=Backbone.View.extend({initialize:function(t){var e=this;this.options=t,_.each(t,function(t,n){e[n]=t}),e.baseRender()},baseRender:function(){var t=this;t.poll_chart_obj=new Reuters.Graphics.LineChart(t.options),t.poll_chart_obj.on("renderChart:end",function(t){var e=this;e.area.y0(function(t){return e.scales.y(t[e.dataType]-parseFloat(t[e.moeColumn]))}).y1(function(t){return e.scales.y(t[e.dataType]+parseFloat(t[e.moeColumn]))})})}}),Reuters.Graphics.pollBarChart=Backbone.View.extend({initialize:function(t){var e=this;this.options=t,_.each(t,function(t,n){e[n]=t}),e.baseRender()},baseRender:function(){var t=this,e=t.options;console.log(Reuters.Graphics.pollCharter),e.tipTemplate||(e.tipTemplate=Reuters.Graphics.pollCharter.Template.pollBarTip),t.poll_chart_obj=new Reuters.Graphics.BarChart(t.options),t.poll_chart_obj.on("renderChart:end",function(e){t.addMoe(this)}),t.poll_chart_obj.on("update:end",function(e){t.updateMoe(this)})},updateMoe:function(t){var e=this;t.addMoe.transition().duration(1e3).attr("height",function(e,n,r){return t.barWidth(e,n,r)}).attr("y",function(e,n,r){return t.xBarPosition(e,n,r)}).attr("x",function(n){return t.scales.y(n[t.dataType])-t.scales.y(n[e.moeColumn])/2}).attr("width",function(n){return t.scales.y(n[e.moeColumn])})},addMoe:function(t){var e=this;t.addMoe=t.barChart.selectAll(".moebar").data(function(t){return t.values}).enter().append("rect").attr("class","moebar").style("fill",function(e){var n=d3.rgb(t.colorScale(e.name)).darker(.8);return t.t=textures.lines().size(5).orientation("2/8").stroke(n),t.svg.call(t.t),t.t.url()}).attr("height",function(e,n,r){return t.barWidth(e,n,r)}).attr("y",function(e,n,r){return t.xBarPosition(e,n,r)}).attr("x",function(n){return t.scales.y(n[t.dataType])-t.scales.y(n[e.moeColumn])/2}).attr("width",function(n){return t.scales.y(n[e.moeColumn])})}}),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.markup=window.Reuters.Graphics.markup||{},window.Reuters.Graphics.markup.Template=window.Reuters.Graphics.markup.Template||{},window.Reuters.Graphics.markup.Template.MarkupTooltip=function(t){var e,n="";Array.prototype.join;return n+='<p class="tooltip-text">'+(null==(e=t.comment)?"":e)+"</p>\n",t.data.byline&&(n+='\n\t<p class="graphic-source mt-1">'+(null==(e=t.data.byline)?"":e)+"\n\t\t",t.data.title&&(n+="\n\t\t\t- "+(null==(e=t.data.title)?"":e)+"\n\t\t"),n+="\t\t\n\t</p>\n\n"),n+="\n",t.data.link&&(n+=' \n\t<p class="link mt-1">CLICK FOR RELATED STORY</p>\n\n'),n+="\t\t\n"}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.markup=window.Reuters.Graphics.markup||{},window.Reuters.Graphics.markup.Template=window.Reuters.Graphics.markup.Template||{},window.Reuters.Graphics.markup.Template.markup=function(t){var e,n="";return n+='\n<p class="markup" id="markup'+(null==(e=t.index)?"":e)+'">'+(null==(e=t.data.text)?"":e)+"</p>\n\n "}}(),function(){window.Reuters=window.Reuters||{},window.Reuters.Graphics=window.Reuters.Graphics||{},window.Reuters.Graphics.markup=window.Reuters.Graphics.markup||{},window.Reuters.Graphics.markup.Template=window.Reuters.Graphics.markup.Template||{},window.Reuters.Graphics.markup.Template.markupLayout=function(t){var e,n="";return n+='<div class="container">\n    <div class="row justify-content-center">\n        <div class="col-8">\n            <h1 class="graphic-title">'+(null==(e="The title for a graphic")?"":e)+'</h1>\n            <p class="graphic-subhead">'+(null==(e="The subhead for the graphic The subhead for the graphic The subhead for the graphic The subhead for the graphic The subhead for the graphic The subhead for the graphic")?"":e)+' </p>\n\n\t\t\t<img class="img-fluid" src="images/pic.png">\n\t\t\t<small class="text-muted d-block">This is the cpation for the photo, who is this guy, what is he trying to tell you?  why are his hands so big? M Weberman/REUTERS</small>\t\t\t\n        </div>\n    </div>\n\t\n    <div class="row justify-content-center">\n        <div class="col-sm-8">\n\t\t\t<hr class="mt-1">    \n\t\t\t<div class="text-label mb-2 mt-1">President Trumps speech to some people</div>\n            <div id="reutersGraphic-chart1" class="reuters-chart"></div>\n        </div>\n\n\n    </div>\n        \n    <div class="row justify-content-center">            \n        <div class="col-8 mt-1">\n            <p class="graphic-source">'+(null==(e="Sources: XXXXX YYYYY")?"":e)+"<br />"+(null==(e="By First Name Last Name | REUTERS GRAPHICS")?"":e)+"</p>\n        </div>\n    </div>\n</div>\n"}}(),Reuters=Reuters||{},Reuters.Graphics=Reuters.Graphics||{},Reuters.Graphics.MarkUp=Backbone.View.extend({margin:{top:40,right:20,bottom:30,left:40},dateFormat:d3.time.format("%b %Y"),tipTemplate:Reuters.Graphics.markup.Template.MarkupTooltip,template:Reuters.Graphics.markup.Template.markup,initialize:function(t){var e=this;this.options=t,_.each(t,function(t,n){e[n]=t}),this.dataURL.indexOf("csv")!=-1||_.isObject(this.dataURL)||d3.json(e.dataURL,function(t){e.parseData(t)}),this.dataURL.indexOf("csv")>-1&&d3.csv(e.dataURL,function(t){e.parseData(t)}),_.isObject(this.dataURL)&&setTimeout(function(){e.parseData(e.dataURL)},100)},parseData:function(t){var e=this;e.data=t,e.render()},render:function(){var t=this;return t.trigger("baseRender:start"),$("html").addClass("markup-holder"),t.data.forEach(function(e,n){if(t.$el.append(t.template({data:e,index:n})),e.comment){var r=e.comment.split("<br>");t.$("#markup"+n).find(".highlight").each(function(n){d3.select(this).attr("title",t.tipTemplate({comment:r[n],data:e})).on("click",function(t){e.link&&window.open(e.link)})})}}),t.$(".highlight").tooltip({html:!0,placement:"bottom"}),t.trigger("baseRender:end"),this},update:function(){}});